<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-02-22 Tue 17:51 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>REDIS 性能测试</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">REDIS 性能测试</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgedbd300">redis-benchmark</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgedbd300" class="outline-2">
<h2 id="orgedbd300">redis-benchmark</h2>
<div class="outline-text-2" id="text-orgedbd300">
<p>
在前面下载的 redis 中会有 redis-benchmark 这个可执行文件，它是官方自带的压力测试工具。<br>
</p>

<p>
首先介绍它的一些可选参数：<br>
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-right">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">选项</th>
<th scope="col" class="org-left">描述</th>
<th scope="col" class="org-right">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">-h</td>
<td class="org-left">指定服务器主机名</td>
<td class="org-right">127.0.0.1</td>
</tr>

<tr>
<td class="org-left">-p</td>
<td class="org-left">指定服务器端口</td>
<td class="org-right">6379</td>
</tr>

<tr>
<td class="org-left">-s</td>
<td class="org-left">指定服务器 socket</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">-c</td>
<td class="org-left">指定并发连接数</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">-n</td>
<td class="org-left">指定请求数</td>
<td class="org-right">10000</td>
</tr>

<tr>
<td class="org-left">-d</td>
<td class="org-left">以字节的形式指定 SET/GET 值的数据大小</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">-k</td>
<td class="org-left">1=keep alive 0=reconnect</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">-r</td>
<td class="org-left">SET/GET/INCR 使用随机 key, SADD 使用随机值</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">-P</td>
<td class="org-left">通过管道传输 &lt;numreq&gt; 请求</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">-q</td>
<td class="org-left">强制退出 redis。仅显示 query/sec 值</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#x2013;csv</td>
<td class="org-left">以 CSV 格式输出</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">-l</td>
<td class="org-left">生成循环，永久执行测试</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">-t</td>
<td class="org-left">仅运行以逗号分隔的测试命令列表。</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">-I</td>
<td class="org-left">Idle 模式。仅打开 N 个 idle 连接并等待。</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
在运行 redis-benchmark 可能会遇到这个报错 <a href="Wrong Error from server: MISCONF Redis is configured to save RDB snapshots.html">Error from server: MISCONF Redis is configured to save RDB snapshots</a>，正常情况下的运行结果如下：<br>
</p>

<img src="./images/redis-benchmark测试.png"/>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-01-26 19:01 Wed</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-02-22 Tue 17:51</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
