<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-10-08 Fri 20:35 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VIM快捷键</title>
<meta name="generator" content="Org mode">
<meta name="author" content="haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">VIM快捷键</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org42536a8">启动vim</a>
<ul>
<li><a href="#org1107147">打开文件</a></li>
<li><a href="#orga707eb0">多文件</a></li>
<li><a href="#org1bc67fc">分屏编辑</a></li>
<li><a href="#org7b86725">编辑特殊文件</a></li>
</ul>
</li>
<li><a href="#org79350dc">普通模式</a>
<ul>
<li><a href="#orgbae616c">光标移动</a>
<ul>
<li><a href="#orgf462ff2">翻屏</a></li>
</ul>
</li>
<li><a href="#org5876dcd">标签页</a></li>
<li><a href="#org059700c">标记</a></li>
<li><a href="#org3f1146a">折叠</a></li>
<li><a href="#orga5d16fb">缓冲区</a></li>
<li><a href="#org80b5fdb">寄存器</a></li>
<li><a href="#orgc7537b7">排版</a></li>
<li><a href="#orgbb146e9">正则表达式</a></li>
<li><a href="#org966bb70">剪切复制</a></li>
<li><a href="#org92ed76e">分屏</a>
<ul>
<li><a href="#org072d8a1">水平分割</a></li>
<li><a href="#orgae5c408">垂直分割</a></li>
<li><a href="#org1b7aac1">关闭子窗口</a></li>
<li><a href="#org1ea4acd">调整窗口大小</a></li>
<li><a href="#orgedd2685">切换和移动窗口</a></li>
</ul>
</li>
<li><a href="#orgbc7c85d">查找与替换</a>
<ul>
<li><a href="#orgf20c04c">查找</a></li>
<li><a href="#orgd5a86e8">替换</a></li>
</ul>
</li>
<li><a href="#org4260000">快速编辑</a>
<ul>
<li><a href="#org69a7ce0">改变大小写</a></li>
<li><a href="#org1c14738">替换（normal模式）</a></li>
<li><a href="#orgb7c8e62">撤消与重做（normal模式）</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orge344c75">可视模式</a></li>
<li><a href="#org460173c">插入模式</a>
<ul>
<li><a href="#org5a76957">基本插入</a></li>
<li><a href="#org3685214">改写插入</a></li>
</ul>
</li>
<li><a href="#org650464a">命令模式</a>
<ul>
<li><a href="#org615d161">命令行模式下的快捷键</a></li>
<li><a href="#orge634bd1">执行外部命令</a></li>
</ul>
</li>
<li><a href="#org7750744">宏</a></li>
<li><a href="#orgba48085">其它</a>
<ul>
<li><a href="#orgcac3e01">编程</a>
<ul>
<li><a href="#org2efcb3a">跳转</a></li>
<li><a href="#orgd9f9bbc">编译</a></li>
<li><a href="#org3196d97">快速修改窗口</a></li>
<li><a href="#org14e425d">自动补全</a></li>
</ul>
</li>
<li><a href="#org65e7c35">变量列表</a>
<ul>
<li><a href="#orgcb212f7">ctags</a></li>
<li><a href="#org5ea6871">cscope</a></li>
<li><a href="#org7e91d6b">gtags</a></li>
</ul>
</li>
<li><a href="#orgbc458b8">拼写检查</a></li>
<li><a href="#orgf858128">文件的编码</a></li>
<li><a href="#org5277f34">文件格式</a></li>
<li><a href="#org36efcaa">工作目录</a></li>
<li><a href="#orga6b1cef">在线帮助</a></li>
<li><a href="#org18e6e23">tips</a></li>
<li><a href="#org821a8d3">快捷键（收集中）</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org42536a8" class="outline-2">
<h2 id="org42536a8">启动vim</h2>
<div class="outline-text-2" id="text-org42536a8">
</div>
<div id="outline-container-org1107147" class="outline-3">
<h3 id="org1107147">打开文件</h3>
<div class="outline-text-3" id="text-org1107147">
<ul class="org-ul">
<li>vim -c cmd file -&#x2014; 在打开文件前，先执行指定的命令<br></li>
<li>vim -r file -&#x2014; 恢复上次异常退出的文件<br></li>
<li>vim -R file -&#x2014; 以只读的方式打开文件，但可以强制保存<br></li>
<li>vim -M file -&#x2014; 以只读的方式打开文件，不可以强制保存<br></li>
<li>vim -y num file -&#x2014; 将编辑窗口的大小设为num行<br></li>
<li>vim + file -&#x2014; 从文件的末尾开始<br></li>
<li>vim +num file -&#x2014; 从第num行开始<br></li>
<li>vim +/string file -&#x2014; 打开file，并将光标停留在第一个找到的string上<br></li>
<li>vim -&#x2014; remote file -&#x2014; 用已有的vim进程打开指定的文件 如果你不想启用多个vim会话，这个很有用但要注意， 如果你用vim，会寻找名叫VIM的服务器如果你已经有一个gvim在运行了， 你可以用gvim -&#x2014; remote file在已有的gvim中打开文件<br></li>
<li>vim -p files  -&#x2014; 打开多个文件，每个文件占用一个标签页<br></li>
<li>:e file -&#x2014; 关闭当前编辑的文件，并开启新的文件 如果对当前文件的修改未保存，vi会警告<br></li>
<li>:e! file -&#x2014; 放弃对当前文件的修改，编辑新的文件<br></li>
<li>:e + file -&#x2014; 开始新的文件，并从文件尾开始编辑<br></li>
<li>:e + n file -&#x2014; 开始新的文件，并从第n行开始编辑<br></li>
<li>:e new -&#x2014; 编译一个未命名的新文档(CTRL-W n)<br></li>
<li>:e  -&#x2014; 重新加载当前文档<br></li>
<li>:e! -&#x2014; 重新加载当前文档，并丢弃已做的改动<br></li>
<li>:e# 或 ctrl+^ -&#x2014; 回到刚才编辑的文件，很实用<br></li>
<li>:f 或 ctrl+g  -&#x2014; 显示文档名，是否修改，和光标位置<br></li>
<li>:f filename   -&#x2014; 改变编辑的文件名，这时再保存相当于另存为<br></li>
<li>gf  -&#x2014; 打开以光标所在字符串为文件名的文件<br></li>
<li>:w  -&#x2014; 保存修改<br></li>
<li>:n1,n2w filename -&#x2014; 选择性保存从某n1行到另n2行的内容<br></li>
<li>:wq -&#x2014; 保存并退出<br></li>
<li>ZZ  -&#x2014; 保存并退出<br></li>
<li>:x  -&#x2014; 保存并退出<br></li>
<li>:q[uit] ——退出当前窗口(CTRL-W q或CTRL-W CTRL-Q)<br></li>
<li>:saveas newfilename -&#x2014; 另存为<br></li>
<li>:browse e -&#x2014; 会打开一个文件浏览器让你选择要编辑的文件 如果是终端中，则会打开netrw的文件浏览窗口 如果是gvim，则会打开一个图形界面的浏览窗口 实际上:browse后可以跟任何编辑文档的命令，如sp等 用browse打开的起始目录可以由browsedir来设置 -&#x2014;<br></li>
<li>:set browsedir=last -&#x2014; 用上次访问过的目录（默认）<br></li>
<li>:set browsedir=buffer -&#x2014; 用当前文件所在目录<br></li>
<li>:set browsedir=current -&#x2014; 用当前工作目录<br></li>
<li>:Sex -&#x2014; 水平分割一个窗口，浏览文件系统<br></li>
<li>:Vex -&#x2014; 垂直分割一个窗口，浏览文件系统<br></li>
</ul>
</div>
</div>
<div id="outline-container-orga707eb0" class="outline-3">
<h3 id="orga707eb0">多文件</h3>
<div class="outline-text-3" id="text-orga707eb0">
<p>
我们可以一次打开多个文件，如<br>
</p>
<ul class="org-ul">
<li>:next(:n)编辑下一个文件<br></li>
<li>:2n 编辑下2个文件<br></li>
<li>:previous或:N编辑上一个文件<br></li>
<li>:wnext，保存当前文件，并编辑下一个文件<br></li>
<li>:wprevious，保存当前文件，并编辑上一个文件<br></li>
<li>:args 显示文件列表<br></li>
<li>:n filenames或:args filenames 指定新的文件列表<br></li>
</ul>
</div>
</div>
<div id="outline-container-org1bc67fc" class="outline-3">
<h3 id="org1bc67fc">分屏编辑</h3>
<div class="outline-text-3" id="text-org1bc67fc">
<ul class="org-ul">
<li>vim -o file1 file2 -&#x2014; 水平分割窗口，同时打开file1和file2<br></li>
<li>vim -O file1 file2 -&#x2014; 垂直分割窗口，同时打开file1和file2<br></li>
</ul>
</div>
</div>
<div id="outline-container-org7b86725" class="outline-3">
<h3 id="org7b86725">编辑特殊文件</h3>
<div class="outline-text-3" id="text-org7b86725">
<ul class="org-ul">
<li>vim -x file -&#x2014; 开始编辑一个加密的文件<br></li>
<li>:X -&#x2014; 为当前文件设置密码<br></li>
<li>:set key= -&#x2014; 去除文件的密码<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org79350dc" class="outline-2">
<h2 id="org79350dc">普通模式</h2>
<div class="outline-text-2" id="text-org79350dc">
</div>
<div id="outline-container-orgbae616c" class="outline-3">
<h3 id="orgbae616c">光标移动</h3>
<div class="outline-text-3" id="text-orgbae616c">
<ul class="org-ul">
<li>h  -&#x2014; 左移一个字符<br></li>
<li>l  -&#x2014; 右移一个字符<br></li>
<li>j  -&#x2014; 下移一行<br></li>
<li>k  -&#x2014; 上移一行<br></li>
<li>gj -&#x2014; 移动到一段内的下一行<br></li>
<li>gk -&#x2014; 移动到一段内的上一行<br></li>
<li>+  -&#x2014; 把光标移至下一行第一个非空白字符<br></li>
<li>&lt;Enter&gt; -&#x2014; 把光标移至下一行第一个非空白字符<br></li>
<li>-  -&#x2014; 把光标移至上一行第一个非空白字符<br></li>
<li>w  -&#x2014; 前移一个单词，光标停在下一个单词开头<br></li>
<li>W  -&#x2014; 移动下一个单词开头，但忽略一些标点<br></li>
<li>e  -&#x2014; 前移一个单词，光标停在下一个单词末尾<br></li>
<li>E  -&#x2014; 移动到下一个单词末尾，如果词尾有标点，则移动到标点<br></li>
<li>b  -&#x2014; 后移一个单词，光标停在上一个单词开头<br></li>
<li>B  -&#x2014; 移动到上一个单词开头，忽略一些标点<br></li>
<li>ge -&#x2014; 后移一个单词，光标停在上一个单词末尾<br></li>
<li>gE -&#x2014; 同 ge ，不过‘单词’包含单词相邻的标点<br></li>
<li>(  -&#x2014; 前移1句<br></li>
<li>)  -&#x2014; 后移1句<br></li>
<li>{  -&#x2014; 前移1段<br></li>
<li>}  -&#x2014; 后移1段<br></li>
<li>fc -&#x2014; 把光标移到同一行的下一个c字符处<br></li>
<li>Fc -&#x2014; 把光标移到同一行的上一个c字符处<br></li>
<li>tc -&#x2014; 把光标移到同一行的下一个c字符前<br></li>
<li>Tc -&#x2014; 把光标移到同一行的上一个c字符后<br></li>
<li>.  -&#x2014; 配合f &amp; t使用，重复一次<br></li>
<li>,  -&#x2014; 配合f &amp; t使用，反向重复一次<br></li>
<li>0  -&#x2014; 移动到行首<br></li>
<li>g0 -&#x2014; 移到光标所在屏幕行行首<br></li>
<li>^  -&#x2014; 移动到本行第一个非空白字符<br></li>
<li>g^ -&#x2014; 同 ^ ，但是移动到当前屏幕行第一个非空字符处<br></li>
<li>$  -&#x2014; 移动到行尾<br></li>
<li>g$ -&#x2014; 移动光标所在屏幕行行尾<br></li>
<li>n| -&#x2014; 把光标移到递n列上<br></li>
<li>nG -&#x2014; 到文件第n行<br></li>
<li>:n&lt;CR&gt; -&#x2014; 移动到第n行<br></li>
<li>:$&lt;CR&gt; -&#x2014; 移动到最后一行<br></li>
<li>H  -&#x2014; 把光标移到屏幕最顶端一行<br></li>
<li>M  -&#x2014; 把光标移到屏幕中间一行<br></li>
<li>L  -&#x2014; 把光标移到屏幕最底端一行<br></li>
<li>gg -&#x2014; 到文件头部<br></li>
<li>G  -&#x2014; 到文件尾部<br></li>
</ul>
</div>
<div id="outline-container-orgf462ff2" class="outline-4">
<h4 id="orgf462ff2">翻屏</h4>
<div class="outline-text-4" id="text-orgf462ff2">
<ul class="org-ul">
<li>ctrl + f -&#x2014; 下翻一屏<br></li>
<li>ctrl + b -&#x2014; 上翻一屏<br></li>
<li>ctrl + d -&#x2014; 下翻半屏<br></li>
<li>ctrl + u -&#x2014; 上翻半屏<br></li>
<li>ctrl + e -&#x2014; 向下滚动一行<br></li>
<li>ctrl + y -&#x2014; 向上滚动一行<br></li>
<li>n% -&#x2014; 到文件n%的位置<br></li>
<li>zz -&#x2014; 将当前行移动到屏幕中央<br></li>
<li>zt -&#x2014; 将当前行移动到屏幕顶端<br></li>
<li>zb -&#x2014; 将当前行移动到屏幕底端<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org5876dcd" class="outline-3">
<h3 id="org5876dcd">标签页</h3>
<div class="outline-text-3" id="text-org5876dcd">
<ul class="org-ul">
<li>gf -&#x2014; 在新的标签页里打开光标下路径指定的文件<br></li>
<li>:tabe tabnew -&#x2014; 如果加文件名，就在新的标签中打开这个文件， 否则打开一个空缓冲区<br></li>
<li>:tabn -&#x2014; 切换到下一个标签Control + PageDown，也可以<br></li>
<li>:tabp -&#x2014; 切换到上一个标签Control + PageUp，也可以<br></li>
<li>[n]gt -&#x2014; 切换到下一个标签如果前面加了 n ， 就切换到第n个标签第一个标签的序号就是1<br></li>
<li>:tab split  -&#x2014; 将当前缓冲区的内容在新页签中打开<br></li>
<li>:tabc[lose] -&#x2014; 关闭当前的标签页<br></li>
<li>:tabo[nly]  -&#x2014; 关闭其它的标签页<br></li>
<li>:tabs -&#x2014; 列出所有的标签页和它们包含的窗口<br></li>
<li>:tabm[ove] [N] -&#x2014; 移动标签页，移动到第N个标签页之后<br></li>
<li>:tabe filename -&#x2014; 用标签页打开文件<br></li>
<li>:tabnew filename -&#x2014; 用标签页打开文件<br></li>
<li>:tab split -&#x2014; 用标签页打开当期编辑的文件<br></li>
<li>:tabf filename** -&#x2014; 用标签页打开与通配符匹配的一个文件<br></li>
<li>:tabs -&#x2014; 显示所有标签页，&gt; 指示当前页，+ 显示修改未保存<br></li>
<li>:tabc -&#x2014; 关闭当前标签页，功能等同于:q<br></li>
<li>:tabo -&#x2014; 关闭所有标签页<br></li>
<li>:tabn -&#x2014; 跳转后一个标签页<br></li>
<li>:tabp -&#x2014; 跳转前一个标签页<br></li>
<li>:tabfirst -&#x2014; 跳转第一个标签页<br></li>
<li>:tabr -&#x2014; 跳转第一个标签页<br></li>
<li>:tablast -&#x2014; 跳转最后一个标签页<br></li>
<li>:tabm 0/1/2 -&#x2014; 将当前标签页移动到第1/2/3个页面位置<br></li>
<li>:tabdo -&#x2014; 对多个标签页同时执行命令，如:tabdo %s/aaa/bbb/g<br></li>
</ul>
</div>
</div>
<div id="outline-container-org059700c" class="outline-3">
<h3 id="org059700c">标记</h3>
<div class="outline-text-3" id="text-org059700c">
<ul class="org-ul">
<li>m{a-z} -&#x2014; 标记光标所在位置，局部标记，只用于当前文件<br></li>
<li>m{A-Z} -&#x2014; 标记光标所在位置，全局标记标记之后，退出Vim， 重新启动，标记仍然有效<br></li>
<li>`{a-z} -&#x2014; 移动到标记位置<br></li>
<li>'{a-z} -&#x2014; 移动到标记行的行首<br></li>
<li>`{0-9} -&#x2014; 回到上[2-10]次关闭vim时最后离开的位置<br></li>
<li>`` -&#x2014; 移动到上次编辑的位置''也可以，不过``精确到列，而''精确到行<br></li>
<li>`" -&#x2014; 移动到上次离开的地方<br></li>
<li>`. -&#x2014; 移动到最后改动的地方<br></li>
<li>:marks 显示所有标记<br></li>
<li>:delmarks a b -&#x2014; 删除标记a和b<br></li>
<li>:delmarks a-c -&#x2014; 删除标记a、b和c<br></li>
<li>:delmarks a c-f -&#x2014; 删除标记a、c、d、e、f<br></li>
<li>:delmarks! -&#x2014; 删除当前缓冲区的所有标记<br></li>
<li>:help mark-motions<br></li>
</ul>
</div>
</div>
<div id="outline-container-org3f1146a" class="outline-3">
<h3 id="org3f1146a">折叠</h3>
<div class="outline-text-3" id="text-org3f1146a">
<ul class="org-ul">
<li>zf -&#x2014; 创建折叠<br>
-zf56G -&#x2014; 从当前行起到56行的代码折叠<br>
-10zf+ -&#x2014; 从当前行起到后10行的代码折叠<br>
-zf10 -&#x2014;  从当前行起到后10行的代码折叠<br>
-10zf -&#x2014;  从当前行起到后10行的代码折叠<br>
-10zf- -&#x2014; 从当前行起到之前10行的代码折叠<br>
-zf10 -&#x2014;  从当前行起到之前10行的代码折叠<br>
-在括号处zf% -&#x2014; 从当前行起到对应的匹配的括号上去（（），{}，[]，&lt;&gt;等&gt;<br>
<ul class="org-ul">
<li>(仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效)<br>
<ul class="org-ul">
<li>zd -&#x2014; 删除 (delete) 在光标下的折叠<br></li>
<li>zD -&#x2014; 循环删除 (Delete) 光标下的折叠，即嵌套删除折叠<br></li>
<li>zE -&#x2014; 除去 (Eliminate) 窗口里“所有”的折叠<br></li>
</ul></li>
</ul></li>
<li>zfap -&#x2014; 折叠光标所在的段<br></li>
<li>zd -&#x2014; 删除当前折叠<br></li>
<li>zD -&#x2014; 删除当前折叠<br></li>
<li>za -&#x2014; 打开/关闭当前折叠<br></li>
<li>zO -&#x2014; 对所在范围内所有嵌套的折叠点展开<br></li>
<li>zC -&#x2014; 对所在范围内所有嵌套的折叠点进行折叠<br></li>
<li>zi -&#x2014; enable/disable fold<br></li>
<li>zc -&#x2014; 关闭当前打开的折叠<br></li>
<li>zo -&#x2014; 展开当前的折叠<br></li>
<li>zm -&#x2014; 关闭所有折叠<br></li>
<li>zM -&#x2014; 关闭所有折叠<br></li>
<li>zr -&#x2014; 展开所有折叠<br></li>
<li>zR -&#x2014; 展开所有折叠及其嵌套的折叠<br></li>
<li>zE -&#x2014; 删除所有折叠<br></li>
<li>zj -&#x2014; 移动至下一个折叠<br></li>
<li>zk -&#x2014; 移动至上一个折叠<br></li>
<li>zn -&#x2014; 禁用折叠<br></li>
<li>zN -&#x2014; 启用折叠<br></li>
<li>[z -&#x2014; 到当前打开的折叠的开始处<br></li>
<li>]z -&#x2014; 到当前打开的折叠的末尾处<br></li>
</ul>
</div>
</div>
<div id="outline-container-orga5d16fb" class="outline-3">
<h3 id="orga5d16fb">缓冲区</h3>
<div class="outline-text-3" id="text-orga5d16fb">
<ul class="org-ul">
<li>:buffers -&#x2014; 显示缓冲区列表<br></li>
<li>:ls      -&#x2014; 显示缓冲区列表<br></li>
<li>:files   -&#x2014; 显示缓冲区列表<br></li>
<li>:bn -&#x2014; 下一个缓冲区<br></li>
<li>:bp -&#x2014; 上一个缓冲区<br></li>
<li>:bl -&#x2014; 最后一个缓冲区<br></li>
<li>:b[n] -&#x2014; 切换到第n个缓冲区<br></li>
<li>:[n]b -&#x2014; 切换到第n个缓冲区<br></li>
<li>:nbw[ipeout] -&#x2014; 彻底删除第n个缓冲区<br></li>
<li>:nbd[elete]  -&#x2014; 删除第n个缓冲区，并未真正删除，还在unlisted列表中<br></li>
<li>:ba[ll]  -&#x2014; 把所有的缓冲区在当前页中打开，每个缓冲区占一个窗口<br></li>
<li>ctrl + 6 -&#x2014; 在最近两个缓冲区间切换<br></li>
</ul>
</div>
</div>
<div id="outline-container-org80b5fdb" class="outline-3">
<h3 id="org80b5fdb">寄存器</h3>
<div class="outline-text-3" id="text-org80b5fdb">
<ul class="org-ul">
<li>a-z -&#x2014; 都可以用作寄存器名"ayy把当前行的内容放入a寄存器<br></li>
<li>A-Z -&#x2014; 用大写字母索引寄存器，可以在寄存器中追加内容 如"Ayy把当前行的内容追加到a寄存器中<br></li>
<li>:reg -&#x2014; 显示所有寄存器的内容<br></li>
<li>"" -&#x2014; 不加寄存器索引时，默认使用的寄存器<br></li>
<li>"** -&#x2014; 当前选择缓冲区，"*yy把当前行的内容放入当前选择缓冲区<br></li>
<li>"+ -&#x2014; 系统剪贴板"+yy把当前行的内容放入系统剪贴板<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgc7537b7" class="outline-3">
<h3 id="orgc7537b7">排版</h3>
<div class="outline-text-3" id="text-orgc7537b7">
<ul class="org-ul">
<li>&lt;&lt; -&#x2014; 向左缩进一个shiftwidth<br></li>
<li>&gt;&gt; -&#x2014; 向右缩进一个shiftwidth<br></li>
<li>n&gt;&gt; -&#x2014; 格式缩进<br></li>
<li>n&lt;&lt; -&#x2014; 格式缩进<br></li>
<li>=   -&#x2014; 格式缩进<br></li>
<li>n=  -&#x2014; 格式缩进<br></li>
<li>:ce[nter] -&#x2014; 本行文字居中<br></li>
<li>:le[ft]   -&#x2014; 本行文字靠左<br></li>
<li>:ri[ght]  -&#x2014; 本行文字靠右<br></li>
<li>J  -&#x2014; 拼接当前行和下一行<br></li>
<li>gJ -&#x2014; 同J不过合并后不留空格<br></li>
<li>gq   -&#x2014; 对选中的文字重排，即对过长的文字进行断行<br></li>
<li>gqq  -&#x2014; 重排当前行<br></li>
<li>gqnq -&#x2014; 重排n行<br></li>
<li>gqap -&#x2014; 重排当前段<br></li>
<li>gqnj -&#x2014; 重排当前行和下面n行<br></li>
<li>gqQ  -&#x2014; 重排当前段对文章末尾<br></li>
<li>gqnap -&#x2014; 重排n段<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgbb146e9" class="outline-3">
<h3 id="orgbb146e9">正则表达式</h3>
<div class="outline-text-3" id="text-orgbb146e9">
<ul class="org-ul">
<li>高级的查找替换就要用到正则表达式<br></li>

<li>\d -&#x2014; 表示十进制数（我猜的）<br></li>
<li>\s -&#x2014; 表示空格<br></li>
<li>&sect; -&#x2014; 非空字符<br></li>
<li>\a -&#x2014; 英文字母<br></li>
<li>\| -&#x2014; 表示 或<br></li>
<li>\. -&#x2014; 表示.<br></li>
<li>{m,n} -&#x2014; 表示m到n个字符这要和 \s与\a等连用，如 \a\{m,n} 表示m 到n个英文字母<br></li>
<li>{m,} -&#x2014; 表示m到无限多个字符<br></li>
<li><b>*</b> -&#x2014; 当前目录下的所有子目录<br></li>
<li>:help pattern<br></li>
</ul>
</div>
</div>
<div id="outline-container-org966bb70" class="outline-3">
<h3 id="org966bb70">剪切复制</h3>
<div class="outline-text-3" id="text-org966bb70">
<ul class="org-ul">
<li>剪切<br>
<ul class="org-ul">
<li>[n]x -&#x2014; 剪切光标右边n个字符，相当于d[n]l<br></li>
<li>[n]X -&#x2014; 剪切光标左边n个字符，相当于d[n]h<br></li>
</ul></li>
<li>复制<br>
<ul class="org-ul">
<li>y  -&#x2014; 复制在可视模式下选中的文本<br></li>
<li>yy -&#x2014; 复制整行<br></li>
<li>Y  -&#x2014; 复制整行<br></li>
<li>yG -&#x2014; 复制光标所在行到最后一行<br></li>
<li>y0 -&#x2014; 复制光标所在的那个字符到该行行首<br></li>
<li>y$ -&#x2014; 复制光标所在的那个字符到该行行尾<br></li>
<li>y$ -&#x2014; 从光标当前位置复制到行尾<br></li>
<li>y0 -&#x2014; 从光标当前位置复制到行首<br></li>
<li>y[n]w -&#x2014; 复制一(n)个词<br></li>
<li>y[n]l -&#x2014; 复制光标右边1(n)个字符<br></li>
<li>y[n]h -&#x2014; 复制光标左边1(n)个字符<br></li>
<li>nyy -&#x2014; n为数字复制光标所在的向下n行<br></li>
<li>ygg -&#x2014; 复制游标所在行到第一行<br></li>
<li>:m,ny&lt;CR&gt; -&#x2014; 复制m行到n行的内容<br></li>
<li>yaw -&#x2014; 复制一个词<br></li>
<li>yas -&#x2014; 复制一个句子<br></li>
</ul></li>
<li>删除<br>
<ul class="org-ul">
<li>d -&#x2014; 删除（剪切）在可视模式下选中的文本<br></li>
<li>dd -&#x2014; 删除游标所在的那一整行(常用)<br></li>
<li>nd -&#x2014; n为数字删除光标所在的向下n行<br></li>
<li>d1 -&#x2014; 删除光标所在到第一行的所有数据<br></li>
<li>dG -&#x2014; 删除光标所在到最后一行的所有数据<br></li>
<li>d$ -&#x2014; 删除游标所在处，到该行的最后一个字符<br></li>
<li>d0 -&#x2014; 那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符<br></li>
<li>d$ -&#x2014; 删除（剪切）当前位置到行尾的内容<br></li>
<li>D  -&#x2014; 删除（剪切）当前位置到行尾的内容<br></li>
<li>d[n]w -&#x2014; 删除（剪切）1(n)个单词<br></li>
<li>d[n]l -&#x2014; 删除（剪切）光标右边1(n)个字符<br></li>
<li>d[n]h -&#x2014; 删除（剪切）光标左边1(n)个字符<br></li>
<li>d0 -&#x2014; 删除（剪切）当前位置到行首的内容<br></li>
<li>[n] dd -&#x2014; 删除（剪切）1(n)行<br></li>
<li>:m,nd&lt;CR&gt; 剪切m行到n行的内容<br></li>
<li>dgg -&#x2014; 剪切光标以上的所有行<br></li>
<li>dG -&#x2014; 剪切光标以下的所有行<br></li>
<li>daw -&#x2014; 剪切一个词<br></li>
<li>das -&#x2014; 剪切一个句子<br></li>
<li>d/f&lt;CR&gt; -&#x2014; 这是一个比较高级的组合命令，它将删除当前位置 到下一个f之间的内容<br></li>
</ul></li>
<li>粘贴<br>
<ul class="org-ul">
<li>p -&#x2014; 在光标之后粘贴<br></li>
<li>P -&#x2014; 在光标之前粘贴<br></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org92ed76e" class="outline-3">
<h3 id="org92ed76e">分屏</h3>
<div class="outline-text-3" id="text-org92ed76e">
</div>
<div id="outline-container-org072d8a1" class="outline-4">
<h4 id="org072d8a1">水平分割</h4>
<div class="outline-text-4" id="text-org072d8a1">
<ul class="org-ul">
<li>把当前窗水平分割成两个窗口<br>
<ol class="org-ol">
<li>:split(:sp)<br></li>
<li>&lt;C-w&gt;s<br></li>
<li>&lt;C-w&gt;&lt;C-s&gt;<br></li>
</ol></li>
<li>:split filename -&#x2014; 水平分割窗口<br></li>
<li>:nsp[lit] -&#x2014; 水平分割出一个n行高的窗口<br></li>
<li>:[N]new   -&#x2014; 水平分割出一个N行高的窗口，并编辑一个新文件 (CTRL-W n或 CTRL-W CTRL-N)<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgae5c408" class="outline-4">
<h4 id="orgae5c408">垂直分割</h4>
<div class="outline-text-4" id="text-orgae5c408">
<ul class="org-ul">
<li>:vsp[lit]  -&#x2014; 把当前窗口分割成水平分布的两个窗口 (CTRL-W v或CTRL CTRL-V)<br></li>
<li>:[N]vne[w] -&#x2014; 垂直分割出一个新窗口<br></li>
<li>:vertical 水平分割的命令 -&#x2014; 相应的垂直分割<br></li>
</ul>
</div>
</div>
<div id="outline-container-org1b7aac1" class="outline-4">
<h4 id="org1b7aac1">关闭子窗口</h4>
<div class="outline-text-4" id="text-org1b7aac1">
<ul class="org-ul">
<li>:qall -&#x2014; 关闭所有窗口，退出vim<br></li>
<li>:wall -&#x2014; 保存所有修改过的窗口<br></li>
<li>:only -&#x2014; 只保留当前窗口，关闭其它窗口<br></li>
<li>&lt;C-w&gt;o -&#x2014; 只保留当前窗口，关闭其它窗口<br></li>
<li>:close -&#x2014; 关闭当前窗口，CTRL-W c能实现同样的功能<br></li>
</ul>
</div>
</div>
<div id="outline-container-org1ea4acd" class="outline-4">
<h4 id="org1ea4acd">调整窗口大小</h4>
<div class="outline-text-4" id="text-org1ea4acd">
<ul class="org-ul">
<li>:resize n -&#x2014; 当前窗口n行高<br></li>
<li>&lt;C-w&gt; + -&#x2014; 当前窗口增高一行也可以用n增高n行<br></li>
<li>&lt;C-w&gt; - -&#x2014; 当前窗口减小一行也可以用n减小n行<br></li>
<li>&lt;C-w&gt; _ -&#x2014; 当前窗口扩展到尽可能的大也可以用n设定行数<br></li>
<li>&lt;C-w&gt; = -&#x2014; 所有窗口同样高度<br></li>
<li>n &lt;C-w&gt; -&#x2014; 当前窗口的高度设定为n行<br></li>
<li>&lt;C-w&gt; &lt; -&#x2014; 当前窗口减少一列也可以用n减少n列<br></li>
<li>&lt;C-w&gt; &gt; -&#x2014; 当前窗口增宽一列也可以用n增宽n列<br></li>
<li>&lt;C-w&gt; | -&#x2014; 当前窗口尽可能的宽也可以用n设定列数<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgedd2685" class="outline-4">
<h4 id="orgedd2685">切换和移动窗口</h4>
<div class="outline-text-4" id="text-orgedd2685">
<ul class="org-ul">
<li>&lt;C-w&gt;&lt;C-w&gt; -&#x2014; 切换到下一个窗口或者是&lt;C-w&gt; w<br></li>
<li>&lt;C-w&gt; p -&#x2014; 切换到前一个窗口<br></li>
<li>&lt;C-w&gt; h -&#x2014; 切换到左窗口<br></li>
<li>&lt;C-w&gt; j -&#x2014; 切换到下窗口<br></li>
<li>&lt;C-w&gt; k -&#x2014; 切换到上窗口<br></li>
<li>&lt;C-w&gt; l -&#x2014; 切换到右窗口<br></li>
<li>&lt;C-w&gt; t -&#x2014; 切换到最上面的窗口<br></li>
<li>&lt;C-w&gt; b -&#x2014; 切换到最下面的窗口<br></li>
<li>&lt;C-w&gt; H -&#x2014; 将当前窗口移动到最左<br></li>
<li>&lt;C-w&gt; J -&#x2014; 将当前窗口移动到最下<br></li>
<li>&lt;C-w&gt; K -&#x2014; 将当前窗口移动到最上<br></li>
<li>&lt;C-w&gt; L -&#x2014; 将当前窗口移动到最右<br></li>
<li>&lt;C-w&gt; r -&#x2014; 旋转窗口的位置<br></li>
<li>&lt;C-w&gt; T -&#x2014; 将当前的窗口移动到新的标签页上<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgbc7c85d" class="outline-3">
<h3 id="orgbc7c85d">查找与替换</h3>
<div class="outline-text-3" id="text-orgbc7c85d">
</div>
<div id="outline-container-orgf20c04c" class="outline-4">
<h4 id="orgf20c04c">查找</h4>
<div class="outline-text-4" id="text-orgf20c04c">
<ul class="org-ul">
<li>/something -&#x2014; 在后面的文本中查找something<br></li>
<li>?something -&#x2014; 在前面的文本中查找something<br></li>
<li>/pattern/+number -&#x2014; 将光标停在包含pattern的行后面第number行上<br></li>
<li><i>pattern</i>-number -&#x2014; 将光标停在包含pattern的行前面第number行上<br></li>
<li>n -&#x2014; 向后查找下一个<br></li>
<li>N -&#x2014; 向前查找下一个<br></li>
<li>可以用grep或vimgrep查找一个模式都在哪些地方出现过，<br>
<ul class="org-ul">
<li>:grep -&#x2014; 调用外部的grep程序<br></li>
<li>:vimgrep -&#x2014; vim自己的查找算法<br>
<ul class="org-ul">
<li>:vim[grep]/pattern/[g] [j] files<br>
<ul class="org-ul">
<li>g -&#x2014; 如果一个模式在一行中多次出现，则这一行也在结果中多次出现<br></li>
<li>j -&#x2014; grep结束后，结果停在第j项，默认是停在第一项<br></li>
</ul></li>
</ul></li>
<li>vimgrep前面可以加数字限定搜索结果的上限，如<br>
<ul class="org-ul">
<li>:1vim/pattern/ % 只查找那个模式在本文件中的第一个出现<br></li>
</ul></li>
<li>其实vimgrep在读纯文本电子书时特别有用，可以生成导航的目录<br></li>
<li>比如电子书中每一节的标题形式为n. xxxx<br>
<ul class="org-ul">
<li>:vim/^d{1,}./ %<br></li>
<li>然后用:cw或:copen查看结果，可以用C-w H把quickfix窗口移到左侧，<br></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd5a86e8" class="outline-4">
<h4 id="orgd5a86e8">替换</h4>
<div class="outline-text-4" id="text-orgd5a86e8">
<ul class="org-ul">
<li>:s/old/new -&#x2014; 用new替换当前行第一个old<br></li>
<li>:s/old/new/g -&#x2014; 用new替换当前行所有的old<br></li>
<li>:n1,n2s/old/new/g -&#x2014; 用new替换文件n1行到n2行所有的old<br></li>
<li>:%s/old/new/g -&#x2014; 用new替换文件中所有的old<br></li>
<li>:%s/^/xxx/g -&#x2014; 在每一行的行首插入xxx，^表示行首<br></li>
<li>:%s/$/xxx/g -&#x2014; 在每一行的行尾插入xxx，$表示行尾<br></li>
<li>所有替换命令末尾加上c，每个替换都将需要用户确认，加上i则忽略大小写(ignore)<br></li>

<li>还有一种比替换更灵活的方式，它是匹配到某个模式后执行某种命令，<br>
<ul class="org-ul">
<li>语法为 :[range]g/pattern/command<br>
<ul class="org-ul">
<li>例如 :%g/^ xyz/normal dd<br></li>
<li>表示对于以一个空格和xyz开头的行执行normal模式下的dd命令<br></li>
</ul></li>
<li>关于range的规定为<br>
<ul class="org-ul">
<li>如果不指定range，则表示当前行<br></li>
<li>m,n -&#x2014; 从m行到n行<br></li>
<li>0 -&#x2014; 最开始一行（可能是这样）<br></li>
<li>$ -&#x2014; 最后一行$<br></li>
<li>. -&#x2014; 当前行<br></li>
<li>% -&#x2014; 所有行<br></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4260000" class="outline-3">
<h3 id="org4260000">快速编辑</h3>
<div class="outline-text-3" id="text-org4260000">
</div>
<div id="outline-container-org69a7ce0" class="outline-4">
<h4 id="org69a7ce0">改变大小写</h4>
<div class="outline-text-4" id="text-org69a7ce0">
<ul class="org-ul">
<li>~ -&#x2014; 反转光标所在字符的大小写<br></li>
<li>可视模式下的U -&#x2014; 把选中的文本变为大写<br></li>
<li>可视模式下的u -&#x2014; 把选中的文本变为小写<br></li>
<li>gu接范围（如$，或G） -&#x2014; 把从光标当前位置到指定位置之间字母全部转换成小写<br></li>
<li>gU接范围（如$，或G） -&#x2014; 可以把从光标当前位置到指定位置之间字母全部转换成大写<br>
<ul class="org-ul">
<li>ggguG -&#x2014; 开头到最后一行之间的字母全部变为小写<br></li>
<li>gu5j  -&#x2014; 当前行和下面四行全部变成小写<br></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1c14738" class="outline-4">
<h4 id="org1c14738">替换（normal模式）</h4>
<div class="outline-text-4" id="text-org1c14738">
<ul class="org-ul">
<li>r -&#x2014; 替换光标处的字符<br></li>
<li>R -&#x2014; 进入替换模式，按esc回到正常模式<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgb7c8e62" class="outline-4">
<h4 id="orgb7c8e62">撤消与重做（normal模式）</h4>
<div class="outline-text-4" id="text-orgb7c8e62">
<ul class="org-ul">
<li>[n]u -&#x2014; 取消一[n]个改动<br></li>
<li>:undo 5 -&#x2014; 撤销5个改变<br></li>
<li>:undolist -&#x2014; 你的撤销历史<br></li>
<li>&lt;C-r&gt; -&#x2014; 重做最后的改动<br></li>
<li>U -&#x2014; 取消当前行中所有的改动<br></li>
<li>:earlier 4m -&#x2014; 回到4分钟前<br></li>
<li>:later 55s -&#x2014; 前进55秒<br></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orge344c75" class="outline-2">
<h2 id="orge344c75">可视模式</h2>
</div>
<div id="outline-container-org460173c" class="outline-2">
<h2 id="org460173c">插入模式</h2>
<div class="outline-text-2" id="text-org460173c">
</div>
<div id="outline-container-org5a76957" class="outline-3">
<h3 id="org5a76957">基本插入</h3>
<div class="outline-text-3" id="text-org5a76957">
<ul class="org-ul">
<li>i  -&#x2014; 在光标前插入<br></li>
<li>I  -&#x2014; 在当前行第一个非空字符前插入<br></li>
<li>gI -&#x2014; 在当前行第一列插入<br></li>
<li>a  -&#x2014; 在光标后插入<br></li>
<li>A  -&#x2014; 在当前行最后插入<br></li>
<li>o  -&#x2014; 在下面新建一行插入<br></li>
<li>O  -&#x2014; 在上面新建一行插入<br></li>
<li>:r filename -&#x2014; 在当前位置插入另一个文件的内容<br></li>
<li>:[n]r filename -&#x2014; 在第n行插入另一个文件的内容<br></li>
<li>:r !date -&#x2014; 在光标处插入当前日期与时间同理<br></li>
<li>:r !command -&#x2014; 可以将其它shell命令的输出插入当前文档<br></li>
</ul>
</div>
</div>
<div id="outline-container-org3685214" class="outline-3">
<h3 id="org3685214">改写插入</h3>
<div class="outline-text-3" id="text-org3685214">
<ul class="org-ul">
<li>[n]cc -&#x2014; 修改当前[n]行<br></li>
<li>[n]s  -&#x2014; 以输入的文本替代光标之后1(n)个字符，相当于c[n]l<br></li>
<li>[n]S  -&#x2014; 删除指定数目的行，并以所输入文本代替之<br></li>
<li>c[n]w -&#x2014; 改写光标后1(n)个词<br></li>
<li>c[n]l -&#x2014; 改写光标后n个字母<br></li>
<li>c[n]h -&#x2014; 改写光标前n个字母<br></li>
<li>类似cnw,dnw,ynw的形式同样可以写为ncw,ndw,nyw<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org650464a" class="outline-2">
<h2 id="org650464a">命令模式</h2>
<div class="outline-text-2" id="text-org650464a">
</div>
<div id="outline-container-org615d161" class="outline-3">
<h3 id="org615d161">命令行模式下的快捷键</h3>
<div class="outline-text-3" id="text-org615d161">
<ul class="org-ul">
<li>上下方向键 -&#x2014; 上一条或者下一条命令如果已经输入了部分命令，则找上一 条或者下一条匹配的命令<br></li>
<li>左右方向键 -&#x2014; 左/右移一个字符<br></li>
<li>C-w -&#x2014;  向前删除一个单词<br></li>
<li>C-h -&#x2014;  向前删除一个字符<br></li>
<li>C-u -&#x2014;  从当前位置移动到命令行开头<br></li>
<li>C-b -&#x2014;  移动到命令行开头<br></li>
<li>C-e -&#x2014;  移动到命令行末尾<br></li>
<li>Shift + Left -&#x2014;  左移一个单词<br></li>
<li>Shift + Right -&#x2014;  右移一个单词<br></li>
<li>@ -&#x2014;  重复上一次的冒号命令<br></li>
<li>q -&#x2014;  正常模式下，q然后按':'，打开命令行历史缓冲区， 可以像编辑文件一样编辑命令<br></li>
<li>q/ 和 q? -&#x2014; 可以打开查找历史记录<br></li>
</ul>
</div>
</div>
<div id="outline-container-orge634bd1" class="outline-3">
<h3 id="orge634bd1">执行外部命令</h3>
<div class="outline-text-3" id="text-orge634bd1">
<ul class="org-ul">
<li>:! cmd -&#x2014; 执行外部命令<br></li>
<li>:!! -&#x2014; 执行上一次的外部命令<br></li>
<li>:sh -&#x2014; 调用shell，用exit返回vim<br></li>
<li>:r !cmd -&#x2014; 将命令的返回结果插入文件当前位置<br></li>
<li>:m,nw !cmd -&#x2014; 将文件的m行到n行之间的内容做为命令输入执行命令<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org7750744" class="outline-2">
<h2 id="org7750744">宏</h2>
<div class="outline-text-2" id="text-org7750744">
<ul class="org-ul">
<li>qa -&#x2014; 开始录制宏a（键盘操作记录）<br></li>
<li>q -&#x2014; 停止录制<br></li>
<li>@a -&#x2014; 播放宏a<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgba48085" class="outline-2">
<h2 id="orgba48085">其它</h2>
<div class="outline-text-2" id="text-orgba48085">
</div>
<div id="outline-container-orgcac3e01" class="outline-3">
<h3 id="orgcac3e01">编程</h3>
<div class="outline-text-3" id="text-orgcac3e01">
</div>
<div id="outline-container-org2efcb3a" class="outline-4">
<h4 id="org2efcb3a">跳转</h4>
<div class="outline-text-4" id="text-org2efcb3a">
<ul class="org-ul">
<li>gd -&#x2014; 跳转到局部变量的定义处<br></li>
<li>gD -&#x2014; 跳转到全局变量的定义处，从当前文件开头开始搜索<br></li>
<li>g  -&#x2014; 上一个修改过的地方<br></li>
<li>g, -&#x2014; 下一个修改过的地方<br></li>
<li>[[ -&#x2014; 跳转到上一个函数块开始，需要有单独一行的{<br></li>
<li>]] -&#x2014; 跳转到下一个函数块开始，需要有单独一行的{<br></li>
<li>[] -&#x2014; 跳转到上一个函数块结束，需要有单独一行的}<br></li>
<li>][ -&#x2014; 跳转到下一个函数块结束，需要有单独一行的}<br></li>
<li>[{ -&#x2014; 跳转到当前块开始处<br></li>
<li>]} -&#x2014; 跳转到当前块结束处<br></li>
<li>[/ -&#x2014; 跳转到当前注释块开始处<br></li>
<li>]/ -&#x2014; 跳转到当前注释块结束处<br></li>
<li>%  -&#x2014; 不仅能移动到匹配的(),{}或[]上，而且能在*if，*else， *endif之间跳跃<br></li>
<li>ci', di', yi' -&#x2014; 修改、剪切或复制'之间的内容<br></li>
<li>ca', da', ya' -&#x2014; 修改、剪切或复制'之间的内容，包含'<br></li>
<li>ci", di", yi" -&#x2014; 修改、剪切或复制"之间的内容<br></li>
<li>ca", da", ya" -&#x2014; 修改、剪切或复制"之间的内容，包含"<br></li>
<li>ci(, di(, yi( -&#x2014; 修改、剪切或复制()之间的内容<br></li>
<li>ca(, da(, ya( -&#x2014; 修改、剪切或复制()之间的内容，包含()<br></li>
<li>ci[, di[, yi[ -&#x2014; 修改、剪切或复制[]之间的内容<br></li>
<li>ca[, da[, ya[ -&#x2014; 修改、剪切或复制[]之间的内容，包含[]<br></li>
<li>ci{, di{, yi{ -&#x2014; 修改、剪切或复制{}之间的内容<br></li>
<li>ca{, da{, ya{ -&#x2014; 修改、剪切或复制{}之间的内容，包含{}<br></li>
<li>ci&lt;, di&lt;, yi&lt; -&#x2014; 修改、剪切或复制&lt;&gt;之间的内容&gt;<br></li>
<li>ca&lt;, da&lt;, ya&lt; -&#x2014; 修改、剪切或复制&lt;&gt;之间的内容，包含&lt;&gt;&gt;<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgd9f9bbc" class="outline-4">
<h4 id="orgd9f9bbc">编译</h4>
<div class="outline-text-4" id="text-orgd9f9bbc">
<ul class="org-ul">
<li>vim提供了:make来编译程序，默认调用的是make， 如果你当前目录下有makefile，简单地:make即可<br></li>
<li>如果你没有make程序，你可以通过配置makeprg选项来更改make调用的程序<br></li>
<li>如果你只有一个abc.java文件，你可以这样设置<br>
<ul class="org-ul">
<li>set makeprg=javac\ abc.java<br></li>
<li>然后:make即可如果程序有错，可以通过quickfix窗口查看错误<br></li>
<li>正确定位错误，需要设置好errorformat，让vim识别错误信息<br>
<ul class="org-ul">
<li>:setl efm=%A%f:%l:\ %m,%-Z%p^,%-C%.%*<br>
<ul class="org-ul">
<li>%f表示文件名<br></li>
<li>%l表示行号<br></li>
<li>%m表示错误信息<br></li>
<li>:help errorformat<br></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org3196d97" class="outline-4">
<h4 id="org3196d97">快速修改窗口</h4>
<div class="outline-text-4" id="text-org3196d97">
<ul class="org-ul">
<li>其实是quickfix插件提供的功能， 对编译调试程序非常有用 :)<br></li>
<li>:copen -&#x2014; 打开快速修改窗口<br></li>
<li>:cclose -&#x2014; 关闭快速修改窗口<br></li>
<li>快速修改窗口在make程序时非常有用，当make之后<br>
<ul class="org-ul">
<li>:cl -&#x2014; 在快速修改窗口中列出错误<br></li>
<li>:cn -&#x2014; 定位到下一个错误<br></li>
<li>:cp -&#x2014; 定位到上一个错误<br></li>
<li>:cr -&#x2014; 定位到第一个错误<br></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org14e425d" class="outline-4">
<h4 id="org14e425d">自动补全</h4>
<div class="outline-text-4" id="text-org14e425d">
<ul class="org-ul">
<li>C-x C-s -&#x2014; 拼写建议<br></li>
<li>C-x C-v -&#x2014; 补全vim选项和命令<br></li>
<li>C-x C-l -&#x2014; 整行补全<br></li>
<li>C-x C-f -&#x2014; 自动补全文件路径弹出菜单后，按C-f循环选择，当然也可以按 C-n和C-p<br></li>
<li>C-x C-p 和 C-x C-n -&#x2014; 用文档中出现过的单词补全当前的词 直接按C-p和C-n也可以<br></li>
<li>C-x C-o -&#x2014; 编程时可以补全关键字和函数名啊<br></li>
<li>C-x C-i -&#x2014; 根据头文件内关键字补全<br></li>
<li>C-x C-d -&#x2014; 补全宏定义<br></li>
<li>C-x C-n -&#x2014; 按缓冲区中出现过的关键字补全 直接按C-n或C-p即可<br></li>
<li>当弹出补全菜单后<br>
<ul class="org-ul">
<li>C-p -&#x2014; 向前切换成员<br></li>
<li>C-n -&#x2014; 向后切换成员<br></li>
<li>C-e -&#x2014; 退出下拉菜单，并退回到原来录入的文字<br></li>
<li>C-y -&#x2014; 退出下拉菜单，并接受当前选项<br></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org65e7c35" class="outline-3">
<h3 id="org65e7c35">变量列表</h3>
<div class="outline-text-3" id="text-org65e7c35">
</div>
<div id="outline-container-orgcb212f7" class="outline-4">
<h4 id="orgcb212f7">ctags</h4>
<div class="outline-text-4" id="text-orgcb212f7">
<ul class="org-ul">
<li>ctags -R -&#x2014; 生成tag文件，-R表示也为子目录中的文件生成tags<br></li>
<li>:set tags=path/tags -&#x2014; 告诉ctags使用哪个tag文件<br></li>
<li>:tag xyz  -&#x2014; 跳到xyz的定义处，或者将光标放在xyz上按C-]，返回用C-t<br></li>
<li>:stag xyz -&#x2014; 用分割的窗口显示xyz的定义，或者C-w ]， 如果用C-w n ]，就会打开一个n行高的窗口<br></li>
<li>:ptag xyz -&#x2014; 在预览窗口中打开xyz的定义，热键是C-w }<br></li>
<li>:pclose   -&#x2014; 关闭预览窗口热键是C-w z<br></li>
<li>:pedit abc.h -&#x2014; 在预览窗口中编辑abc.h<br></li>
<li>:psearch abc -&#x2014; 搜索当前文件和当前文件include的文件，显示包含abc的行<br></li>
<li>:[n]tnext -&#x2014; 下一[n]个匹配<br></li>
<li>:[n]tprev -&#x2014; 上一[n]个匹配<br></li>
<li>:tfirst   -&#x2014; 第一个匹配<br></li>
<li>:tlast    -&#x2014; 最后一个匹配<br></li>
<li>:tselect tagname -&#x2014; 打开选择列表<br></li>
<li>tab键补齐<br>
<ul class="org-ul">
<li>:tag xyz&lt;tab&gt; -&#x2014; 补齐以xyz开头的tag名，继续按tab键，会显示其他的<br></li>
<li>:tag /xyz&lt;tab&gt; -&#x2014; 会用名字中含有xyz的tag名补全<br></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org5ea6871" class="outline-4">
<h4 id="org5ea6871">cscope</h4>
<div class="outline-text-4" id="text-org5ea6871">
<ul class="org-ul">
<li>cscope -Rbq -&#x2014; 生成cscope.out文件<br></li>
<li>:cs add /path/to/cscope.out /your/work/dir<br></li>
<li>:cs find c func -&#x2014; 查找func在哪些地方被调用<br></li>
<li>:cw -&#x2014; 打开quickfix窗口查看结果<br></li>
</ul>
</div>
</div>
<div id="outline-container-org7e91d6b" class="outline-4">
<h4 id="org7e91d6b">gtags</h4>
<div class="outline-text-4" id="text-org7e91d6b">
<ul class="org-ul">
<li>Gtags综合了ctags和cscope的功能 使用Gtags之前，你需要安装GNU Gtags 然后在工程目录运行 gtags<br></li>
<li>:Gtags funcname 定位到 funcname 的定义处<br></li>
<li>:Gtags -r funcname 查询 funcname被引用的地方<br></li>
<li>:Gtags -s symbol 定位 symbol 出现的地方<br></li>
<li>:Gtags -g string Goto string 出现的地方 :Gtags -gi string 忽略大小写<br></li>
<li>:Gtags -f filename 显示 filename 中的函数列表 你可以用 :Gtags -f % 显示当前文件<br></li>
<li>:Gtags -P pattern 显示路径中包含特定模式的文件 如 :Gtags -P .h$ 显示所有头文件， :Gtags -P <i>vm</i> 显示vm目录下的文件$<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgbc458b8" class="outline-3">
<h3 id="orgbc458b8">拼写检查</h3>
<div class="outline-text-3" id="text-orgbc458b8">
<ul class="org-ul">
<li>:set spell &#x2013;&#x2014; 开启拼写检查功能<br></li>
<li>:set nospell -&#x2014; 关闭拼写检查功能<br></li>
<li>]s -&#x2014; 移到下一个拼写错误的单词<br></li>
<li>[s -&#x2014; 作用与上一命令类似，但它是从相反方向进行搜索<br></li>
<li>z= -&#x2014; 显示一个有关拼写错误单词的列表，可从中选择<br></li>
<li>zg -&#x2014; 告诉拼写检查器该单词是拼写正确的<br></li>
<li>zw -&#x2014; 与上一命令相反，告诉拼写检查器该单词是拼写错误的<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgf858128" class="outline-3">
<h3 id="orgf858128">文件的编码</h3>
<div class="outline-text-3" id="text-orgf858128">
<ul class="org-ul">
<li>:e ++enc=utf8 filename, 让vim用utf-8的编码打开这个文件<br></li>
<li>:w ++enc=gbk，不管当前文件什么编码，把它转存成gbk编码<br></li>
<li>:set fenc或:set fileencoding，查看当前文件的编码<br></li>
<li>在vimrc中添加set fileencoding=ucs-bom,utf-8,cp936，vim会根据要打开的文件选择合适的编码 注意编码之间不要留空格 cp936对应于gbk编码 ucs-bom对应于windows下的文件格式<br></li>
<li>让vim 正确处理文件格式和文件编码，有赖于 ~/.vimrc的正确配置<br></li>
</ul>
</div>
</div>
<div id="outline-container-org5277f34" class="outline-3">
<h3 id="org5277f34">文件格式</h3>
<div class="outline-text-3" id="text-org5277f34">
<ul class="org-ul">
<li>大致有三种文件格式 unix, dos, mac<br></li>
<li>三种格式的区别主要在于回车键的编码<br>
<ul class="org-ul">
<li>dos 下是回车加换行<br></li>
<li>unix 下只有换行符<br></li>
<li>mac 下只有回车符<br></li>
</ul></li>
<li>:e ++ff=dos filename -&#x2014; 让vim用dos格式打开这个文件<br></li>
<li>:w ++ff=mac filename -&#x2014; 以mac格式存储这个文件<br></li>
<li>:set ff -&#x2014; 显示当前文件的格式<br></li>
<li>在vimrc中添加set fileformats=unix,dos,mac，让vim自动识别文件格式<br></li>
</ul>
</div>
</div>
<div id="outline-container-org36efcaa" class="outline-3">
<h3 id="org36efcaa">工作目录</h3>
<div class="outline-text-3" id="text-org36efcaa">
<ul class="org-ul">
<li>:pwd -&#x2014; 显示vim的工作目录<br></li>
<li>:cd path -&#x2014; 改变vim的工作目录<br></li>
<li>:set autochdir -&#x2014; 可以让vim 根据编辑的文件自动切换工作目录<br></li>
</ul>
</div>
</div>
<div id="outline-container-orga6b1cef" class="outline-3">
<h3 id="orga6b1cef">在线帮助</h3>
<div class="outline-text-3" id="text-orga6b1cef">
<ul class="org-ul">
<li>:h[elp] -&#x2014; 打开总的帮助<br></li>
<li>:help user-manual -&#x2014; 打开用户手册<br></li>
<li>命令帮助的格式为 -&#x2014; 第一行指明怎么使用那个命令 然后是缩进的一段解释这个命令的作用，然后是进一步的信息<br></li>
<li>:helptags somepath -&#x2014; 为somepath中的文档生成索引<br></li>
<li>:helpgrep -&#x2014; 可以搜索整个帮助文档，匹配的列表显示在quickfix窗口中<br></li>
<li>Ctrl+] -&#x2014; 跳转到tag主题，Ctrl+t 跳回<br></li>
<li>:ver -&#x2014; 显示版本信息<br></li>
</ul>
</div>
</div>
<div id="outline-container-org18e6e23" class="outline-3">
<h3 id="org18e6e23">tips</h3>
<div class="outline-text-3" id="text-org18e6e23">
<ul class="org-ul">
<li>简单计算器 -&#x2014; 在插入模式下，输入C-r =，然后输入表达式，就能在 光标处得到计算结果<br></li>
<li>一个小技巧 -&#x2014; 按8，再按i，进入插入模式，输入=， 按esc进入命令模式，就会出现8个=<br></li>
</ul>
</div>
</div>
<div id="outline-container-org821a8d3" class="outline-3">
<h3 id="org821a8d3">快捷键（收集中）</h3>
<div class="outline-text-3" id="text-org821a8d3">
<ul class="org-ul">
<li>K  -&#x2014; 打开光标所在词的manpage<br></li>
<li>**  -&#x2014; 向下搜索光标所在词<br></li>
<li>g** -&#x2014; 同上，但部分符合即可<br></li>
<li>#  -&#x2014; 向上搜索光标所在词<br></li>
<li>g# -&#x2014; 同上，但部分符合即可<br></li>
<li>g C-g -&#x2014; 统计全文或统计部分的字数<br></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: haoran</p>
<p class="date">Created: 2021-10-08 Fri 20:35</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
