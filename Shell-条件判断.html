<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2023-01-28 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SHELL-条件判断</title>
<meta name="author" content="Haoran Liu" />
<meta name="description" content="Copyright © 2023, Haoran Liu, all rights reserved." />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="static/css/org.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">SHELL-条件判断</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgae6f61c">if</a></li>
<li><a href="#org0c0562d">tester</a></li>
<li><a href="#org16b850e">双括号</a></li>
<li><a href="#org55aa92f">双方括号</a></li>
<li><a href="#org3d6c489">case</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgae6f61c" class="outline-2">
<h2 id="orgae6f61c">if</h2>
<div class="outline-text-2" id="text-orgae6f61c">
<p>
根据该命令的退出状态码判断是否执行。<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #1ea8fc;">read</span> -p <span style="color: #7984D1;">"Please input (Y/N): "</span> yn

<span style="color: #ff2afc; font-weight: bold;">if</span> [ <span style="color: #7984D1;">"${yn}"</span> == <span style="color: #7984D1;">"Y"</span> ] || [ <span style="color: #7984D1;">"${yn}"</span> == <span style="color: #7984D1;">"y"</span> ]; <span style="color: #ff2afc; font-weight: bold;">then</span>
  <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"OK continue"</span>
<span style="color: #ff2afc; font-weight: bold;">elif</span> [ <span style="color: #7984D1;">"${yn}"</span> == <span style="color: #7984D1;">"N"</span> ] || [ <span style="color: #7984D1;">"${yn}"</span> == <span style="color: #7984D1;">"n"</span> ]; <span style="color: #ff2afc; font-weight: bold;">then</span>
  <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"Oh interrupt"</span>
<span style="color: #ff2afc; font-weight: bold;">else</span>
  <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"I don't know what your choice is"</span>
<span style="color: #ff2afc; font-weight: bold;">fi</span>
</pre>
</div>

<p>
<code>if</code> 嵌套：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell">
</pre>
</div>
</div>
</div>
<div id="outline-container-org0c0562d" class="outline-2">
<h2 id="org0c0562d">tester</h2>
<div class="outline-text-2" id="text-org0c0562d">
<p>
if-then 语句不能测试命令退出状态码之外的条件，使用 test 命令可以解决这一问题。<br>
</p>

<p>
<a href="Shell-判断式.html">shell 判断式</a><br>
</p>
</div>
</div>
<div id="outline-container-org16b850e" class="outline-2">
<h2 id="org16b850e">双括号</h2>
<div class="outline-text-2" id="text-org16b850e">
<p>
双括号命令允许你在比较过程中使用高级数学表达式。<br>
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">val++</td>
<td class="org-left">后增</td>
</tr>

<tr>
<td class="org-left">val--</td>
<td class="org-left">后减</td>
</tr>

<tr>
<td class="org-left">++val</td>
<td class="org-left">先增</td>
</tr>

<tr>
<td class="org-left">&#x2013;val</td>
<td class="org-left">先减</td>
</tr>

<tr>
<td class="org-left">！</td>
<td class="org-left">逻辑求反</td>
</tr>

<tr>
<td class="org-left">～</td>
<td class="org-left">位求反</td>
</tr>

<tr>
<td class="org-left">**</td>
<td class="org-left">幂</td>
</tr>

<tr>
<td class="org-left">&lt;&lt;</td>
<td class="org-left">左位移</td>
</tr>

<tr>
<td class="org-left">&gt;&gt;</td>
<td class="org-left">右位移</td>
</tr>

<tr>
<td class="org-left">&amp;</td>
<td class="org-left">按位与</td>
</tr>

<tr>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">逻辑和</td>
</tr>
</tbody>
</table>

<p>
还有 <code>|</code> 、 <code>||</code> 这两个。<br>
</p>
</div>
</div>
<div id="outline-container-org55aa92f" class="outline-2">
<h2 id="org55aa92f">双方括号</h2>
<div class="outline-text-2" id="text-org55aa92f">
<p>
双方括号提供了针对字符串比较的高级特性，比如正则表达式匹配。<br>
</p>
</div>
</div>
<div id="outline-container-org3d6c489" class="outline-2">
<h2 id="org3d6c489">case</h2>
<div class="outline-text-2" id="text-org3d6c489">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #1ea8fc;">read</span> -p <span style="color: #7984D1;">"Input your choice: "</span> choice

<span style="color: #ff2afc; font-weight: bold;">case</span> ${<span style="color: #df85ff;">choice</span>} <span style="color: #ff2afc; font-weight: bold;">in</span>
  <span style="color: #7984D1;">"one"</span>)
    <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"Your choice is ONE"</span>
    ;;      <span style="color: #546A90;"># </span><span style="color: #546A90;">&lt;== &#27599;&#20010;&#31867;&#21035;&#32467;&#23614;&#20351;&#29992;&#20004;&#20010;&#36830;&#32493;&#30340;&#20998;&#21495;&#26469;&#22788;&#29702;</span>
  <span style="color: #7984D1;">"two"</span>)
    <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"Your choice is TWO"</span>;;
  <span style="color: #7984D1;">"three"</span> | <span style="color: #7984D1;">"four"</span>)
    <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"Your choice is THREE or FOUR"</span>;;
  *)         <span style="color: #546A90;"># </span><span style="color: #546A90;">&lt;== &#26368;&#21518;&#19968;&#20010;&#21464;&#37327;&#20869;&#23481;&#20351;&#29992; * &#26469;&#20195;&#34920;&#25152;&#26377;&#20854;&#20182;&#20540;</span>
    <span style="color: #1ea8fc;">echo</span> <span style="color: #7984D1;">"Usage ${0} {one|two|three}"</span>;;
<span style="color: #ff2afc; font-weight: bold;">esac</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2023-01-28 00:01 Sat</p>
<p class="author">Author: Haoran Liu</p>
<p class="date">Created: 2023-01-28</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
