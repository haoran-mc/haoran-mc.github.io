<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-09-01 四 21:50 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GO-字符串的基本使用</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>
<link rel="stylesheet" href="static/css/org.css" type="text/css"  />
      <script type="module" src="static/js/main.js" defer></script>
      <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">GO-字符串的基本使用</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc5f64d4">字符串定义</a>
<ul>
<li><a href="#orgfa5386a">解释字符串：</a></li>
<li><a href="#orga6d672b">非解释字符串：</a></li>
<li><a href="#org56cb9d8">字符串拼接符 +</a></li>
</ul>
</li>
<li><a href="#org5be7c83">字符串使用</a>
<ul>
<li><a href="#org76eb2f3">声明一个字符串</a></li>
<li><a href="#org508c571">创建一个字符串</a></li>
<li><a href="#org4b18e65">字符串可修改</a></li>
<li><a href="#orge37b31e">字符串复制</a></li>
<li><a href="#org20aa930">字符串遍历</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc5f64d4" class="outline-2">
<h2 id="orgc5f64d4">字符串定义</h2>
<div class="outline-text-2" id="text-orgc5f64d4">
<p>
字符串是 UTF-8 字符的一个序列（当字符为 ASCII 码时则占用 1 个字节，其它字符根据需要占用 2-4 个字节）。UTF-8 是被广泛使用的编码格式，是文本文件的标准编码，其它包括 XML 和 JSON 在内，也都使用该编码。由于该编码对占用字节长度的不定性，Go 中的字符串也可能根据需要占用 1 至 4 个字节（示例见第 4.6 节），这与其它语言如 C++、Java 或者 Python 不同（Java 始终使用 2 个字节）。Go 这样做的好处是不仅减少了内存和硬盘空间占用，同时也不用像其它语言那样需要对使用 UTF-8 字符集的文本进行编码和解码。<br>
</p>

<p>
字符串是一种值类型，且值不可变，即创建某个文本后你无法再次修改这个文本的内容；更深入地讲，字符串是字节的定长数组。<br>
</p>

<p>
Go 支持以下 2 种形式的字面值：<br>
</p>
</div>
<div id="outline-container-orgfa5386a" class="outline-3">
<h3 id="orgfa5386a">解释字符串：</h3>
<div class="outline-text-3" id="text-orgfa5386a">
<p>
该类字符串使用双引号括起来，其中的相关的转义字符将被替换，这些转义字符包括：<br>
</p>

<ul class="org-ul">
<li><code>\n</code> ：换行符<br></li>
<li><code>\r</code> ：回车符<br></li>
<li><code>\t</code> ：tab 键<br></li>
<li><code>\u</code>  或 <code>\U</code> ：Unicode 字符<br></li>
<li><code>\\</code> ：反斜杠自身<br></li>
</ul>
</div>
</div>
<div id="outline-container-orga6d672b" class="outline-3">
<h3 id="orga6d672b">非解释字符串：</h3>
<div class="outline-text-3" id="text-orga6d672b">
<p>
该类字符串使用反引号括起来，支持换行，例如：<br>
</p>

<pre class="example">
`This is a raw string \n` 中的 `\n\` 会被原样输出。
</pre>

<p>
和 C/C++ 不一样，Go 中的字符串是根据长度限定，而非特殊字符 \0。<br>
</p>

<p>
string 类型的零值为长度为零的字符串，即空字符串 ""。<br>
</p>

<p>
一般的比较运算符（==、!=、&lt;、&lt;=、&gt;=、&gt;）通过在内存中按字节比较来实现字符串的对比。你可以通过函数 len() 来获取字符串所占的字节长度，例如：len(str)。<br>
</p>

<p>
字符串的内容（纯字节）可以通过标准索引法来获取，在中括号 [] 内写入索引，索引从 0 开始计数：<br>
</p>

<ul class="org-ul">
<li>字符串 str 的第 1 个字节：str[0]<br></li>
<li>第 i 个字节：str[i - 1]<br></li>
<li>最后 1 个字节：str[len(str)-1]<br></li>
</ul>

<p>
需要注意的是，这种转换方案只对纯 ASCII 码的字符串有效。<br>
</p>

<p>
<b>注意事项</b> 获取字符串中某个字节的地址的行为是非法的，例如：&amp;str[i]。<br>
</p>
</div>
</div>
<div id="outline-container-org56cb9d8" class="outline-3">
<h3 id="org56cb9d8">字符串拼接符 +</h3>
<div class="outline-text-3" id="text-org56cb9d8">
<p>
两个字符串 s1 和 s2 可以通过 s := s1 + s2 拼接在一起。<br>
</p>

<p>
s2 追加在 s1 尾部并生成一个新的字符串 s。<br>
</p>

<p>
你可以通过以下方式来对代码中多行的字符串进行拼接：<br>
</p>
<div class="org-src-container">
<pre class="src src-go"><span style="color: #7590db;">str</span> := <span style="color: #2d9574;">"Beginning of the string "</span> + <span style="color: #2d9574;">"second part of the string"</span>
</pre>
</div>

<p>
由于编译器行尾自动补全分号的缘故，加号 + 必须放在第一行。<br>
</p>

<p>
拼接的简写形式 += 也可以用于字符串：<br>
</p>
<div class="org-src-container">
<pre class="src src-go"><span style="color: #7590db;">s</span> := <span style="color: #2d9574;">"hel"</span> + <span style="color: #2d9574;">"lo,"</span>
s += <span style="color: #2d9574;">"world!"</span>
fmt.<span style="color: #bc6ec5; font-weight: bold;">Println</span>(s) <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">&#36755;&#20986; &#8220;hello, world!&#8221;</span>
</pre>
</div>

<p>
在循环中使用加号 + 拼接字符串并不是最高效的做法，更好的办法是使用函数 strings.Join()，有没有更好地办法了？有！使用字节缓冲（bytes.Buffer）拼接更加给力！详情请看：<a href="Go-字符串拼接.html">字符串拼接</a> 。<br>
</p>
</div>
</div>
</div>

<div id="outline-container-org5be7c83" class="outline-2">
<h2 id="org5be7c83">字符串使用</h2>
<div class="outline-text-2" id="text-org5be7c83">
</div>
<div id="outline-container-org76eb2f3" class="outline-3">
<h3 id="org76eb2f3">声明一个字符串</h3>
<div class="outline-text-3" id="text-org76eb2f3">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #4f97d7; font-weight: bold;">var</span> <span style="color: #7590db;">str</span> <span style="color: #ce537a; font-weight: bold;">string</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org508c571" class="outline-3">
<h3 id="org508c571">创建一个字符串</h3>
<div class="outline-text-3" id="text-org508c571">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #4f97d7; font-weight: bold;">var</span> <span style="color: #7590db;">s</span> = <span style="color: #2d9574;">"String"</span>
<span style="color: #7590db;">s</span> := <span style="color: #4f97d7;">make</span>([]<span style="color: #ce537a; font-weight: bold;">string</span>, 3)
<span style="color: #7590db;">s</span> := []<span style="color: #ce537a; font-weight: bold;">string</span>{<span style="color: #2d9574;">"g"</span>, <span style="color: #2d9574;">"h"</span>, <span style="color: #2d9574;">"i"</span>}
</pre>
</div>
</div>
</div>
<div id="outline-container-org4b18e65" class="outline-3">
<h3 id="org4b18e65">字符串可修改</h3>
<div class="outline-text-3" id="text-org4b18e65">
<div class="org-src-container">
<pre class="src src-go">s[0] = <span style="color: #2d9574;">"a"</span>
s[1] = <span style="color: #2d9574;">"b"</span>
s[2] = <span style="color: #2d9574;">"c"</span>

s = <span style="color: #4f97d7;">append</span>(s, <span style="color: #2d9574;">"d"</span>)
s = <span style="color: #4f97d7;">append</span>(s, <span style="color: #2d9574;">"e"</span>, <span style="color: #2d9574;">"f"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orge37b31e" class="outline-3">
<h3 id="orge37b31e">字符串复制</h3>
<div class="outline-text-3" id="text-orge37b31e">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #7590db;">c</span> := <span style="color: #4f97d7;">make</span>([]<span style="color: #ce537a; font-weight: bold;">string</span>, <span style="color: #4f97d7;">len</span>(s))
<span style="color: #4f97d7;">copy</span>(c, s)
</pre>
</div>
</div>
</div>
<div id="outline-container-org20aa930" class="outline-3">
<h3 id="org20aa930">字符串遍历</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-04-14 23:04 Thu</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-09-01 四 21:50</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
