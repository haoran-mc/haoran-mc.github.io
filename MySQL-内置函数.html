<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-03-14 Mon 19:46 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>内置函数</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">内置函数</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd4cd3c4">数学计算相关函数</a></li>
<li><a href="#org34b2c55">聚合函数</a></li>
<li><a href="#orgfac2e84">字符串函数</a></li>
<li><a href="#org0300b0b">日期和时间函数</a></li>
<li><a href="#org4f313d5">控制流函数</a></li>
<li><a href="#orge692ee7">加密和压缩函数</a></li>
<li><a href="#org29c4655">格式化函数</a></li>
<li><a href="#org198a074">类型转换函数</a></li>
<li><a href="#org6f2384d">加锁函数和解锁函数</a></li>
<li><a href="#org0d155c7">系统信息函数</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd4cd3c4" class="outline-2">
<h2 id="orgd4cd3c4">数学计算相关函数</h2>
<div class="outline-text-2" id="text-orgd4cd3c4">
<ul class="org-ul">
<li><code>greatest()</code> ，返回一组数中的最大值<br></li>
<li><code>least()</code> ，返回一组数中的最小值<br></li>
<li><code>floor()</code> ，返回一个数的向下取整<br></li>
<li><code>ceiling()</code> ，返回一个数的向上取整<br></li>
<li><code>round()</code> ，返回一个数四舍五入后的整数值<br></li>
<li><code>truncate()</code> ，把一个数字截取为指定小数位数的数字<br></li>
<li><code>abs()</code> ，返回一个数的绝对值<br></li>
<li><code>sign()</code> ，返回一个数的符号，正数返回1，负数返回-1，零返回0<br></li>
<li><code>sqrt()</code> ，返回一个数的平方根<br></li>
<li><code>pow()</code> ，以一个数作为另一个数的指数，并返回结果<br></li>
<li><code>sin()</code> ，返回一个角度（弧度）的正弦<br></li>
<li><code>cos()</code> ，返回一个角度（弧度）的余弦<br></li>
<li><code>tan()</code> ，返回一个角度（弧度）的正切<br></li>
<li><code>asin()</code> ，返回一个角度（弧度）的反正弦<br></li>
<li><code>acon()</code> ，返回一个角度（弧度）的反余弦<br></li>
<li><code>atan()</code> ，返回一个角度（弧度）的反正切<br></li>
<li><code>bin()</code> ，返回一个数的二进制，作为字符串<br></li>
<li><code>otc()</code> ，返回一个数的八进制，作为字符串<br></li>
<li><code>hex()</code> ，返回一个数的十六进制，作为字符串<br></li>
</ul>
</div>
</div>
<div id="outline-container-org34b2c55" class="outline-2">
<h2 id="org34b2c55">聚合函数</h2>
<div class="outline-text-2" id="text-org34b2c55">
<ul class="org-ul">
<li><code>count(*)</code> ，统计元祖个数<br></li>
<li><p>
<code>count([distinct\all]&lt;列名&gt;)</code> ，统计一列中值的个数<br>
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #268bd2; font-weight: bold;">select</span> <span style="color: #268bd2;">count</span>(Sname) <span style="color: #268bd2; font-weight: bold;">from</span> student;   <span style="color: #008787; background-color: #262626;">-- &#24573;&#30053;&#25152;&#26377;&#30340; NULL &#20540;</span>
<span style="color: #268bd2; font-weight: bold;">select</span> <span style="color: #268bd2;">count</span>(*) <span style="color: #268bd2; font-weight: bold;">from</span> student;   <span style="color: #008787; background-color: #262626;">-- &#19981;&#20250;&#24573;&#30053; NULL &#20540;</span>
<span style="color: #268bd2; font-weight: bold;">select</span> <span style="color: #268bd2;">count</span>(1) <span style="color: #268bd2; font-weight: bold;">from</span> student;   <span style="color: #008787; background-color: #262626;">-- &#19981;&#20250;&#24573;&#30053; NULL &#20540; </span>
</pre>
</div></li>

<li><code>sum([distinct\all]&lt;列名&gt;)</code> ，计算一列值的总和<br></li>
<li><code>avg([distinct\all]&lt;列名&gt;)</code> ，计算一列值的平均值<br></li>
<li><code>max([distinct\all]&lt;列名&gt;)</code> ，求一列值中的最大值<br></li>
<li><code>min([distinct\all]&lt;列名&gt;)</code> ，求一列值中的最小值<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgfac2e84" class="outline-2">
<h2 id="orgfac2e84">字符串函数</h2>
<div class="outline-text-2" id="text-orgfac2e84">
<ul class="org-ul">
<li><code>ascii(char)</code> ，返回表达式最左端字符的ascii码值<br></li>
<li><code>char(x1,x2,x3)</code> ，将括号中的多个数字转换成字符，结果组合成一个字符串<br></li>
<li><code>left(str,x)</code> ，返回从字符串左边开始指定的x个字符<br></li>
<li><code>right(str,x)</code> ，返回从字符串右边开始指定的x个字符<br></li>
<li><code>trim(str)</code> ，删除字符串首部和尾部所有空格<br></li>
<li><code>ltrim(str)</code> ，删除字符串首部所有空格<br></li>
<li><code>rtrim(str)</code> ，删除字符串尾部所有空格<br></li>
<li><code>rpad(str,n,pad)</code> ，用字符串pad对str的右边进行填补直到字符串str中字符大于等于n个，然后返回前n个字符<br></li>
<li><code>lpad(str,n,pad)</code> ，用字符串pad对str的左边进行填补直到字符串str中字符大于等于n个，然后返回前n个字符<br></li>
<li><code>replace(str1, str2, str3)</code> ，用字符串str3替换str1中出现的所有str2<br></li>
<li><p>
<code>concat(str1, str2, ..., strn)</code> ，连接字符串<br>
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #268bd2; font-weight: bold;">select</span> concat(<span style="color: #2aa198;">'&#22995;&#21517;&#65306;'</span>, Sname) <span style="color: #268bd2; font-weight: bold;">as</span> &#22995;&#21517; <span style="color: #268bd2; font-weight: bold;">from</span> Student;  
</pre>
</div></li>

<li><code>substring(expr,start,length)</code> ，返回expr中从start开始，长度为length的子串<br></li>
<li><code>strcmp(str1,str2)</code> ，比较两个字符串，相等返回0，str1大返回1，str2大返回-1<br></li>
</ul>
</div>
</div>
<div id="outline-container-org0300b0b" class="outline-2">
<h2 id="org0300b0b">日期和时间函数</h2>
<div class="outline-text-2" id="text-org0300b0b">
<ul class="org-ul">
<li><code>now()</code> ，获取当前的日期和时间<br></li>
<li><code>curtime()</code> ，获取当前的时间<br></li>
<li><code>curdate()</code> ，获取当前的日期<br></li>
<li><code>year()</code> ，分析一个日期值返回其中年的部分<br></li>
<li><code>motnth()</code> ，以数值类型返回月的部分<br></li>
<li><code>monthname()</code> ，以字符串的类型返回月的部分<br></li>
<li><code>dayofyear()</code> ，返回这一天在这一年中的序数<br></li>
<li><code>dayofmonth()</code> ，返回这一天在这一月中的序数<br></li>
<li><code>dayofweek()</code> ，返回这一天在这一周中的序数<br></li>
<li><code>hour()</code> ，返回时间值的小时部分<br></li>
<li><code>minute()</code> ，返回时间值的分钟部分<br></li>
<li><code>second()</code> ，返回时间值的秒部分<br></li>
<li><code>data_add()</code> ，对日期进行增加操作<br></li>
<li><code>data_sub()</code> ，对日期进行减少操作<br></li>
</ul>
</div>
</div>
<div id="outline-container-org4f313d5" class="outline-2">
<h2 id="org4f313d5">控制流函数</h2>
<div class="outline-text-2" id="text-org4f313d5">
<ul class="org-ul">
<li><code>ifnull(expr1,expr2)</code> ，判断参数expr1是否为null，为null时返回expr2，否则返回expr1<br></li>
<li><code>nullif(expr1,expr2)</code> ，判断两个参数是否相等，如相等，返回null，如不相等，返回第一个参数<br></li>
<li><code>if(expr1,expr2,expr3)</code> ，如果expr1表达式为真，则返回expr2，否则返回expr3<br></li>
</ul>
</div>
</div>
<div id="outline-container-orge692ee7" class="outline-2">
<h2 id="orge692ee7">加密和压缩函数</h2>
<div class="outline-text-2" id="text-orge692ee7">
<ul class="org-ul">
<li><code>MD5(str)</code> ，MD5(str)函数可以对字符串str进行散列，可以用于一些普通的不需要解密的数据加密<br></li>
<li><code>SHA1(str), SHA(str)</code> ，计算160位校验和，返回40位16进制数构成的字符串，当str为NULL时返回NULL<br></li>
<li><code>SHA2(str, hash_length)</code> ，计算SHA-2系列的哈希方法(SHA-224, SHA-256, SHA-384, and SHA-512)<br></li>
<li><code>aes_encrypt(str,key) 和 aes_decrypt(str,key)</code> ，对str用密钥key进行aes加密，解密<br></li>
<li><code>encode() 和 decode()</code> ，对一个字符串进行加密，解密<br></li>
<li><code>encrypt(str,key)</code> ，使用 unix crypt() 系统加密字符串（在windows上不可用）<br></li>
<li><code>password(str)</code> ，返回str加密后的字符串<br></li>
</ul>
</div>
</div>
<div id="outline-container-org29c4655" class="outline-2">
<h2 id="org29c4655">格式化函数</h2>
<div class="outline-text-2" id="text-org29c4655">
<ul class="org-ul">
<li><code>format()</code> ，把数值格式化为以逗号为间隔的数字序列<br></li>
<li><code>data_format()</code> ，把数值格式化成日期格式<br></li>
<li><code>time_format()</code> ，把数值格式化为时间格式<br></li>
</ul>
</div>
</div>
<div id="outline-container-org198a074" class="outline-2">
<h2 id="org198a074">类型转换函数</h2>
<div class="outline-text-2" id="text-org198a074">
<ul class="org-ul">
<li><code>cast(expr,AS type)</code> ，将一个值转换为指定的数据类型<br></li>
<li><code>CONV(N,from_base,to_base)</code> ，改变数字N的进制，返回值为该进制下的数字构成的字符串<br></li>
<li><code>INET_ATON(expr)</code> ，ip字符串转数字<br></li>
<li><code>INET_NTOA(expr)</code> ，数字转ip字符串<br></li>
<li><code>CAST(expr AS type)</code> ，转换数据类型<br></li>
<li><code>CONVERT(expr,type)</code> ，type可以为BINARY[(N)]，CHAR[(N)]，DATE，DATETIME， DECIMAL[(M[,D])]，DECIMAL[(M[,D])]，TIME，UNSIGNED [INTEGER]等等<br></li>
<li><code>CONVERT(expr USING cs)</code> ，将字符串s的字符集变成cs,cs如utf8等等<br></li>
</ul>
</div>
</div>
<div id="outline-container-org6f2384d" class="outline-2">
<h2 id="org6f2384d">加锁函数和解锁函数</h2>
<div class="outline-text-2" id="text-org6f2384d">
<ul class="org-ul">
<li><code>GET_LOCK(name,time)</code> ，函数定义一个名称为nam、持续时间长度为time秒的锁。如果锁定成功，则返回1；如果尝试超时，则返回0；如果遇到错误，返回NULL。<br></li>
<li><code>RELEASE_LOCK(name)</code> ，函数解除名称为name的锁。如果解锁成功，则返回1；如果尝试超时，返回0了如果解锁失败，返回NULL；<br></li>
<li><code>IS_FREE_LOCK(name)</code> ，函数判断是否已使用名为name的锁定。如果使用，返回0，否则，返回1<br></li>
</ul>
</div>
</div>
<div id="outline-container-org0d155c7" class="outline-2">
<h2 id="org0d155c7">系统信息函数</h2>
<div class="outline-text-2" id="text-org0d155c7">
<ul class="org-ul">
<li><code>database()</code> ，返回当前数据库名<br></li>
<li><code>benchmark(n, expr)</code> ，将表达式expr重复运行n次<br></li>
<li><code>charset()</code> ，返回字符串的字符集<br></li>
<li><code>connection_id()</code> ，返回当前客户的连接id<br></li>
<li><code>found_rows()</code> ，将最后一次select查询的行数返回<br></li>
<li><code>user()</code> ，返回当前登陆的用户名<br></li>
<li><code>version()</code> ，返回当前mysql服务器版本<br></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-03-13 21:03 Sun</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-03-14 Mon 19:46</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
