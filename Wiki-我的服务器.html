<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-10-23 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>我的服务器</title>
<meta name="author" content="Haoran Liu" />
<meta name="description" content="Copyright © 2022, Haoran Liu, all rights reserved." />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
           <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
           <script type="module" src="static/js/main.js" defer></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">我的服务器</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org70a5d20">1. ssh远程登录</a>
<ul>
<li><a href="#orgb5bfb82">1.1 口令登录</a></li>
<li><a href="#orgf447ed4">1.2 公钥登录</a></li>
</ul>
</li>
<li><a href="#orgd0a6350">2. 新增一个具有 root 权限的新用户</a></li>
<li><a href="#orge50caf6">3. 下载一些必备软件</a></li>
<li><a href="#org3df6ce9">4. 配置 bash</a></li>
</ul>
</div>
</div>

<div id="outline-container-org70a5d20" class="outline-2">
<h2 id="org70a5d20">1. ssh远程登录</h2>
<div class="outline-text-2" id="text-org70a5d20">
</div>
<div id="outline-container-orgb5bfb82" class="outline-3">
<h3 id="orgb5bfb82">1.1 口令登录</h3>
<div class="outline-text-3" id="text-orgb5bfb82">
<div class="org-src-container">
<pre class="src src-bash">ssh ldz@192.168.0.1
ssh -X ldz@192.168.0.1 <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22270;&#24418;&#30028;&#38754;&#30331;&#24405;</span>
ssh 192.168.0.1 <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#23458;&#25143;&#26426;&#30340;&#29992;&#25143;&#21517;&#21644;&#26381;&#21153;&#22120;&#30340;&#29992;&#25143;&#21517;&#30456;&#21516;&#65292;&#30331;&#24405;&#26102;&#21487;&#20197;&#30465;&#30053;&#29992;&#25143;&#21517;</span>
ssh -p 1234 ldz@192.168.0.1 <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; -p &#36873;&#39033;&#20462;&#25913;&#31471;&#21475;&#21495;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf447ed4" class="outline-3">
<h3 id="orgf447ed4">1.2 公钥登录</h3>
<div class="outline-text-3" id="text-orgf447ed4">
<ol class="org-ol">
<li><p>
使用 ssh-keygen 命令生成密钥对：<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">ssh-keygen -t rsa <span style="color: #5B6268;"># </span><span style="color: #5B6268;">-t&#34920;&#31034;&#31867;&#22411;&#36873;&#39033;&#65292;&#36825;&#37324;&#37319;&#29992;rsa&#21152;&#23494;&#31639;&#27861;</span>
</pre>
</div></li>

<li><p>
将公钥复制到远程主机中<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">ssh-copy-id ldz@192.168.0.1
</pre>
</div></li>
</ol>


<p>
更详细的在：<a href="SSH.html">SSH.org</a><br>
</p>
</div>
</div>
</div>
<div id="outline-container-orgd0a6350" class="outline-2">
<h2 id="orgd0a6350">2. 新增一个具有 root 权限的新用户</h2>
<div class="outline-text-2" id="text-orgd0a6350">
<p>
添加用户<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">useradd -m haoran <span style="color: #5B6268;"># </span><span style="color: #5B6268;">-m &#21019;&#24314;&#29992;&#25143;&#30340;&#21516;&#26102;&#21019;&#24314;&#23478;&#30446;&#24405;</span>
</pre>
</div>

<p>
设置密码，两次密码一致即可<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">passwd haoran232
</pre>
</div>

<p>
查看 /etc/sudoers 文件权限，如果是只读权限，修将其改为可写权限。<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">ls -l /etc/sudoers
chmod 777 /etc/sudoers
</pre>
</div>

<p>
vi /etc/sudoers 命令进行编辑，在 root ALL=(ALL) ALL 下方添加需要提升权限的用户信息：<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">haoran <span style="color: #cbccd1;">ALL</span>=(ALL)  ALL
</pre>
</div>

<p>
保存退出，并恢复 /etc/sudoers 的访问权限为 440<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">chmod 440 /etc/sudoers
</pre>
</div>

<p>
切换用户<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">su - haoran
</pre>
</div>
</div>
</div>

<div id="outline-container-orge50caf6" class="outline-2">
<h2 id="orge50caf6">3. 下载一些必备软件</h2>
<div class="outline-text-2" id="text-orge50caf6">
<ol class="org-ol">
<li>git<br></li>
<li>tree<br></li>
</ol>
</div>
</div>
<div id="outline-container-org3df6ce9" class="outline-2">
<h2 id="org3df6ce9">4. 配置 bash</h2>
<div class="outline-text-2" id="text-org3df6ce9">
<ol class="org-ol">
<li>首先查看使用的是哪个 shell<br></li>
<li><p>
配置服务器上的 ssh 密钥<br>
</p>
<div class="org-src-container">
<pre class="src src-bash">ssh-keygen -t rsa
</pre>
</div></li>
<li>下载 bash 的配置文件<br>
git@github.com:haoran-mc/dotfiles.git<br></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-10-21 21:10 Fri</p>
<p class="author">Author: Haoran Liu</p>
<p class="date">Created: 2022-10-23</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
