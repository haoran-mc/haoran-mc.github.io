<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-12-14 Tue 21:29 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VUE向后端传参</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">VUE向后端传参</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb253821">向后端传参的三种方式</a>
<ul>
<li><a href="#orgad1edff">以数据格式分类：</a>
<ul>
<li><a href="#orgee082b7">1、json格式</a></li>
<li><a href="#org0b49b79">2、formdata形式</a></li>
<li><a href="#org767a075">3、form表单形式</a></li>
</ul>
</li>
<li><a href="#orgad7e92b">以请求方法分类：</a>
<ul>
<li><a href="#org173b3dc">1、get 方法</a></li>
<li><a href="#org0a04010">2、post 方法</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgb253821" class="outline-2">
<h2 id="orgb253821">向后端传参的三种方式</h2>
<div class="outline-text-2" id="text-orgb253821">
</div>
<div id="outline-container-orgad1edff" class="outline-3">
<h3 id="orgad1edff">以数据格式分类：</h3>
<div class="outline-text-3" id="text-orgad1edff">
</div>
<div id="outline-container-orgee082b7" class="outline-4">
<h4 id="orgee082b7">1、json格式</h4>
<div class="outline-text-4" id="text-orgee082b7">
<pre class="example" id="orgbba427a">
&lt;script&gt;
 const params = {
	 "name": "张三",
	 "password": "123456",     
 }
 try {
	 getData(params).then(resp =&gt; {
		 const { data } = resp.data
		 console.log(data)
	 })
 } catch (e) {
	 console.log(e)
 }
&lt;/script&gt;
</pre>
</div>
</div>
<div id="outline-container-org0b49b79" class="outline-4">
<h4 id="org0b49b79">2、formdata形式</h4>
<div class="outline-text-4" id="text-org0b49b79">
<pre class="example" id="org58eb586">
&lt;script&gt;
const name = '张三'
const password= '123456'
let formdata = new FormData()
formdata.append('name', name )
formdata.append('password', password )
 try {
	getData(formdata).then(resp =&gt; {    // 调用接口方法
		const { data } = resp.data
		console.log(data)
	})
} catch (e) {
	console.log(e)
}
&lt;/script&gt;
</pre>
</div>
</div>
<div id="outline-container-org767a075" class="outline-4">
<h4 id="org767a075">3、form表单形式</h4>
<div class="outline-text-4" id="text-org767a075">
<p>
只能提交字符串形式，不能提交数组，若数据为数组，需要将数组拼接为字符串<br>
</p>

<pre class="example" id="orgeded2bd">
&lt;form method="post" enctype="application/msexcel"
															action="/drugrelctrl-web/getData"&gt;  //传参地址
	 &lt;input type="text"  name="password"  :value="password" /&gt;   // 输入文本
	 &lt;input type="submit"  class="submitBtn"   value="提交" /&gt;  //提交按钮
&lt;/form&gt;

&lt;script&gt;
export default{
	data() {
		return { password:"123456" }
	}
}	
&lt;/script&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad7e92b" class="outline-3">
<h3 id="orgad7e92b">以请求方法分类：</h3>
<div class="outline-text-3" id="text-orgad7e92b">
</div>
<div id="outline-container-org173b3dc" class="outline-4">
<h4 id="org173b3dc">1、get 方法</h4>
<div class="outline-text-4" id="text-org173b3dc">
<p>
get方法传参，我们只需要把要传递的参数拼接到要发送的路径地址后面。<br>
</p>
<pre class="example" id="org9a44410">
export default {
	data () {
		return {
			name: "david", //要传递的值1
			age: 20, //要传递的值2
		}
	},
	methods: {
	//在method里面定义一个向后端传递参数的方法，我这里使用的是async await方法向后端传递参数（注：async await是配套使用的）,'http://localhost:33333/api/'是我后端接收参数的地址
		async fetch() {
			const { data: resp } = await this.$http.get('http://localhost:33333/api/'+this. param1+'/'+this. param2);
			if (resp == 400) return this.$message.error(resp.msg);//对于返回值做了一个处理
		},
	},
}
</pre>
</div>
</div>
<div id="outline-container-org0a04010" class="outline-4">
<h4 id="org0a04010">2、post 方法</h4>
<div class="outline-text-4" id="text-org0a04010">
<p>
post方法允许我们定义并传递一个参数对象，在传值的时候我们可以一眼就看出自己传递的参数<br>
</p>

<pre class="example" id="org1a2f29a">
export default {
	data () {
		return {
			params:{
			 name: "david", //要传递的值1
			 age: 20, //要传递的值2
			} 
		}
	},
	methods: {
	//在method里面定义一个向后端传递参数的方法，我这里使用的是async await方法向后端传递参数（注：async await是配套使用的）,'http://localhost:33333/api/'是我后端接收参数的地址
		async fetch() {
			const { data: resp } = await this.$http.post('http://localhost:33333/api/',this.params);
			if (resp == 400) return this.$message.error(resp.msg);//对于返回值做了一个处理
		},
	},
}
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-12-14 21:12 Tue</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2021-12-14 Tue 21:29</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
