<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-05-09 Mon 16:23 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TCP 与 UDP</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">TCP 与 UDP</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4c5359d">TCP 与 UDP 的区别</a></li>
<li><a href="#orgfc08fb7">什么时候选择 TCP，什么时候选择 UDP？</a></li>
<li><a href="#org73a7a3e">HTTP 可以使用 UDP 吗？</a></li>
<li><a href="#orgb9435b3">TCP 如何保证传输的可靠性</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4c5359d" class="outline-2">
<h2 id="org4c5359d">TCP 与 UDP 的区别</h2>
<div class="outline-text-2" id="text-org4c5359d">
<ol class="org-ol">
<li><p>
TCP 是面向连接的，UDP 是无连接的<br>
</p>
<pre class="example">
什么叫无连接？
UDP 发送数据之前不需要三次握手。
</pre></li>
<li><p>
TCP 是可靠的，UDP 是不可靠的<br>
</p>
<pre class="example">
什么叫不可靠？
UDP 接收方收到报文后，不需要给出任何确认。
</pre></li>
<li>TCP 只支持点对点通信，UDP 支持一对一、一对多、多对多<br></li>
<li><p>
TCP 是面向字节流的，UDP 是面向报文的<br>
</p>
<pre class="example">
面向字节流与面向报文是什么意思？
面向字节流是指发送数据时以字节为单位，一个数据包可以拆分成若干组进行发送，而UDP一个报文只能一次发完。
</pre></li>
<li>TCP 有拥塞控制机制，UDP 没有，网络出现的拥塞不会使源主机的发送速率降低，这对某些实时应用是很重要的，比如媒体通信，游戏。<br></li>
<li>TCP首部开销（20字节）比UDP首部开销（8字节）要大<br></li>
<li>UDP 的主机不需要维持复杂的连接状态表<br></li>
</ol>
</div>
</div>
<div id="outline-container-orgfc08fb7" class="outline-2">
<h2 id="orgfc08fb7">什么时候选择 TCP，什么时候选择 UDP？</h2>
<div class="outline-text-2" id="text-orgfc08fb7">
<p>
对某些实时性要求比较高的情况，选择 UDP，比如游戏，媒体通信，实时视频流（直播），即使出现传输错误也可以容忍；其它大部分情况下，HTTP 都是用 TCP，因为要求传输的内容可靠，不出现丢失。<br>
</p>
</div>
</div>
<div id="outline-container-org73a7a3e" class="outline-2">
<h2 id="org73a7a3e">HTTP 可以使用 UDP 吗？</h2>
<div class="outline-text-2" id="text-org73a7a3e">
<p>
HTTP 不可以使用 UDP，HTTP 需要基于可靠的传输协议，而 UDP 不可靠。<br>
</p>

<p>
注：http 3.0 使用udp实现 <a href="https://zh.wikipedia.org/wiki/HTTP/3">https://zh.wikipedia.org/wiki/HTTP/3</a><br>
</p>
</div>
</div>
<div id="outline-container-orgb9435b3" class="outline-2">
<h2 id="orgb9435b3">TCP 如何保证传输的可靠性</h2>
<div class="outline-text-2" id="text-orgb9435b3">
<ol class="org-ol">
<li>数据包校验<br></li>
<li>对失序数据包重新排序（TCP报文具有序列号）<br></li>
<li>丢弃重复数据<br></li>
<li>应答机制：接收方收到数据之后，会发送一个确认（通常延迟几分之一秒）；<br></li>
<li>超时重发：发送方发出数据之后，启动一个定时器，超时未收到接收方的确认，则重新发送这个数据；<br></li>
<li>流量控制：确保接收端能够接收发送方的数据而不会缓冲区溢出<br></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-03-05 17:03 Sat</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-05-09 Mon 16:23</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
