<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-11-26 Fri 23:20 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JSP内置对象</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">JSP内置对象</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8ece77d">认识JSP内置对象</a></li>
<li><a href="#org103a4f5">out对象</a></li>
<li><a href="#org44568a1">request对象</a></li>
<li><a href="#orgb73c94b">response对象</a>
<ul>
<li><a href="#org2e665a4">利用response对象进行重定向</a></li>
<li><a href="#orge7fa463">利用response设置HTTP头</a></li>
</ul>
</li>
<li><a href="#org17db505">Cookie操作</a></li>
<li><a href="#org2dcf06d">利用session开发购物车</a>
<ul>
<li><a href="#org5bfe0aa">购物车需求</a></li>
<li><a href="#orgbfb01ae">如何用session开发购物车</a></li>
</ul>
</li>
<li><a href="#org2677e61">session其他API</a>
<ul>
<li><a href="#orgdb66e23">session的其他操作</a></li>
<li><a href="#org4391c2f">sessionId</a></li>
<li><a href="#org5c3aeff">利用session保存登录信息</a></li>
</ul>
</li>
<li><a href="#org874298a">application对象</a></li>
<li><a href="#orgc9151b6">其他对象</a></li>
</ul>
</div>
</div>

<div id="outline-container-org8ece77d" class="outline-2">
<h2 id="org8ece77d">认识JSP内置对象</h2>
<div class="outline-text-2" id="text-org8ece77d">
<p>
内置对象的特点：<br>
</p>
<ol class="org-ol">
<li>内置对象是自动载入的，不需要直接实例化<br></li>
<li>内置对象是通过Web容器来实现和管理的<br></li>
<li>在所有的JSP页面中，直接调用内置对象都是合法的<br></li>
</ol>

<p>
JSP规范中定义了9中内置对象：<br>
</p>
<ol class="org-ol">
<li>out对象 - 负责管理对客户端的输出<br></li>
<li>request对象 - 负责得到客户端的请求信息<br></li>
<li>response对象 - 负责向客户端发出响应<br></li>
<li>session对象 - 负责保存同一客户端一次会话过程中的一些信息<br></li>
<li>application对象 - 表示整个应用的环境的信息<br></li>
<li>exception对象 - 表示页面上的异常，可以通过它获得页面异常信息<br></li>
<li>page对象 - 表示的是当前JSP页面本身，就像Java类定义中的this一样<br></li>
<li>pageContext对象 - 表示的是此JSP的上下文<br></li>
<li>config对象 - 表示此JSP的ServletConfig<br></li>
</ol>
</div>
</div>
<div id="outline-container-org103a4f5" class="outline-2">
<h2 id="org103a4f5">out对象</h2>
<div class="outline-text-2" id="text-org103a4f5">
<p>
作用：<br>
</p>
<ol class="org-ol">
<li>用来向客户端输出各种数据类型的内容<br></li>
<li>对应用服务器上的输出缓冲区进行管理<br></li>
</ol>

<p>
主要的方法：<br>
</p>
<ol class="org-ol">
<li>print<br></li>
<li>println<br></li>
</ol>

<p>
还可以实现对应用服务器上的输出缓冲区的管理，但使用 out 管理缓冲区较少，通常使用服务器端默认的设置，而不需要手动管理。<br>
</p>
</div>
</div>
<div id="outline-container-org44568a1" class="outline-2">
<h2 id="org44568a1">request对象</h2>
<div class="outline-text-2" id="text-org44568a1">
<p>
request 代表了客户端的请求信息，主要是用来获取客户端的参数和流。<br>
</p>

<p>
主要的方法：<br>
</p>
<dl class="org-dl">
<dt>String getMethod()</dt><dd>得到提交方式<br></dd>
<dt>String getRequestURL()</dt><dd>得到请求的 URL 地址<br></dd>
<dt>String getProtocol()</dt><dd>得到协议名称<br></dd>
<dt>String getServletPath()</dt><dd>得到客户端请求服务器文件的路径<br></dd>
<dt>String getQueryString()</dt><dd>得到 URL 的查询部分，对 post 来说，该方法得不到任何信息<br></dd>
<dt>String getServerName()</dt><dd>得到服务器的名称<br></dd>
<dt>String getServerPort()</dt><dd>得到服务器口号<br></dd>
<dt>String getRemoteAddr()</dt><dd>得到客户端的 IP 地址<br></dd>
</dl>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span>  <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &#25552;&#20132;&#26041;&#24335;: &lt;%=request.getMethod() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#35831;&#27714;&#30340;URL&#22320;&#22336;: &lt;%=request.getRequestURI() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#21327;&#35758;&#21517;&#31216;: &lt;%=request.getProtocol() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#23458;&#25143;&#31471;&#35831;&#27714;&#26381;&#21153;&#22120;&#25991;&#20214;&#30340;&#36335;&#24452;: &lt;%=request.getServletPath() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    URL&#30340;&#26597;&#35810;&#37096;&#20998;: &lt;%=request.getQueryString() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#26381;&#21153;&#22120;&#30340;&#21517;&#31216;: &lt;%=request.getServerName() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#26381;&#21153;&#22120;&#21475;&#21495;: &lt;%=request.getServerPort() %&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
    &#36828;&#31243;&#23458;&#25143;&#31471;&#30340;IP&#22320;&#22336;: &lt;%=request.getRemoteAddr()%&gt;&lt;<span style="color: #AFAFAF;">br</span>&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<p>
这个文件所在的项目名是 Prj01，文件名是 requestTest.jsp。<br>
</p>

<p>
在浏览器地址栏输入 "<a href="http://localhost:8080/Prj07/requestTest.jsp?a=1&amp;b=3">http://localhost:8080/Prj07/requestTest.jsp?a=1&amp;b=3</a>" ，后的运行结果：<br>
</p>

<pre class="example" id="org00bc284">
提交方式: GET
请求的URL地址: /06_JSP01_war_exploded/requestTest.jsp
协议名称: HTTP/1.1
客户端请求服务器文件的路径: /requestTest.jsp
URL的查询部分: null
服务器的名称: localhost
服务器口号: 8080
远程客户端的IP地址: 127.0.0.1
</pre>

<p>
直接访问 URL 属于 GET 方式提交；通过连接方式请求，也是 GET 方式。<br>
</p>

<p>
request 对象还能获得客户端的参数，常用的两个方法：<br>
</p>

<dl class="org-dl">
<dt>String getParameter(String name)</dt><dd>获得客户端传送给服务器的 name 参数的值，当传递给此函数的参数名没有实际参数与之对应时，返回 null。<br></dd>
<dt>String[] getParameterValues(String name)</dt><dd>以字符串数组的形式返回指定参数所有值。<br></dd>
</dl>
</div>
</div>
<div id="outline-container-orgb73c94b" class="outline-2">
<h2 id="orgb73c94b">response对象</h2>
<div class="outline-text-2" id="text-orgb73c94b">
<p>
response 与 request 是一对相对应的内置对象，response 可以理解为客户端的响应，request 可以理解为客户端的请求。<br>
</p>
</div>
<div id="outline-container-org2e665a4" class="outline-3">
<h3 id="org2e665a4">利用response对象进行重定向</h3>
<div class="outline-text-3" id="text-org2e665a4">
<p>
重定向就是跳转到另一个页面，使用 response 对象进行重定向的方法：response.sendRedirect(目标页面路径);<br>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;<span style="color: #AFAFAF;">form</span> <span style="color: #AFAFAF;">action</span>=<span style="color: #FC9F4E;">"responseTest2.jsp"</span>&gt;
      &lt;<span style="color: #AFAFAF;">input</span> <span style="color: #AFAFAF;">type</span>=<span style="color: #FC9F4E;">"submit"</span> <span style="color: #AFAFAF;">value</span>=<span style="color: #FC9F4E;">"&#25552;&#20132;"</span>&gt;
    &lt;/<span style="color: #AFAFAF;">form</span>&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;%
      //response.sendRedirect(<span style="color: #FC9F4E;">"responseTest3.jsp"</span>);//&#30456;&#23545;&#36335;&#24452;
      %&gt;
    &lt;<span style="color: #AFAFAF;">jsp</span>:<span style="color: #AFAFAF;">forward</span> <span style="color: #AFAFAF;">page</span>=<span style="color: #FC9F4E;">"responseTest3.jsp"</span>&gt;&lt;/<span style="color: #AFAFAF;">jsp</span>:<span style="color: #AFAFAF;">forward</span>&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &#27426;&#36814;&#26469;&#21040;&#23398;&#29983;&#31649;&#29702;&#31995;&#32479;!!!
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<p>
上面这三个文件分别是 responseTest1.jsp, responseTest2.jsp,  responseTest3.jsp，点击页面1的提交按钮后会进入页面2，但进入页面2就会立即重定向到页面3，显示”欢迎来到学生管理系统！！“。<br>
</p>

<p>
重定向还可以使用 JSP 动作指令： <code>&lt;jsp:forward page=""&gt;&lt;/jsp:forward&gt;</code> <br>
</p>

<p>
上面的例子只需要把 responseTest2.jsp 中的代码改为： <code>&lt;jsp:forward page="responseTest6.jsp"&gt;&lt;/jsp:forward&gt;</code><br>
</p>

<p>
使用上述两种方法跳转会有很大的不同：<br>
</p>

<ol class="org-ol">
<li><p>
从浏览器的地址显示来看<br>
forward 方法属于服务器端去请求资源，服务器直接访问目标地址，并对目标地址的响应内容进行读取，再把读取的内容发给浏览器，因此客户端浏览器地址不变；<br>
</p>

<p>
而 redirect 是告诉客户端，使浏览器知道去请求哪个地址，相当于客户端重新请求一次，所以地址栏会变。<br>
</p></li>

<li><p>
从数据共享来看<br>
forward 转发的页，以及转发到的目标页面能够共享 request 里面的数据，而 redirect 转发的页面以及转发到的页面不能共享 request 里面的数据。<br>
</p>

<p>
使用 forward 转发后，可以使用 request.getParameter("name") 来获取转发携带的数据。<br>
</p></li>

<li><p>
从功能来看<br>
redirect 还能够重定向到其他站点的资源 response.sendRedirect("<a href="https://www.baidu.com">https://www.baidu.com</a>");<br>
</p>

<p>
但是 &lt;jsp:forward page="<a href="https://www.baidu.com">https://www.baidu.com</a>"&gt;&lt;/jsp:forward&gt; 这样就是错的。<br>
</p></li>

<li>从效率来看<br>
forward 效率高，因为跳转仅发生在服务器端，redirect 相对效率较低。<br></li>
</ol>
</div>
</div>
<div id="outline-container-orge7fa463" class="outline-3">
<h3 id="orge7fa463">利用response设置HTTP头</h3>
<div class="outline-text-3" id="text-orge7fa463">
<p>
可以通过 response 的 setHeader() 方法来进行设置。<br>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"ISO-8859-1"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;%
      response.setHeader(<span style="color: #FC9F4E;">"Pragma"</span>,<span style="color: #FC9F4E;">"No-cache"</span>);
      response.setHeader(<span style="color: #FC9F4E;">"Cache-Control"</span>,<span style="color: #FC9F4E;">"no-cache"</span>);
      response.setDateHeader(<span style="color: #FC9F4E;">"Expires"</span>,0);
      %&gt;    
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">response.setHeader("Refresh", "5");
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org17db505" class="outline-2">
<h2 id="org17db505">Cookie操作</h2>
<div class="outline-text-2" id="text-org17db505">
<p>
写 Cookie 时主要用到的几个方法：<br>
</p>
<dl class="org-dl">
<dt>response.addCookie(Cookie c)</dt><dd>通过这个方法将 Cookie 写入客户端<br></dd>
<dt>Cookie.setMaxAge(int second)</dt><dd>通过这个方法设置 Cookie 的存活时间<br></dd>
<dt>Cookie[] request.getCookies()</dt><dd>读取客户端传过来的 Cookie，以数组的形式返回<br></dd>
</dl>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;%
  //&#23450;&#20041;&#19968;&#20010;&#21464;&#37327;&#65306;
  String str = <span style="color: #FC9F4E;">"12"</span>;
  int number = Integer.parseInt(str);
  %&gt;
&#35813;&#25968;&#23383;&#30340;&#24179;&#26041;&#20026;&#65306;&lt;%=number*number %&gt;&lt;<span style="color: #AFAFAF;">HR</span>&gt;
&lt;%
  //&#23558;str&#23384;&#20837;Cookie
  Cookie cookie = new Cookie(<span style="color: #FC9F4E;">"number"</span>,str);
  //&#35774;&#32622;Cookie&#30340;&#23384;&#27963;&#26399;&#20026;600&#31186;
  cookie.setMaxAge(600);
  //&#23558;Cookie&#20445;&#23384;&#20110;&#23458;&#25143;&#31471;
  response.addCookie(cookie);
  %&gt;
&lt;<span style="color: #AFAFAF;">a</span> <span style="color: #AFAFAF;">href</span>=<span style="color: #FC9F4E;">"cookieP2.jsp"</span>&gt;&#21040;&#36798;p2&lt;/<span style="color: #AFAFAF;">a</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;%
  //&#20174;Cookie&#33719;&#24471;number
  String str = null;
  Cookie[] cookies = request.getCookies();
  for(int i=0;i&lt;<span style="color: #AFAFAF;">cookies.length</span>;i++){ if(cookies[i].getName().equals(<span style="color: #FC9F4E;">"number"</span>)){ str = cookies[i].getValue(); break;} }
                                     int number = Integer.parseInt(str);
                                     %&gt;
  &#35813;&#25968;&#23383;&#30340;&#31435;&#26041;&#20026;&#65306;&lt;%=number*number*number %&gt;&lt;<span style="color: #AFAFAF;">HR</span>&gt;
</pre>
</div>

<p>
虽然使用 Cookie 在客户端的浏览器上看不到任何和传递值有关的信息，但是不能说 Cookie 是安全的，因为客户端存储的 Cookie 文件可以被被人获知，这个 Cookie 文件是存储在客户端磁盘中的。<br>
</p>

<p>
所以 Cookie 并不是绝对安全的，目前 Cookie 被盗取有下列几种方法：<br>
</p>
<ol class="org-ol">
<li>利用跨站脚本技术<br></li>
<li>通过某些软件，窃取硬盘下的 Cookie<br></li>
</ol>

<p>
虽然，但是 Cookie 在 Web 编程中还是应用很广的，主要来源有：<br>
</p>
<ol class="org-ol">
<li>Cookie 的值能持久化，即使客户端机器关闭，下次打开还是可以得到里面的值，因此 Cookie 可以用来减轻用户一些验证工作的输入负担。<br></li>
<li>Cookie 可以帮助服务器端保存多个状态信息，但是不用服务端专门分配存储资源。<br></li>
<li>Cookie 可以持久保持一些和客户相关的信息<br></li>
</ol>

<p>
解决 Cookie 安全的方法有很多，常见的有：<br>
</p>
<ol class="org-ol">
<li>session<br></li>
<li>及时删除 Cookie<br>
<ul class="org-ul">
<li>给一个 Cookie 赋空值<br></li>
<li>设置 Cookie 的失效时间为当前时间<br></li>
<li>通过浏览器删除 Cookie<br></li>
<li>禁用 Cookie<br></li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-org2dcf06d" class="outline-2">
<h2 id="org2dcf06d">利用session开发购物车</h2>
<div class="outline-text-2" id="text-org2dcf06d">
</div>
<div id="outline-container-org5bfe0aa" class="outline-3">
<h3 id="org5bfe0aa">购物车需求</h3>
<div class="outline-text-3" id="text-org5bfe0aa">
<p>
JSP 内置对象 session 是跨页面保持的，当访问网站时，服务器端分配一个 session 对象给用户使用，对于同一个用户，不管在哪个页面，用户使用的都是同一个 session。<br>
</p>

<p>
所以在实现一个购物车时，不同页面跳转，但 session 中的物品还是那些选择的物品。<br>
</p>
</div>
</div>
<div id="outline-container-orgbfb01ae" class="outline-3">
<h3 id="orgbfb01ae">如何用session开发购物车</h3>
<div class="outline-text-3" id="text-orgbfb01ae">
<p>
常用的 session API：<br>
</p>

<ol class="org-ol">
<li><p>
将内容放入购物车<br>
</p>
<dl class="org-dl">
<dt>void session.setAttribute(String name, Object obf)</dt><dd>将一个对象放入购物车，name 是这个物品的属性（attribute）名字，obj 是内容本身。<br></dd>
</dl>

<div class="org-src-container">
<pre class="src src-java">session.setAttribute(<span style="color: #FC9F4E;">"book1"</span>, <span style="color: #FC9F4E;">"&#19977;&#22269;&#28436;&#20041;"</span>)
</pre>
</div>

<p>
如果两次调用 seAttribute，并且 name 相同，那么后面放进去的内容将会覆盖以前进去的内容。<br>
</p>

<p>
第二个参数 Object 类型，可以放入的不仅仅是一些简单的字符串，还可以是 Object。集合、数据结构对象都可以放入 session。<br>
</p></li>
<li><p>
读取购物车的内容<br>
</p>
<dl class="org-dl">
<dt>Object session.getAttribute(String name)</dt><dd>name 就是被取出的内容所对应的标记，返回值是内容本身。<br></dd>
</dl>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #AFAFAF;">String</span> <span style="color: #AFAFAF;">str</span> = (<span style="color: #AFAFAF;">String</span>)session.setAttribute(<span style="color: #FC9F4E;">"book1"</span>);
</pre>
</div></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org2677e61" class="outline-2">
<h2 id="org2677e61">session其他API</h2>
<div class="outline-text-2" id="text-org2677e61">
</div>
<div id="outline-container-orgdb66e23" class="outline-3">
<h3 id="orgdb66e23">session的其他操作</h3>
<div class="outline-text-3" id="text-orgdb66e23">
<ol class="org-ol">
<li><p>
移除 session 中的内容<br>
</p>
<dl class="org-dl">
<dt>void session.removeAttribute(String name)</dt><dd>将属性名为 name 的内容从 session 中移除<br></dd>
</dl>

<div class="org-src-container">
<pre class="src src-java">session.removeAttribute(<span style="color: #FC9F4E;">"book1"</span>);
</pre>
</div></li>
<li>移除 session 中的全部内容<br>
<dl class="org-dl">
<dt>void session.unvalidate()</dt><dd>移除全部内容<br></dd>
</dl></li>
</ol>
</div>
</div>
<div id="outline-container-org4391c2f" class="outline-3">
<h3 id="org4391c2f">sessionId</h3>
<div class="outline-text-3" id="text-org4391c2f">
<p>
对于每一个 session，服务器端都有一个 sessionID 来标识它。这样服务器就知道该用户的多个页面使用的是哪一个 session。<br>
</p>

<dl class="org-dl">
<dt>String session.getId()</dt><dd>得到当前 session 在服务端的 Id<br></dd>
</dl>
</div>
</div>
<div id="outline-container-org5c3aeff" class="outline-3">
<h3 id="org5c3aeff">利用session保存登录信息</h3>
<div class="outline-text-3" id="text-org5c3aeff">
<p>
登录后，将用户的帐号存放在 session 中，后面的各个页面都可以访问 session 中的内容。<br>
</p>
</div>
</div>
</div>
<div id="outline-container-org874298a" class="outline-2">
<h2 id="org874298a">application对象</h2>
<div class="outline-text-2" id="text-org874298a">
<p>
session 中的数据可以被同一个客户在网站的一次会话过程共享，但是对不同客户来说每个人的 session 是不同的；application 对象则不同，对于不同客户端来说，服务器端的对象是相同的。<br>
</p>

<p>
在网上书城中，当前在线的用户名单是对所有客户共享的，那么就可以存放在服务器端的 application 中。<br>
</p>

<p>
服务器启动后就会自动创建一个 application 对象，这个对象会一直保存知道服务器关闭。<br>
</p>

<p>
主要的 API：<br>
</p>

<dl class="org-dl">
<dt>void application.setAttribute(String name, Object obj)</dt><dd>将内容放入 application<br></dd>
<dt>Object application.getAttribute(String name)</dt><dd>读取 application 中的内容<br></dd>
<dt>void application.removeAttribute(String name)</dt><dd>将内容移除<br></dd>
</dl>
</div>
</div>
<div id="outline-container-orgc9151b6" class="outline-2">
<h2 id="orgc9151b6">其他对象</h2>
<div class="outline-text-2" id="text-orgc9151b6">
<dl class="org-dl">
<dt>exception对象</dt><dd>获取异常信息<br></dd>
<dt>page对象</dt><dd>指向当前 JSP 程序本身<br></dd>
<dt>config对象</dt><dd>传递信息，包括 JSP 程序初始化时需要的参数及服务器的有关信息<br></dd>
<dt>pageContext对象</dt><dd>可以使用 pageContext 对象访问除自身以外的 8 个 JSP 内部对象，还可以直接访问绑定在 application 对象、page 对象、request 对象、session 对象上的 Java 对象<br></dd>
</dl>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-11-09 22:11 Tue</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2021-11-26 Fri 23:20</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
