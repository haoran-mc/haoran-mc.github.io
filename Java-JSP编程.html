<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-11-09 Tue 16:56 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JSP编程</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">JSP编程</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2176d76">一个简单的JSP页面</a></li>
<li><a href="#org1cf0aa4">注释</a></li>
<li><a href="#org5d1279d">表达式</a></li>
<li><a href="#org55259a1">程序段</a></li>
<li><a href="#org132bd37">声明</a></li>
<li><a href="#org8854d12">URL传值</a></li>
<li><a href="#orga9b3411">指令</a></li>
<li><a href="#org8ddf3cf">动作</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2176d76" class="outline-2">
<h2 id="org2176d76">一个简单的JSP页面</h2>
<div class="outline-text-2" id="text-org2176d76">
<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">contentType</span>=<span style="color: #FC9F4E;">"text/html; charset=gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;%
      out.print(<span style="color: #FC9F4E;">"&#27426;&#36814;&#26469;&#26412;&#31995;&#32479;&#65281;"</span>);
      %&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>

<p>
HTML是静态页面，JSP页面是由JSP容器执行该页面的Java代码部分，然后，实时生成HTML页面，因而说其是服务器端动态页面。<br>
</p>

<p>
上面的效果用JavaScript也能实现，JavaScript代码部分是由客户端执行；而JSP中Java代码部分是由服务端执行后发送到客户端的。<br>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">contentType</span>=<span style="color: #FC9F4E;">"text/html; charset=gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;<span style="color: #AFAFAF;">script</span> <span style="color: #AFAFAF;">type</span>=<span style="color: #FC9F4E;">"text/javascript"</span>&gt;
      document.write("&#27426;&#36814;&#26469;&#21040;&#26412;&#31995;&#32479;!");
    &lt;/<span style="color: #AFAFAF;">script</span>&gt;
    &lt;<span style="color: #AFAFAF;">br</span>&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org1cf0aa4" class="outline-2">
<h2 id="org1cf0aa4">注释</h2>
<div class="outline-text-2" id="text-org1cf0aa4">
<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">contentType</span>=<span style="color: #FC9F4E;">"text/html; charset=gb2312"</span>%&gt;
&lt;<span style="color: #AFAFAF;">html</span>&gt;
  &lt;<span style="color: #AFAFAF;">body</span>&gt;
    &lt;%
      out.print(<span style="color: #FC9F4E;">"&#27426;&#36814;&#26469;&#26412;&#31995;&#32479;&#65281;"</span>);   // JAVA&#27880;&#37322;
      %&gt;
    &lt;<span style="color: #AFAFAF;">br</span>&gt;
    <span style="color: #7c7c7c; font-style: italic;">&lt;!-- </span><span style="color: #7c7c7c; font-style: italic;">HTML&#39118;&#26684;&#27880;&#37322;&#65292;&#23427;&#20250;&#21457;&#36865;&#21040;&#23458;&#25143;&#31471;</span><span style="color: #7c7c7c; font-style: italic;">--&gt;</span>
    &lt;%-- JSP&#39118;&#26684;&#27880;&#37322;&#65292;&#23427;&#19981;&#20250;&#21457;&#36865;&#21040;&#23458;&#25143;&#31471; --%&gt;
  &lt;/<span style="color: #AFAFAF;">body</span>&gt;
&lt;/<span style="color: #AFAFAF;">html</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org5d1279d" class="outline-2">
<h2 id="org5d1279d">表达式</h2>
<div class="outline-text-2" id="text-org5d1279d">
<p>
基本语法： <code>&lt;% =变量/返回值/表达式 %&gt;</code> ，其作用是将里面的内容所运算的结果输出到客户端，等价于 <code>&lt;% out.print(变量/返回值/表达式) %&gt;</code> 。<br>
</p>

<p>
使用表达式需要注意：<br>
</p>
<ol class="org-ol">
<li>JSP表达式中不能用 ";" 结束<br></li>
<li>在JSP表达式中不能出现多条语句<br></li>
<li>JSP表达式里的内容一定是字符串类型，或者能通过toString函数转换成字符串的形式。<br></li>
</ol>
</div>
</div>
<div id="outline-container-org55259a1" class="outline-2">
<h2 id="org55259a1">程序段</h2>
<div class="outline-text-2" id="text-org55259a1">
<p>
是Java代码段。<br>
</p>
</div>
</div>
<div id="outline-container-org132bd37" class="outline-2">
<h2 id="org132bd37">声明</h2>
<div class="outline-text-2" id="text-org132bd37">
<p>
声明之后可以全局使用， <code>&lt;%! str = "你好" %&gt;</code> 。<br>
</p>
</div>
</div>
<div id="outline-container-org8854d12" class="outline-2">
<h2 id="org8854d12">URL传值</h2>
<div class="outline-text-2" id="text-org8854d12">
<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;%
  //&#23450;&#20041;&#19968;&#20010;&#21464;&#37327;&#65306;
  String str = <span style="color: #FC9F4E;">"12"</span>;
  int number = Integer.parseInt(str);
  %&gt;
&#35813;&#25968;&#23383;&#30340;&#24179;&#26041;&#20026;&#65306;&lt;%=number*number %&gt;&lt;<span style="color: #AFAFAF;">HR</span>&gt;
&lt;<span style="color: #AFAFAF;">a</span> <span style="color: #AFAFAF;">href</span>=<span style="color: #FC9F4E;">"urlP2.jsp?number=&lt;%=number %&gt;"</span>&gt;&#21040;&#36798;p2&lt;/<span style="color: #AFAFAF;">a</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">&lt;%@ page <span style="color: #AFAFAF;">language</span>=<span style="color: #FC9F4E;">"java"</span> <span style="color: #AFAFAF;">import</span>=<span style="color: #FC9F4E;">"java.util.*"</span> <span style="color: #AFAFAF;">pageEncoding</span>=<span style="color: #FC9F4E;">"gb2312"</span>%&gt;
&lt;%
  //&#33719;&#24471;number
  String str = request.getParameter(<span style="color: #FC9F4E;">"number"</span>);
  int number = Integer.parseInt(str);
  %&gt;
&#35813;&#25968;&#23383;&#30340;&#31435;&#26041;&#20026;&#65306;&lt;%=number*number*number %&gt;&lt;<span style="color: #AFAFAF;">HR</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-orga9b3411" class="outline-2">
<h2 id="orga9b3411">指令</h2>
<div class="outline-text-2" id="text-orga9b3411">
<p>
JSP 包含3个指令：page、include和taglib，其中使用最多的是page指令和include指令。<br>
</p>

<p>
通常情况下，JSP程序都是以page指令开头，page指令用来设定页面的属性和相关的功能，可以利用其来进行导入需要类、指明JSP输出内容的类型、指定处理异常的错误页面等操作，page指令的作用如下。<br>
</p>

<ol class="org-ol">
<li>导入包，&lt;%@ page import = "包名.类名" %&gt;<br></li>
<li>设定字符集，&lt;% page pageEncoding="编码类型" %&gt;<br></li>
<li>设定错误界面，&lt;%@ page errorPage="anErrorPage.jsp" %&gt;、&lt;%@ page isErrorPage="true" %&gt;<br></li>
<li>设定MIME类型和字符编码，&lt;%@ page contentType="MIME类型; charset=字符编码" %&gt;<br></li>
</ol>

<p>
include指令的file属性可以指定包含哪个文件，将被指定的文件原封不动地复制到本页面中，注意，在指定与被指定的页面的变量不能出现冲突。<br>
</p>
</div>
</div>
<div id="outline-container-org8ddf3cf" class="outline-2">
<h2 id="org8ddf3cf">动作</h2>
<div class="outline-text-2" id="text-org8ddf3cf">
<p>
JSP动作指使用XML语法格式的标记来控制服务器的行为。<br>
</p>

<ul class="org-ul">
<li>&lt;jsp:动作名 属性1="属性值1" &#x2026; 属性n="属性n" /&gt;<br></li>
<li>&lt;jsp:动作名 属性1="属性值1" &#x2026; 属性n="属性n"&gt;内容&lt;/jsp:动作名&gt;<br></li>
</ul>

<p>
JSP动作包括：<br>
</p>
<ol class="org-ol">
<li>jsp:include - 当页面被请求的时候引入一个文件<br></li>
<li>jsp:forward - 将请求转到另一个页面<br></li>
<li>jsp:useBean - 获得JavaBean的一个实例<br></li>
<li>jsp:setProperty - 设置JavaBean的属性<br></li>
<li>jsp:getProperty - 获得JavaBean的属性<br></li>
<li>jsp:plugin - 根据浏览器类型，为Java插件生成OBJECT或EMBED两种标记<br></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-11-09 11:11 Tue</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2021-11-09 Tue 16:56</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
