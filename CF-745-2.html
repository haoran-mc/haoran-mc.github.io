<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-10-04 一 22:03 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CF-745-2</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">CF-745-2</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgebb38a5">A - CQXYM Count Permutation</a></li>
<li><a href="#orgc22b4dd">B - Diameter of Graph</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgebb38a5" class="outline-2">
<h2 id="orgebb38a5">A - CQXYM Count Permutation</h2>
<div class="outline-text-2" id="text-orgebb38a5">
<ul class="org-ul">
<li>当一个序列出现 \(0\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(2n - 1\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>当一个序列出现 \(1\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(2n - 2\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>当一个序列出现 \(2\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(2n - 3\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>\(\dots\)<br></li>
<li>当一个序列出现 \(n - 1\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(n\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>当一个序列出现 \(n\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(n - 1\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>当一个序列出现 \(n + 1\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(n - 2\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>当一个序列出现 \(n + 2\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(n - 3\) 次 \(p_i > p_{i + 1}\)<br></li>
<li>\(\dots\)<br></li>
<li>当一个序列出现 \(2n - 1\) 次 \(p_i < p_{i + 1}\) 时，也就出现了 \(0\) 次 \(p_i > p_{i + 1}\)<br></li>
</ul>

<p>
题目要求求出多少个序列满足 \(p_i < p_{i + 1}\) 出现的次数大于等于 \(n\)<br>
</p>

<p>
我们知道，一个序列中出现 \(n\) 次 \(p_i < p_{i + 1}\) 的概率等于出现 \(n\) 次 \(p_i > p_{i + 1}\) 的概率，也即是出现 \(n - 1\) 次 \(p_i < p_{i + 1}\) 的概率<br>
</p>

<p>
同理<br>
</p>

<ul class="org-ul">
<li>一个序列出现 \(n + 1\) 次 \(p_i < p_{i + 1}\) 的概率等于出现 \(n + 1\) 次 \(p_i > p_{i + 1}\) 的概率，也即是出现 \(n - 2\) 次 \(p_i < p_{i + 1}\) 的概率<br></li>
<li>一个序列出现 \(n + 2\) 次 \(p_i < p_{i + 1}\) 的概率等于出现 \(n + 2\) 次 \(p_i > p_{i + 1}\) 的概率，也即是出现 \(n - 3\) 次 \(p_i < p_{i + 1}\) 的概率<br></li>
<li>一个序列出现 \(n + 3\) 次 \(p_i < p_{i + 1}\) 的概率等于出现 \(n + 3\) 次 \(p_i > p_{i + 1}\) 的概率，也即是出现 \(n - 4\) 次 \(p_i < p_{i + 1}\) 的概率<br></li>
<li>\(\dots\)<br></li>
<li>一个序列出现 \(2n - 1\) 次 \(p_i < p_{i + 1}\) 的概率等于出现 \(2n - 1\) 次 \(p_i > p_{i + 1}\) 的概率，也即是出现 \(0\) 次 \(p_i < p_{i + 1}\) 的概率<br></li>
</ul>

<p>
则，题目答案为含有 \(n\) 个数的排列数的一半 \(\frac{A_n^n}{2}\)，由于需要取模，所以求 \(2\) 在模 \(MOD\) 下的逆元<br>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #BD93F9;">typedef</span> <span style="color: #AFAFAF;">long</span> <span style="color: #AFAFAF;">long</span> <span style="color: #AFAFAF;">ll</span>;
<span style="color: #BD93F9;">const</span> <span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">MOD</span> = <span style="color: #009F9F;">1e9</span> + <span style="color: #009F9F;">7</span>;

<span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">binPow</span>(<span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">base</span>, <span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">expo</span>, <span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">mod</span>) {
    <span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">res</span> = <span style="color: #009F9F;">1</span>;
    <span style="color: #BD93F9;">while</span> (expo != <span style="color: #009F9F;">0</span>) {
        <span style="color: #BD93F9;">if</span> (expo &amp; <span style="color: #009F9F;">1</span>)
            res = (<span style="color: #009F9F;">1ll</span> * res * base) % MOD;

        base = (<span style="color: #009F9F;">1ll</span> * base * base) % MOD;
        expo &gt;&gt;= <span style="color: #009F9F;">1</span>;
    }
    <span style="color: #BD93F9;">return</span> res;
}

<span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">inv</span>(<span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">x</span>) {
    <span style="color: #BD93F9;">return</span> binPow(x, MOD-<span style="color: #009F9F;">2</span>, MOD);
}

<span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">fact</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>) {
    <span style="color: #AFAFAF;">ll</span> <span style="color: #AFAFAF;">res</span> = <span style="color: #009F9F;">1</span>;
    <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">1</span>; i &lt;= n; ++ i)
        res = res * i % MOD;
    <span style="color: #BD93F9;">return</span> res % MOD;
}

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t --) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;n);
        printf(<span style="color: #FC9F4E;">"%lld\n"</span>, fact(<span style="color: #009F9F;">2</span> * n) * inv(<span style="color: #009F9F;">2</span>) % MOD);
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc22b4dd" class="outline-2">
<h2 id="orgc22b4dd">B - Diameter of Graph</h2>
<div class="outline-text-2" id="text-orgc22b4dd">
<ul class="org-ul">
<li><code>n = 1</code> 特判，n = 1时，m一定为0，否则为 NO，m = 0时，k &gt;= 2 YES，否则为 NO<br></li>
<li><code>m &lt; n - 1</code> 时，不连通 NO<br></li>
<li><code>m =</code> n * (n - 1) / 2= 时，恰好每两个点之间都有边，树的直径为1，所以k &gt;= 3 YES，否则 NO<br></li>
<li><code>m =</code> n - 1= 时，是一棵树，k &gt; 3 YES，否则 NO<br></li>
<li><code>n - 1 &lt; m &amp;&amp; m &lt; n * (n - 1) / 2</code> 时，树上非相邻结点之间有边，最大树直径还是2，k &gt; 3 YES，否则 NO<br></li>
<li><code>m &gt; n * (n - 1) / 2</code> ，多边 NO<br></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t --) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>, <span style="color: #AFAFAF;">m</span>, <span style="color: #AFAFAF;">k</span>;
        scanf(<span style="color: #FC9F4E;">"%d %d %d"</span>, &amp;n, &amp;m, &amp;k);
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">1 &#29305;&#21028;</span>
        <span style="color: #BD93F9;">if</span> (n == <span style="color: #009F9F;">1</span> &amp;&amp; m == <span style="color: #009F9F;">0</span>) {
            <span style="color: #BD93F9;">if</span> (k &gt;= <span style="color: #009F9F;">2</span>)
                printf(<span style="color: #FC9F4E;">"YES\n"</span>);
            <span style="color: #BD93F9;">else</span>
                printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        }
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (n == <span style="color: #009F9F;">1</span>)
            printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (m &lt; n - <span style="color: #009F9F;">1</span>)
            printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (m == (<span style="color: #AFAFAF;">long</span> <span style="color: #AFAFAF;">long</span>)n * (n - <span style="color: #009F9F;">1</span>) / <span style="color: #009F9F;">2</span>) {
            <span style="color: #BD93F9;">if</span> (k &gt;= <span style="color: #009F9F;">3</span>)
                printf(<span style="color: #FC9F4E;">"YES\n"</span>);
            <span style="color: #BD93F9;">else</span>
                printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        }
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#27880;&#24847;&#36825;&#21477;&#19968;&#23450;&#35201;&#25918;&#22312; (m == (long long)n * (n - 1) / 2) &#36825;&#21477;&#20043;&#21518;</span>
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#22240;&#20026; n = 2 &#26102;&#65292;n - 1 = n * (n - 1) / 2</span>
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (m == n - <span style="color: #009F9F;">1</span>) {
            <span style="color: #BD93F9;">if</span> (k &gt; <span style="color: #009F9F;">3</span>)
                printf(<span style="color: #FC9F4E;">"YES\n"</span>);
            <span style="color: #BD93F9;">else</span>
                printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        }
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (n - <span style="color: #009F9F;">1</span> &lt; m &amp;&amp; m &lt; (<span style="color: #AFAFAF;">long</span> <span style="color: #AFAFAF;">long</span>)n * (n - <span style="color: #009F9F;">1</span>) / <span style="color: #009F9F;">2</span>) {
            <span style="color: #BD93F9;">if</span> (k &gt; <span style="color: #009F9F;">3</span>)
                printf(<span style="color: #FC9F4E;">"YES\n"</span>);
            <span style="color: #BD93F9;">else</span>
                printf(<span style="color: #FC9F4E;">"NO\n"</span>);
        }
        <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (m &gt; (<span style="color: #AFAFAF;">long</span> <span style="color: #AFAFAF;">long</span>)n * (n - <span style="color: #009F9F;">1</span>) / <span style="color: #009F9F;">2</span>)
            printf(<span style="color: #FC9F4E;">"NO\n"</span>);
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
