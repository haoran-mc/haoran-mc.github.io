<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-02-18 Fri 18:10 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ioutil</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">ioutil</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5a5506c">Introduction</a></li>
<li><a href="#org8a004a6">Variables</a></li>
<li><a href="#orge48d3f2">func NopCloser</a></li>
<li><a href="#orgd954ec5">func ReadAll</a></li>
<li><a href="#orgff9f1b0">func ReadFile</a></li>
<li><a href="#orgffeb35d">func WriteFile</a></li>
<li><a href="#org2d7f8d0">func ReadDir</a></li>
<li><a href="#orga4d2be6">func TempDir</a></li>
<li><a href="#org559b4f7">func TempFile</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5a5506c" class="outline-2">
<h2 id="org5a5506c">Introduction</h2>
<div class="outline-text-2" id="text-org5a5506c">
<p>
Package ioutil implements some I/O utility functions.<br>
</p>
</div>
</div>
<div id="outline-container-org8a004a6" class="outline-2">
<h2 id="org8a004a6">Variables</h2>
<div class="outline-text-2" id="text-org8a004a6">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">var</span> <span style="color: #8787d7;">Discard</span> <span style="color: #df005f; font-weight: bold;">io.Writer</span> = <span style="color: #d75fd7; font-weight: bold;">devNull</span>(<span style="color: #d75fd7;">0</span>)
</pre>
</div>

<p>
Discard 是一个 io.Writer 接口，对它的所有 Write 调用都会无实际操作的成功返回。<br>
</p>
</div>
</div>
<div id="outline-container-orge48d3f2" class="outline-2">
<h2 id="orge48d3f2">func NopCloser</h2>
<div class="outline-text-2" id="text-orge48d3f2">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">NopCloser</span>(<span style="color: #8787d7;">r</span> <span style="color: #df005f; font-weight: bold;">io.Reader</span>) <span style="color: #df005f; font-weight: bold;">io.ReadCloser</span>
</pre>
</div>

<p>
NopCloser 用一个无操作的 Close 方法包装 r 返回一个 ReadCloser 接口。<br>
</p>
</div>
</div>
<div id="outline-container-orgd954ec5" class="outline-2">
<h2 id="orgd954ec5">func ReadAll</h2>
<div class="outline-text-2" id="text-orgd954ec5">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">ReadAll</span>(<span style="color: #8787d7;">r</span> <span style="color: #df005f; font-weight: bold;">io.Reader</span>) ([]<span style="color: #df005f; font-weight: bold;">byte</span>, <span style="color: #df005f; font-weight: bold;">error</span>)
</pre>
</div>

<p>
ReadAll 从 r 读取数据直到 EOF 或遇到 error，返回读取的数据和遇到的错误。成功的调用返回的 err 为 nil 而非 EOF。因为本函数定义为读取 r 直到 EOF，它不会将读取返回的 EOF 视为应报告的错误。<br>
</p>
</div>
</div>
<div id="outline-container-orgff9f1b0" class="outline-2">
<h2 id="orgff9f1b0">func ReadFile</h2>
<div class="outline-text-2" id="text-orgff9f1b0">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">ReadFile</span>(<span style="color: #8787d7;">filename</span> <span style="color: #df005f; font-weight: bold;">string</span>) ([]<span style="color: #df005f; font-weight: bold;">byte</span>, <span style="color: #df005f; font-weight: bold;">error</span>)
</pre>
</div>

<p>
ReadFile 从 filename 指定的文件中读取数据并返回文件的内容。成功的调用返回的 err 为 nil 而非 EOF。因为本函数定义为读取整个文件，它不会将读取返回的 EOF 视为应报告的错误。<br>
</p>
</div>
</div>
<div id="outline-container-orgffeb35d" class="outline-2">
<h2 id="orgffeb35d">func WriteFile</h2>
<div class="outline-text-2" id="text-orgffeb35d">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">WriteFile</span>(<span style="color: #8787d7;">filename</span> <span style="color: #df005f; font-weight: bold;">string</span>, <span style="color: #8787d7;">data</span> []<span style="color: #df005f; font-weight: bold;">byte</span>, <span style="color: #8787d7;">perm</span> <span style="color: #df005f; font-weight: bold;">os.FileMode</span>) <span style="color: #df005f; font-weight: bold;">error</span>
</pre>
</div>

<p>
函数向 filename 指定的文件中写入数据。如果文件不存在将按给出的权限创建文件，否则在写入数据之前清空文件。<br>
</p>
</div>
</div>
<div id="outline-container-org2d7f8d0" class="outline-2">
<h2 id="org2d7f8d0">func ReadDir</h2>
<div class="outline-text-2" id="text-org2d7f8d0">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">ReadDir</span>(<span style="color: #8787d7;">dirname</span> <span style="color: #df005f; font-weight: bold;">string</span>) ([]<span style="color: #df005f; font-weight: bold;">os.FileInfo</span>, <span style="color: #df005f; font-weight: bold;">error</span>)
</pre>
</div>

<p>
返回 dirname 指定的目录的目录信息的有序列表。<br>
</p>
</div>
</div>
<div id="outline-container-orga4d2be6" class="outline-2">
<h2 id="orga4d2be6">func TempDir</h2>
<div class="outline-text-2" id="text-orga4d2be6">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">TempDir</span>(<span style="color: #8787d7;">dir</span>, <span style="color: #8787d7;">prefix</span> <span style="color: #df005f; font-weight: bold;">string</span>) (<span style="color: #8787d7;">name</span> <span style="color: #df005f; font-weight: bold;">string</span>, <span style="color: #8787d7;">err</span> <span style="color: #df005f; font-weight: bold;">error</span>)
</pre>
</div>

<p>
在 dir 目录里创建一个新的、使用 prfix 作为前缀的临时文件夹，并返回文件夹的路径。如果 dir 是空字符串，TempDir 使用默认用于临时文件的目录（参见 os.TempDir 函数）。 不同程序同时调用该函数会创建不同的临时目录，调用本函数的程序有责任在不需要临时文件夹时摧毁它。<br>
</p>
</div>
</div>
<div id="outline-container-org559b4f7" class="outline-2">
<h2 id="org559b4f7">func TempFile</h2>
<div class="outline-text-2" id="text-org559b4f7">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">TempFile</span>(<span style="color: #8787d7;">dir</span>, <span style="color: #8787d7;">prefix</span> <span style="color: #df005f; font-weight: bold;">string</span>) (<span style="color: #8787d7;">f</span> *<span style="color: #df005f; font-weight: bold;">os.File</span>, <span style="color: #8787d7;">err</span> <span style="color: #df005f; font-weight: bold;">error</span>)
</pre>
</div>

<p>
在 dir 目录下创建一个新的、使用 prefix 为前缀的临时文件，以读写模式打开该文件并返回 os.File 指针。如果 dir 是空字符串，TempFile 使用默认用于临时文件的目录（参见 os.TempDir 函数）。不同程序同时调用该函数会创建不同的临时文件，调用本函数的程序有责任在不需要临时文件时摧毁它。<br>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-02-18 17:02 Fri</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-02-18 Fri 18:10</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
