<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-12-29 Wed 15:01 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cookie</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">Cookie</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org107afe4">引言</a></li>
<li><a href="#orgc80300b">常用的本地存储</a></li>
<li><a href="#orgecbd1fa">什么是 Cookie ？</a></li>
<li><a href="#orgeb30a21">Cookie 的用途及工作原理</a></li>
</ul>
</div>
</div>

<div id="outline-container-org107afe4" class="outline-2">
<h2 id="org107afe4">引言</h2>
<div class="outline-text-2" id="text-org107afe4">
<p>
随着浏览器的处理能力不断增强，越来越多的网站开始考虑将数据存储在「客户端」，那就不得不谈谈本地存储了。本地存储的好处显而易见，一是避免取回数据前页面一片空白，如果不需要最新数据也可以减少向服务端请求的次数，从而减少用户等待从服务器获取数据的时间，二是网络状态不佳时仍可以显示离线数据。<br>
</p>
</div>
</div>
<div id="outline-container-orgc80300b" class="outline-2">
<h2 id="orgc80300b">常用的本地存储</h2>
<div class="outline-text-2" id="text-orgc80300b">
<img src="./images/浏览器本地存储.png"/>

<p>
以上的 <code>indexedDB</code> 、 <code>Local Storage</code> 、 <code>Session Storage</code> 、 <code>Cookies</code> ，就是常用的本地存储。<br>
</p>

<p>
1、cookie<br>
</p>

<p>
HTTP cookie，通常直接叫做cookie，是客户端用来存储数据的一种选项，它既可以在客户端设置也可以在服务器端设置。cookie会跟随任意HTTP请求一起发送。<br>
</p>

<p>
2、web存储机制<br>
</p>

<p>
web storage，包括两种：sessionStorage 和 localStorage，前者严格用于一个浏览器会话中存储数据，因为数据在浏览器关闭后会立即删除；后者则用于跨会话持久化地存储数据。<br>
</p>

<p>
3、indexedDB<br>
</p>

<p>
indexed Database API，简称为indexedDB，是在浏览器中保存结构化数据的一种「数据库」。它类似SQL数据库的结构化数据存储机制，代替了废弃已久的web SQL Database API，它能够在客户端存储大量的结构化数据，并且使用索引高效检索的API。<br>
</p>
</div>
</div>
<div id="outline-container-orgecbd1fa" class="outline-2">
<h2 id="orgecbd1fa">什么是 Cookie ？</h2>
<div class="outline-text-2" id="text-orgecbd1fa">
<p>
Cookie是一小段文本信息，伴随着用户请求在 Web 服务器和浏览器之间传递。它存储于访问者的计算机中，每当同一台计算机通过浏览器请求某个页面时，就会发送这个 cookie。<br>
</p>

<p>
首先声明，它是「浏览器」提供的一种机制，它将 ﻿document 对象的 cookie 属性提供给 JavaScript。可以使用JavaScript来创建和取回 cookie 的值，因此我们可以通过 document.cookie 访问它。<br>
</p>

<p>
cookie 是存于用户硬盘的一个文件，这个文件通常对应于一个域名，也就是说，cookie 可以跨越一个域名下的多个网页，但不能跨越多个域名使用。<br>
</p>

<p>
在 google-chrome 浏览器中，可以在 chrome://settings/cookies 这里查看 Cookie，如果系统是 Linux 的话，还可以在 ~/.config/google-chrome/Default/Cookie 中查看。<br>
</p>
</div>
</div>
<div id="outline-container-orgeb30a21" class="outline-2">
<h2 id="orgeb30a21">Cookie 的用途及工作原理</h2>
<div class="outline-text-2" id="text-orgeb30a21">
<p>
Cookie 将信息存储于用户硬盘，因此可以作为全局变量，这是它最大的一个优点。它最根本的用途是 Cookie 能够帮助 Web 站点保存有关访问者的信息，以下列举 Cookie 的几种小用途。<br>
</p>

<ul class="org-ul">
<li>保存用户登录信息。这应该是最常用的了。当您访问一个需要登录的界面，例如微博、百度及一些论坛，在登录过后一般都会有类似"下次自动登录"的选项，勾选过后下次就不需要重复验证。这种就可以通过cookie保存用户的id。<br></li>
<li>创建购物车。购物网站通常把已选物品保存在cookie中，这样可以实现不同页面之间数据的同步(同一个域名下是可以共享cookie的)，同时在提交订单的时候又会把这些cookie传到后台。<br></li>
<li>跟踪用户行为。例如百度联盟会通过cookie记录用户的偏好信息，然后向用户推荐个性化推广信息，所以浏览其他网页的时候经常会发现旁边的小广告都是自己最近百度搜过的东西。这是可以禁用的，这也是cookie的缺点之一。<br></li>
</ul>

<p>
那么，Cookie 是怎么起作用的呢？<br>
</p>

<p>
我们知道 Cookie 时存在用户硬盘中，用户每次访问站点时，Web 应用程序都可以读取 Cookie 包含的信息。当用户再次访问这个站点时，浏览器就会在本地硬盘上查找与改 URL 相关联的 Cookie，如果该 Cookie 存在，浏览器就将它添加到 <code>request header</code> 的 Cookie 字段中，与 http 请求一起发送刀该站点。<br>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-12-29 11:12 Wed</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2021-12-29 Wed 15:01</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
