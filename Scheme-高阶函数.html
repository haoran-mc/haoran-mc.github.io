<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-09-30 四 22:34 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>高阶函数</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">高阶函数</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org88e76b4">map</a></li>
<li><a href="#org566b44f">for-each</a></li>
<li><a href="#org9e84730">过滤</a></li>
<li><a href="#orgfafef50">归档</a></li>
<li><a href="#org0dad4e5">排序</a></li>
<li><a href="#orgfe60676">apply函数</a></li>
<li><a href="#org98f125f">[编写高阶函数](scheme-编写高阶函数)</a></li>
</ul>
</div>
</div>

<div id="outline-container-org88e76b4" class="outline-2">
<h2 id="org88e76b4">map</h2>
<div class="outline-text-2" id="text-org88e76b4">
<p>
map过程的格式如下：
</p>

<p>
`(map procedure list1 list2 &#x2026;)`
procedure是个与某个过程或lambda表达式相绑定的符号。作为参数的表的个数视procedure需要的参数而定
</p>

<div class="org-src-container">
<pre class="src src-scheme">;; Adding each item of '(1 2 3) and '(4 5 6).
(map + '(1 2 3) '(4 5 6))
;;⇒  (5 7 9)

;; Squaring each item of '(1 2 3)
(map (lambda (x) (* x x)) '(1 2 3))
;;⇒  (1 4 9)
</pre>
</div>
</div>
</div>

<div id="outline-container-org566b44f" class="outline-2">
<h2 id="org566b44f">for-each</h2>
<div class="outline-text-2" id="text-org566b44f">
<p>
for-each的格式与map一致。但for-each并不返回一个具体的值，只是用于副作用
</p>

<div class="org-src-container">
<pre class="src src-scheme">(define sum 0)
(for-each (lambda (x) (set! sum (+ sum x))) '(1 2 3 4))
sum
;;⇒  10
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e84730" class="outline-2">
<h2 id="org9e84730">过滤</h2>
<div class="outline-text-2" id="text-org9e84730">
<p>
尽管过滤函数并没有在R5RS中定义，但MIT-Scheme实现提供了keep-matching-items和delete-matching-item两个函数。其它实现中应该有类似的函数。
</p>

<div class="org-src-container">
<pre class="src src-scheme">(keep-matching-items '(1 2 -3 -4 5) positive?)
;;⇒  (1 2 5)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfafef50" class="outline-2">
<h2 id="orgfafef50">归档</h2>
<div class="outline-text-2" id="text-orgfafef50">
<p>
尽管在R5RS中没有定义归档函数，但MIT-Scheme提供了reduce等函数。
</p>

<div class="org-src-container">
<pre class="src src-scheme">(reduce + 0 '(1 2 3 4))                 ;;⇒  10
(reduce + 0 '(1 2))                     ;;⇒  3
(reduce + 0 '(1))                       ;;⇒  1
(reduce + 0 '())                        ;;⇒  0
(reduce + 0 '(foo))                     ;;⇒  foo
(reduce list '() '(1 2 3 4))            ;;⇒  (((1 2) 3) 4)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0dad4e5" class="outline-2">
<h2 id="org0dad4e5">排序</h2>
<div class="outline-text-2" id="text-org0dad4e5">
<p>
尽管R5RS中没有定义排序函数，但MIT-Scheme提供了sort（实为merge-sort实现）和quick-sort函数。
</p>

<div class="org-src-container">
<pre class="src src-scheme">(sort '(3 5 1 4 -1) &lt;)
;;⇒  (-1 1 3 4 5)

(sort '(7883 9099 6729 2828 7754 4179 5340 2644 2958 2239) &lt;)
;;⇒  (2239 2644 2828 2958 4179 5340 6729 7754 7883 9099)

(sort '(7883 9099 6729 2828 7754 4179 5340 2644 2958 2239)
			(lambda (x y) (&lt; (modulo x 100) (modulo y 100))))
;;⇒  (2828 6729 2239 5340 2644 7754 2958 4179 7883 9099)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe60676" class="outline-2">
<h2 id="orgfe60676">apply函数</h2>
<div class="outline-text-2" id="text-orgfe60676">
<p>
apply函数是将一个过程应用于一个表（译注：将表展开，作为过程的参数）。此函数具有任意多个参数，但首参数和末参数分别应该是一个过程和一个表。虽然乍看之下不然，但这个函数的确非常方便。
</p>

<div class="org-src-container">
<pre class="src src-scheme">(apply max '(1 3 2))      ;;⇒   3
(apply + 1 2 '(3 4 5))    ;;⇒  15
(apply - 100 '(5 12 17))  ;;⇒  66
</pre>
</div>
</div>
</div>

<div id="outline-container-org98f125f" class="outline-2">
<h2 id="org98f125f">[编写高阶函数](scheme-编写高阶函数)</h2>
</div>
</div>
</body>
</html>
