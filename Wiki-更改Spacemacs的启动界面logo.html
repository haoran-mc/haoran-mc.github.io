<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-10-13 Wed 22:59 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WIKI-更改SPACEMACS的启动界面LOGO</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">WIKI-更改SPACEMACS的启动界面LOGO</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb4edcd0">环境</a></li>
<li><a href="#org0e5127c">更改GUI界面</a></li>
<li><a href="#org846db14">更改终端中的起始界面</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgb4edcd0" class="outline-2">
<h2 id="orgb4edcd0">环境</h2>
<div class="outline-text-2" id="text-orgb4edcd0">
<p>
\(Spacemacs$版本：$v.0.300.04\)<br>
系统内核版本：\(5.10.49-1-MANJARO\)<br>
</p>

<p>
下面是 \(Spacemacs\) 的默认起始 \(logo\)<br>
</p>

<img src="./images/默认Spacemacs起始logo.png" alt="默认Spacemacs起始logo" />
</div>
</div>
<div id="outline-container-org0e5127c" class="outline-2">
<h2 id="org0e5127c">更改GUI界面</h2>
<div class="outline-text-2" id="text-org0e5127c">
<p>
每次开启 \(Spacemacs\) 都是一个 \(logo\) 难免会出现审美疲劳，那么我们可不可以更改呢？<br>
</p>

<p>
自然是可以的， \(Spacemacs\) 在根目录下默认生成的 \(.spacemacs\) 文件(如果你使用git管理起来的话，就应该是在 \(~/.spacemacs.d/init.el\) 文件中)中就有这个配置。<br>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">Specify the startup banner. Default value is `</span><span style="color: #009F9F; font-style: italic;">official</span><span style="color: #7c7c7c; font-style: italic;">', it displays</span>
<span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">the official spacemacs logo. An integer value is the index of text</span>
<span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">banner, `</span><span style="color: #009F9F; font-style: italic;">random</span><span style="color: #7c7c7c; font-style: italic;">' chooses a random text banner in `</span><span style="color: #009F9F; font-style: italic;">core/banners</span><span style="color: #7c7c7c; font-style: italic;">'</span>
<span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">directory. A string value must be a path to an image format supported</span>
<span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">by your Emacs build.</span>
<span style="color: #7c7c7c; font-style: italic;">;; </span><span style="color: #7c7c7c; font-style: italic;">If the value is nil then no banner is displayed. (default 'official)</span>
dotspacemacs-startup-banner 'official
</pre>
</div>

<p>
找到上面这条语句，他的默认值是 \(official\) ，其他可以设置的参数还有<br>
</p>

<table>


<colgroup>
<col  class="org-right">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">参数</th>
<th scope="col" class="org-left">图片</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">999</td>
<td class="org-left">doge 一只轮廓是黑色的傻狗</td>
</tr>

<tr>
<td class="org-right">997</td>
<td class="org-left">doge-inverted 一只轮廓是白色的傻狗</td>
</tr>

<tr>
<td class="org-right">998</td>
<td class="org-left">cat  一只喵星人</td>
</tr>

<tr>
<td class="org-right">random</td>
<td class="org-left">random 会随机生成一些logo</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-emacs-lisp">dotspacemacs-startup-banner <span style="color: #009F9F;">999</span>
</pre>
</div>

<img src="./images/Spacemacs-banner-doge.png" alt="Spacemacs-banner-doge" />

<div class="org-src-container">
<pre class="src src-emacs-lisp">dotspacemacs-startup-banner <span style="color: #009F9F;">997</span>
</pre>
</div>

<img src="./images/Spacemacs-banner-doge-inverted.png" alt="Spacemacs-banner-doge-inverted" />

<div class="org-src-container">
<pre class="src src-emacs-lisp">dotspacemacs-startup-banner <span style="color: #009F9F;">998</span>
</pre>
</div>

<img src="./images/Spacemacs-banner-cat.png" alt="Spacemacs-banner-cat" />

<p>
或者你可以更改为你自己的一张图片，把参数改为图片的绝对路径就可以了，这里有要求一定是 \(.png\) 类型的图片。<br>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">dotspacemacs-startup-banner '<span style="color: #FC9F4E;">"~/.spacemacs.d/logo.png"</span>
</pre>
</div>

<img src="./images/修改Spacemacs默认的logo.png" alt="修改Spacemacs默认的logo" />
</div>
</div>
<div id="outline-container-org846db14" class="outline-2">
<h2 id="org846db14">更改终端中的起始界面</h2>
<div class="outline-text-2" id="text-org846db14">
<p>
对于一些喜欢在终端中运行 \(Spacemacs\) 的小伙伴，由于有些终端不能显示图片，\(Spacemacs\) 提供了字符 \(logo\) ，这些也是可以更改的。<br>
</p>

<ul class="org-ul">
<li>方法一：更改 \(~/.emacs.d/core/banners/\) 里面的 \(.txt\) 文件<br></li>
</ul>

<p>
打开 \(~.emacs.d/core/banners/\) 文件夹，如果你使用过上面的 \(random\) 参数，会发现里面那些"随机生成的"的 \(logo\) 都在这里，在img/文件夹下还有 \(GUI\) 界面的 \(logo\) 。如果终端不支持显示图像，默认使用的是 \(001-banner.txt\)。<br>
</p>

<p>
所以只要将原来的字符 \(logo\) 换成你想要显示的字符 \(logo\)，就可以了。<br>
</p>

<ul class="org-ul">
<li>方法二：重写 \(spacemacs-buffer//choose-banner\) 函数<br></li>
</ul>

<p>
方法一没有在自己的 \(git\) 仓库中更改设置，所以如果换了一台电脑，还要再设置一遍，对此我也找了很久解决方案，最后才在这个 <a href="https://github.com/syl20bnr/spacemacs/issues/6899">issue</a> 下发现可以重写 \(Spacemacs\) 中的函数来更改默认的文件位置。<br>
</p>

<p>
\(Spacemacs\) 中设置 \(banner\) 的函数就是这个 \(spacemacs-buffer//choose-banner\) 函数。<br>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #BD93F9;">defun</span> <span style="color: #AFAFAF;">spacemacs-buffer//choose-banner</span> ()
  <span style="color: #009F9F; font-style: italic;">"Return the full path of a banner based on the dotfile value."</span>
  (<span style="color: #BD93F9;">when</span> dotspacemacs-startup-banner
    (<span style="color: #BD93F9;">cond</span> ((eq 'official dotspacemacs-startup-banner)
           (<span style="color: #BD93F9;">if</span> (<span style="color: #BD93F9;">and</span> (display-graphic-p) (image-type-available-p 'png))
               spacemacs-banner-official-png
             <span style="color: #FC9F4E;">"~/.spacemacs.d/logo.txt"</span>))
          ((eq 'random dotspacemacs-startup-banner)
           (spacemacs-buffer//choose-random-text-banner))
          ((eq 'random* dotspacemacs-startup-banner)
           (spacemacs-buffer//choose-random-text-banner t))
          ((eq 'doge dotspacemacs-startup-banner)
           (spacemacs-buffer//get-banner-path <span style="color: #009F9F;">999</span>))
          ((eq 'doge-inverted dotspacemacs-startup-banner)
           (spacemacs-buffer//get-banner-path <span style="color: #009F9F;">997</span>))
          ((eq 'cat dotspacemacs-startup-banner)
           (spacemacs-buffer//get-banner-path <span style="color: #009F9F;">998</span>))
          ((integerp dotspacemacs-startup-banner)
           (spacemacs-buffer//get-banner-path dotspacemacs-startup-banner))
          ((<span style="color: #BD93F9;">and</span> dotspacemacs-startup-banner
                (image-type-available-p (intern (file-name-extension
                                                 dotspacemacs-startup-banner)))
                (display-graphic-p))
           (<span style="color: #BD93F9;">if</span> (file-exists-p dotspacemacs-startup-banner)
               dotspacemacs-startup-banner
             (spacemacs-buffer/warning (format <span style="color: #FC9F4E;">"could not find banner %s"</span>
                                               dotspacemacs-startup-banner))
             <span style="color: #FC9F4E;">"~/.spacemacs.d/logo.txt"</span>))
          (t <span style="color: #FC9F4E;">"~/.spacemacs.d/logo.txt"</span>))))
</pre>
</div>

<p>
我们将指向默认的 \(001-banner.txt\) 都换成了我们自己想要设置字符图像，然后将这个函数放在 \(~/.spacemacs\) (或者 \(~/.spacemacs.d/init.el\) 的最后就可以了。<br>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-10-13 22:10 Wed</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2021-10-13 Wed 22:59</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
