<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-10-04 一 22:25 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CF-#744-3</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">CF-#744-3</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org851d074">A Casimir's String Solitaire</a></li>
<li><a href="#org436ef80">B Shifting Sort</a></li>
<li><a href="#org83e66c8">C Ticks</a></li>
<li><a href="#org4dca033">D Productive Meeting</a></li>
<li><a href="#orgbf57912">E1 Permutation Minimization by Deque</a></li>
</ul>
</div>
</div>
<p>
<a href="http://codeforces.com/contest/1579">题目在这</a><br>
</p>

<div id="outline-container-org851d074" class="outline-2">
<h2 id="org851d074">A Casimir's String Solitaire</h2>
<div class="outline-text-2" id="text-org851d074">
<p>
只要输入的这个字符串中'A'，'C'字符的个数总和是'B'的个数就可以全部消掉。<br>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstring&gt;</span>

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t -- ) {
        <span style="color: #AFAFAF;">char</span> <span style="color: #AFAFAF;">str</span>[<span style="color: #009F9F;">100</span>];
        scanf(<span style="color: #FC9F4E;">"%s"</span>, str);
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">cnt_ac</span> = <span style="color: #009F9F;">0</span>, <span style="color: #AFAFAF;">cnt_b</span> = <span style="color: #009F9F;">0</span>;
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; strlen(str); ++ i)
            <span style="color: #BD93F9;">if</span> (str[i] == <span style="color: #FC9F4E;">'B'</span>) cnt_b ++ ;
            <span style="color: #BD93F9;">else</span> cnt_ac ++ ;

        <span style="color: #BD93F9;">if</span> (cnt_b == cnt_ac)
            printf(<span style="color: #FC9F4E;">"YES\n"</span>);
        <span style="color: #BD93F9;">else</span>
            printf(<span style="color: #FC9F4E;">"NO\n"</span>);
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org436ef80" class="outline-2">
<h2 id="org436ef80">B Shifting Sort</h2>
<div class="outline-text-2" id="text-org436ef80">
<p>
插入排序，处理第\(i\)个数时，前\(i - 1\)个数都已经排好，那么将第\(i\)个数插入到前\(i - 1\)的数组中，同时记录插入的位置(j)，i，(i - j)就是左移的位数。<br>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;vector&gt;</span>
<span style="color: #BD93F9;">using</span> <span style="color: #BD93F9;">namespace</span> <span style="color: #009F9F;">std</span>;
<span style="color: #BD93F9;">const</span> <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">maxn</span> = <span style="color: #009F9F;">55</span>;
<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">arr</span>[maxn];
<span style="color: #BD93F9;">struct</span> <span style="color: #AFAFAF;">Node</span> {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">l</span>, <span style="color: #AFAFAF;">r</span>, <span style="color: #AFAFAF;">d</span>;
};
<span style="color: #AFAFAF;">vector</span>&lt;<span style="color: #AFAFAF;">Node</span>&gt; <span style="color: #AFAFAF;">vec</span>;

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">insertSort</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">num</span>[], <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>) {
    <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#21069;i - 1&#20010;&#25968;&#24050;&#32463;&#25490;&#22909;(&#19981;&#26159;1234&#36825;&#31181;&#65292;&#26159;1357&#36825;&#31181;)&#65292;&#30475;&#31532;i&#20010;&#25968;&#25554;&#22312;&#21738;</span>
    <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">1</span>; i &lt; n; ++ i) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">insertNum</span> = num[i];
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">j</span>;
        <span style="color: #BD93F9;">for</span> (j = i; j &gt;= <span style="color: #009F9F;">1</span> &amp;&amp; insertNum &lt; num[j - <span style="color: #009F9F;">1</span>]; -- j)
            num[j] = num[j - <span style="color: #009F9F;">1</span>];
        num[j] = insertNum;
        <span style="color: #BD93F9;">if</span> (i != j)
            vec.push_back({j + <span style="color: #009F9F;">1</span>, i + <span style="color: #009F9F;">1</span>, i - j});
    }
}

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
<span style="color: #009F9F;">#if</span><span style="color: #009F9F;">n</span><span style="color: #009F9F;">def</span> ONLINE_JUDGE
    freopen(<span style="color: #FC9F4E;">"in.txt"</span>, <span style="color: #FC9F4E;">"r"</span>, stdin);
<span style="color: #009F9F;">#endif</span>
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t -- ) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;n);
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i)
            scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;arr[i]);
        insertSort(arr, n);

        printf(<span style="color: #FC9F4E;">"%d\n"</span>, (<span style="color: #AFAFAF;">int</span>)vec.size());
        <span style="color: #BD93F9;">for</span> (<span style="color: #BD93F9;">auto</span> <span style="color: #AFAFAF;">item</span> : vec)
            printf(<span style="color: #FC9F4E;">"%d %d %d\n"</span>, item.l, item.r, item.d);
        vec.clear();
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org83e66c8" class="outline-2">
<h2 id="org83e66c8">C Ticks</h2>
<div class="outline-text-2" id="text-org83e66c8">
<p>
遍历图，如果当前字符为*，就调用solve方法，while向右下方延伸，当长度为 &gt;= k + 1 时，判断折叠到右侧的斜线区域是否全是*，如果是，那就将这些字符的位置全部标记为true，所以在遍历一遍图之后，如果所有*的位置都为true，则表明可以画出这个图，否则不能。<br>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstring&gt;</span>
<span style="color: #BD93F9;">const</span> <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">maxn</span> = <span style="color: #009F9F;">25</span>;
<span style="color: #AFAFAF;">char</span> <span style="color: #AFAFAF;">g</span>[maxn][maxn];
<span style="color: #AFAFAF;">bool</span> <span style="color: #AFAFAF;">used</span>[maxn][maxn];
<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>, <span style="color: #AFAFAF;">m</span>, <span style="color: #AFAFAF;">k</span>;
<span style="color: #009F9F;">#define</span> <span style="color: #AFAFAF;">NEXTLINE</span> puts(<span style="color: #FC9F4E;">""</span>);

<span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#24038;&#20391;&#26012;&#36793;&#21487;&#20197;&#25240;&#21472;&#21040;&#21491;&#20391;&#26012;&#36793;</span>
<span style="color: #AFAFAF;">bool</span> <span style="color: #AFAFAF;">judge</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">lti</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">ltj</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">cui</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">cuj</span>) {
    <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = lti; i &lt; cui; ++ i)
        <span style="color: #BD93F9;">if</span> (g[i][cui - i + cuj] != <span style="color: #FC9F4E;">'*'</span>)
            <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">false</span>;
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">true</span>;
}

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">mark</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">lti</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">ltj</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">cui</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">cuj</span>) {
    used[cui][cuj] = <span style="color: #009F9F;">true</span>;  <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#26631;&#35760;center</span>
    <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = lti; i &lt; cui; ++ i)
        used[i][ltj + i - lti] = <span style="color: #009F9F;">true</span>, used[i][cuj + cui - i] = <span style="color: #009F9F;">true</span>;
}

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">solve</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">j</span>) {
    <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#35760;&#24405;&#21407;&#28857;</span>
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">left_top_i</span> = i, <span style="color: #AFAFAF;">left_top_j</span> = j;
    <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#22987;&#32456;&#21521;&#21491;&#19979;&#24310;&#20280;</span>
    <span style="color: #BD93F9;">while</span> (i &lt; n - <span style="color: #009F9F;">1</span> &amp;&amp; j &lt; m - <span style="color: #009F9F;">1</span> &amp;&amp; g[ ++ i][ ++ j] == <span style="color: #FC9F4E;">'*'</span>)
        <span style="color: #BD93F9;">if</span> (i - left_top_i &gt;= k &amp;&amp; judge(left_top_i, left_top_j, i, j))
            mark(left_top_i, left_top_j, i, j);
}

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t --) {
        memset(used, <span style="color: #009F9F;">0</span>, <span style="color: #BD93F9;">sizeof</span> used);
        scanf(<span style="color: #FC9F4E;">"%d %d %d"</span>, &amp;n, &amp;m, &amp;k);
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#36755;&#20837;</span>
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i)
            scanf(<span style="color: #FC9F4E;">"%s"</span>, g[i]);
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#22914;&#26524;&#24403;&#21069;&#28857;&#26159;*&#65292;&#23601;solve</span>
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i)
            <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">j</span> = <span style="color: #009F9F;">0</span>; j &lt; m; ++ j)
                <span style="color: #BD93F9;">if</span> (g[i][j] == <span style="color: #FC9F4E;">'*'</span>)
                    solve(i, j);
        <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#21028;&#26029;&#26159;&#21542;&#26377;&#28857;&#26159;*&#19988;used&#20026;false</span>
        <span style="color: #AFAFAF;">bool</span> <span style="color: #AFAFAF;">flag</span> = <span style="color: #009F9F;">true</span>;
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i)
            <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">j</span> = <span style="color: #009F9F;">0</span>; j &lt; m; ++ j)
                <span style="color: #BD93F9;">if</span> (g[i][j] == <span style="color: #FC9F4E;">'*'</span> &amp;&amp; used[i][j] == <span style="color: #009F9F;">false</span>) {
                    flag = <span style="color: #009F9F;">false</span>;
                    <span style="color: #BD93F9;">goto</span> <span style="color: #009F9F;">end</span>;
                }
    <span style="color: #009F9F;">end</span>:
        printf(flag ? <span style="color: #FC9F4E;">"YES\n"</span> : <span style="color: #FC9F4E;">"NO\n"</span>);
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org4dca033" class="outline-2">
<h2 id="org4dca033">D Productive Meeting</h2>
<div class="outline-text-2" id="text-org4dca033">
<p>
这题也太wa了，一开始想到可以将会议中的人分为两个组，然后两个组之间的交流次数总和的差最小的情况就是答案，所以使用深搜判断当前这个人是否被分为1组，样例过了之后信心满满觉得能过了，但是没有过第二组的第69个数据，多次修改不过之后决定换思路。<br>
用贪心的方法，将所有人的交流次数放在一个堆中，每次让两个交流次数最多的两人交流，然后把这两人交流次数之差放回堆中，仍然，wa在第二组的第69个数据。<br>
codeforce每次只展示较小的数据，所以也看不到wa在了哪个数据，就这样浑浑噩噩了一个上午，最终在水算法群的时候，一位群友在群里求助，可怜，这位同学也是wa的第69个数据。然后就有人提出了"100 100 2"这样的数据，之后才明白wa在了这里。仍然使用前面贪心+堆的方法，但是每次交流仅让两个交流次数最多的两人交流一次，之后将交流次数减一放入堆中。<br>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;vector&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstring&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;utility&gt;</span>
<span style="color: #BD93F9;">using</span> <span style="color: #BD93F9;">namespace</span> <span style="color: #009F9F;">std</span>;
<span style="color: #BD93F9;">const</span> <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">maxn</span> = <span style="color: #009F9F;">2e5</span> * <span style="color: #009F9F;">2</span> + <span style="color: #009F9F;">5</span>;

<span style="color: #BD93F9;">struct</span> <span style="color: #AFAFAF;">Node</span> {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">talk</span>;
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">id</span>;
} <span style="color: #AFAFAF;">he</span>[maxn];

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">tot</span>, <span style="color: #AFAFAF;">idx</span>, <span style="color: #AFAFAF;">ph</span>[maxn], <span style="color: #AFAFAF;">hp</span>[maxn];
<span style="color: #AFAFAF;">vector</span>&lt;<span style="color: #AFAFAF;">pair</span>&lt;<span style="color: #AFAFAF;">int</span>, <span style="color: #AFAFAF;">int</span>&gt;&gt; <span style="color: #AFAFAF;">vec</span>;

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">heap_swap</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">a</span>, <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">b</span>) {
    swap(ph[hp[a]], ph[hp[b]]);
    swap(hp[a], hp[b]);
    swap(he[a], he[b]);
}

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">up</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">u</span>) {
    <span style="color: #BD93F9;">while</span> (u / <span style="color: #009F9F;">2</span> &amp;&amp; he[u / <span style="color: #009F9F;">2</span>].talk &lt; he[u].talk) {
        heap_swap(u / <span style="color: #009F9F;">2</span>, u);
        u /= <span style="color: #009F9F;">2</span>;
    }
}

<span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">down</span>(<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">u</span>) {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">minidx</span> = u;
    <span style="color: #BD93F9;">if</span> (u * <span style="color: #009F9F;">2</span> &lt;= tot &amp;&amp; he[u * <span style="color: #009F9F;">2</span>].talk &gt; he[minidx].talk)
        minidx = u * <span style="color: #009F9F;">2</span>;
    <span style="color: #BD93F9;">if</span> (u * <span style="color: #009F9F;">2</span> + <span style="color: #009F9F;">1</span> &lt;= tot &amp;&amp; he[u * <span style="color: #009F9F;">2</span> + <span style="color: #009F9F;">1</span>].talk &gt; he[minidx].talk)
        minidx = u * <span style="color: #009F9F;">2</span> + <span style="color: #009F9F;">1</span>;
    <span style="color: #BD93F9;">if</span> (u != minidx) {
        heap_swap(u, minidx);
        down(minidx);
    }
}

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
<span style="color: #009F9F;">#if</span><span style="color: #009F9F;">n</span><span style="color: #009F9F;">def</span> ONLINE_JUDGE
    freopen(<span style="color: #FC9F4E;">"in.txt"</span>, <span style="color: #FC9F4E;">"r"</span>, stdin);
    freopen(<span style="color: #FC9F4E;">"out.txt"</span>, <span style="color: #FC9F4E;">"w"</span>, stdout);
<span style="color: #009F9F;">#endif</span>
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t --) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;n);
        memset(he, <span style="color: #009F9F;">0</span>, <span style="color: #BD93F9;">sizeof</span> he);
        memset(hp, <span style="color: #009F9F;">0</span>, <span style="color: #BD93F9;">sizeof</span> hp);
        memset(ph, <span style="color: #009F9F;">0</span>, <span style="color: #BD93F9;">sizeof</span> ph);
        tot = <span style="color: #009F9F;">0</span>, idx = <span style="color: #009F9F;">0</span>;
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i) {
            <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">_</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;_);
            tot ++ ;
            idx ++ ;
            ph[idx] = tot, hp[tot] = idx;
            he[tot] = {_, i + <span style="color: #009F9F;">1</span>};
            up(tot);
        }
        <span style="color: #BD93F9;">while</span> (tot &gt; <span style="color: #009F9F;">1</span>) {
            <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#21462;&#22534;&#39030;&#20004;&#20010;&#20803;&#32032;</span>
            <span style="color: #AFAFAF;">Node</span> <span style="color: #AFAFAF;">i1</span> = he[<span style="color: #009F9F;">1</span>]; heap_swap(<span style="color: #009F9F;">1</span>, tot --); down(<span style="color: #009F9F;">1</span>);
            <span style="color: #AFAFAF;">Node</span> <span style="color: #AFAFAF;">i2</span> = he[<span style="color: #009F9F;">1</span>]; heap_swap(<span style="color: #009F9F;">1</span>, tot --); down(<span style="color: #009F9F;">1</span>);
            <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#22914;&#26524;&#26377;0&#65292;&#32467;&#26463;&#20250;&#35758;</span>
            <span style="color: #BD93F9;">if</span> (i2.talk == <span style="color: #009F9F;">0</span> || i1.talk == <span style="color: #009F9F;">0</span>)
                <span style="color: #BD93F9;">break</span>;
            i1.talk -- ;
            i2.talk -- ;
            vec.push_back({i1.id, i2.id});
            tot ++ ;
            idx ++ ;
            ph[idx] = tot, hp[tot] = idx;
            he[tot] = {i1.talk, i1.id};
            up(tot);
            tot ++ ;
            idx ++ ;
            ph[idx] = tot, hp[tot] = idx;
            he[tot] = {i2.talk, i2.id};
            up(tot);
        }
        printf(<span style="color: #FC9F4E;">"%d\n"</span>, vec.size());
        <span style="color: #BD93F9;">for</span> (<span style="color: #BD93F9;">auto</span> <span style="color: #AFAFAF;">i</span> : vec)
            printf(<span style="color: #FC9F4E;">"%d %d\n"</span>, i.first, i.second);
        vec.clear();
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbf57912" class="outline-2">
<h2 id="orgbf57912">E1 Permutation Minimization by Deque</h2>
<div class="outline-text-2" id="text-orgbf57912">
<p>
用一个deque模拟一下就行了<br>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;cstdio&gt;</span>
<span style="color: #009F9F;">#include</span> <span style="color: #FC9F4E;">&lt;deque&gt;</span>
<span style="color: #BD93F9;">using</span> <span style="color: #BD93F9;">namespace</span> <span style="color: #009F9F;">std</span>;
<span style="color: #009F9F;">#define</span> <span style="color: #AFAFAF;">NEXTLINE</span> puts(<span style="color: #FC9F4E;">""</span>);

<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">main</span>() {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">t</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;t);
    <span style="color: #BD93F9;">while</span> (t --) {
        <span style="color: #AFAFAF;">deque</span>&lt;<span style="color: #AFAFAF;">int</span>&gt; <span style="color: #AFAFAF;">deq</span>;
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">n</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;n);
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; i &lt; n; ++ i) {
            <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">_</span>; scanf(<span style="color: #FC9F4E;">"%d"</span>, &amp;_);
            <span style="color: #BD93F9;">if</span> (deq.size() == <span style="color: #009F9F;">0</span>)
                deq.push_front(_);
            <span style="color: #BD93F9;">else</span> <span style="color: #BD93F9;">if</span> (_ &lt; deq.front())
                deq.push_front(_);
            <span style="color: #BD93F9;">else</span>
                deq.push_back(_);
        }
        <span style="color: #BD93F9;">while</span> (deq.size()) {
            printf(<span style="color: #FC9F4E;">"%d "</span>, deq.front());
            deq.pop_front();
        }
        NEXTLINE;
    }
    <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
}
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
