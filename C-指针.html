<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-06-13 Mon 20:12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>指针</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">指针</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org586330a">指针(pointer)</a>
<ul>
<li><a href="#orgf3f2c9d">指针的运算</a></li>
<li><a href="#org427a034">指针与一维数组</a></li>
<li><a href="#orge079815">指针与二维数组</a></li>
<li><a href="#org21a4e62">其他</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org586330a" class="outline-2">
<h2 id="org586330a">指针(pointer)</h2>
<div class="outline-text-2" id="text-org586330a">
<p>
指针：一个变量的地址<br>
指针变量：专门存放变量地址的变量<br>
直接访问：按变量地址存取变量值<br>
间接访问：通过存放变量地址的变量去访问变量<br>
</p>
</div>
<div id="outline-container-orgf3f2c9d" class="outline-3">
<h3 id="orgf3f2c9d">指针的运算</h3>
<div class="outline-text-3" id="text-orgf3f2c9d">
<p>
void *p (使用时强制类型转换)<br>
</p>
<ul class="org-ul">
<li>与 &amp; 优先级别相同，都是2，结合性都是自右至左<br></li>
<li>与 ++ (&#x2013;) 是同级别并结合性相同的运算符<br></li>

<li>*p++   表示先取指针指向的变量，然后对指针变量自加<br></li>
<li>(*p)++ 表示先取指针指向的变量的值，然后对指针指向的变量自加<br></li>
<li>*++p   表示先使指针变量自加，改变指针指向后取指针指向的变量<br></li>
<li>++(*p) 表示先使指针指向的变量自加，然后取指针指向的变量<br></li>
</ul>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">语句</th>
<th scope="col" class="org-left">分解</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">j = \*p++</td>
<td class="org-left">j = \*p;  p++;</td>
</tr>

<tr>
<td class="org-left">j = (\*p)++</td>
<td class="org-left">j = \*p;    (\*p)++;</td>
</tr>

<tr>
<td class="org-left">j = \*++p</td>
<td class="org-left">++p;  j = \*p;</td>
</tr>

<tr>
<td class="org-left">j = ++(\*p)</td>
<td class="org-left">++(\*p);    j = \*p;</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>p + n 、p - n （n是整型变量），表示p移动n个数据单位<br></li>
<li>p - q ，表示两个指针所指元素之间的元素数<br></li>
<li>指针的关系运算：&gt; 、&gt;= 、&lt; 、&lt;= 、== 、!=<br>
运算结果反映出两个指针指向的变量的存储位置之间的前后关系<br></li>
</ul>
</div>
</div>

<div id="outline-container-org427a034" class="outline-3">
<h3 id="org427a034">指针与一维数组</h3>
<div class="outline-text-3" id="text-org427a034">
<p>
下标法：“ [] ” 的形式引用数组中的元素<br>
指针法：“ \* ” 的形式引用数组中的元素<br>
</p>

<p>
*(a + i) == a[i]<br>
</p>
</div>
</div>

<div id="outline-container-orge079815" class="outline-3">
<h3 id="orge079815">指针与二维数组</h3>
<div class="outline-text-3" id="text-orge079815">
<p>
<b>( \</b> (a + i) + j) <code>= \* (a[i] + j) =</code> * (a + i)[j] == a[i][j]<br>
</p>

<p>
行指针变量： <code>int (* p)[4];</code><br>
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #008787; background-color: #262626;">/*</span>
<span style="color: #008787; background-color: #262626;">    p+i &#26159;&#31532;i&#34892;&#34892;&#25351;&#38024;&#65292;&#20063;&#21483;&#19968;&#32500;&#25968;&#32452;&#30340;&#25351;&#38024;</span>
<span style="color: #008787; background-color: #262626;">    * p == a[0]</span>
<span style="color: #008787; background-color: #262626;">    * (p + 1) == a[1]</span>
<span style="color: #008787; background-color: #262626;">    * (p + 2) == a[2]</span>
<span style="color: #008787; background-color: #262626;">    * (p + 2)[2] == * ( * (p + 2) + 2) == a[2][2] == 13</span>
<span style="color: #008787; background-color: #262626;">*/</span>

<span style="color: #df005f; font-weight: bold;">int</span> <span style="color: #8787d7;">a</span>[3][4] = {
    01, 03, 05, 07,
    09, 11, 13, 15,
    17, 19, 21, 23
    };
<span style="color: #008787; background-color: #262626;">//</span><span style="color: #008787; background-color: #262626;">&#27599;&#34892;&#25968;&#32452;&#30340;&#20803;&#32032;&#20010;&#25968;</span>
<span style="color: #df005f; font-weight: bold;">int</span> (* <span style="color: #8787d7;">p</span>)[4] = a;
</pre>
</div>

<p>
指针数组  ： <code>int * p[3];</code><br>
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #008787; background-color: #262626;">//</span><span style="color: #008787; background-color: #262626;">p[i] &#26159;&#31532;i&#34892;&#30340;&#39318;&#22320;&#22336;</span>
<span style="color: #008787; background-color: #262626;">//</span><span style="color: #008787; background-color: #262626;">* &#65288; * &#65288;p + i) + j) == * (p + i)[j] == * (p[i] + j) == a[i][j]</span>

<span style="color: #df005f; font-weight: bold;">int</span> <span style="color: #8787d7;">a</span>[3][4] = {
    01, 03, 05, 07,
    09, 11, 13, 15,
    17, 19, 21, 23
    };
<span style="color: #df005f; font-weight: bold;">int</span> * <span style="color: #8787d7;">p</span>[3];
<span style="color: #008787; background-color: #262626;">//</span><span style="color: #008787; background-color: #262626;">&#36171;&#20540;&#27604;&#34892;&#25351;&#38024;&#22797;&#26434;</span>
<span style="color: #df005f; font-weight: bold;">p</span>[0] = a[0];
<span style="color: #df005f; font-weight: bold;">p</span>[1] = a[1];
<span style="color: #df005f; font-weight: bold;">p</span>[2] = a[2];
</pre>
</div>

<p>
比较：<br>
</p>
<ol class="org-ol">
<li>对数组中的某个元素的表示都一样<br></li>
<li>定义不同<br></li>
<li>占用存储单元数不同：行指针只占用一个int型变量的存储单元，指针数组中每个元素都要占用一个指针变量的存储单元<br></li>
<li>赋值方式不同<br></li>
<li>传参不同（见课件）<br></li>
</ol>

<p>
&gt; 指针数组的应用可以很方便的处理多个字符串<br>
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #df005f; font-weight: bold;">char</span> <span style="color: #8787d7;">motto</span>[4][10] = {
    <span style="color: #2aa198;">"Forming"</span>,
    <span style="color: #2aa198;">"into"</span>,
    <span style="color: #2aa198;">"my"</span>,
    <span style="color: #2aa198;">"Dreamtale"</span>
    };

<span style="color: #008787; background-color: #262626;">//</span><span style="color: #008787; background-color: #262626;">&#25351;&#38024;&#25968;&#32452;&#20013;&#27599;&#20010;&#20803;&#32032;&#37117;&#35201;&#21344;&#29992;&#19968;&#20010;&#25351;&#38024;&#21464;&#37327;&#30340;&#23384;&#20648;&#21333;&#20803;</span>
<span style="color: #df005f; font-weight: bold;">char</span> * <span style="color: #8787d7;">motto</span>[] = {
    <span style="color: #2aa198;">"Forming"</span>,
    <span style="color: #2aa198;">"into"</span>,
    <span style="color: #2aa198;">"my"</span>,
    <span style="color: #2aa198;">"Dreamtale"</span>
    };
</pre>
</div>
</div>
</div>
<div id="outline-container-org21a4e62" class="outline-3">
<h3 id="org21a4e62">其他</h3>
<div class="outline-text-3" id="text-org21a4e62">
<p>
&gt; 返回指针值的函数<br>
</p>

<p>
数据类型 * 函数名（参数表）{<br>
函数体<br>
}<br>
</p>

<p>
&gt; 指向函数的指针<br>
</p>

<p>
数据类型 ( * 指针变量名) (参数表) {<br>
函数体<br>
}<br>
</p>
</div>
</div>
</div>
</div>
</body>
</html>
