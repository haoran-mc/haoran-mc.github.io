<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2023-01-22 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SHELL-数组类型</title>
<meta name="author" content="Haoran Liu" />
<meta name="description" content="Copyright © 2023, Haoran Liu, all rights reserved." />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="static/css/org.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">SHELL-数组类型</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgc9e56c9">定义数组</a></li>
<li><a href="#orgefdad6e">读取数组</a></li>
<li><a href="#org3061056">关于数组的操作</a></li>
</ul>
</div>
</div>
<p>
bash 支持一维数组（不支持多维数组），并且没有限定数组大小。<br>
</p>

<div id="outline-container-orgc9e56c9" class="outline-2">
<h2 id="orgc9e56c9">定义数组</h2>
<div class="outline-text-2" id="text-orgc9e56c9">
<ol class="org-ol">
<li><p>
<code>array=(value1 value2 value3)</code><br>
在 shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：<br>
</p>

<pre class="example" id="org84714e2">
数组名=(值1 值2 ... 值n)
</pre>

<p>
例如：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #faf4c6;">array_name</span>=(value0 value1 value2 value3)
</pre>
</div>

<p>
或者<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #faf4c6;">array_name</span>=(
  value0
  value1
  value2
  value3
)
</pre>
</div></li>

<li><p>
<code>array[key]=value</code><br>
还可以单独定义数组的各个分量：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #faf4c6;">array_name</span>[0]=value0
<span style="color: #faf4c6;">array_name</span>[1]=value1
<span style="color: #faf4c6;">array_name</span>[n]=valuen
</pre>
</div>

<p>
可以不使用连续的下标，而且下标的范围没有限制。<br>
</p></li>

<li><p>
<code>array=([1]=one [2]=tow [3]=three)</code><br>
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #faf4c6;">array</span>=([1]=one [2]=two [3]=three)
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orgefdad6e" class="outline-2">
<h2 id="orgefdad6e">读取数组</h2>
<div class="outline-text-2" id="text-orgefdad6e">
<p>
读取数组元素值的一般格式是：<br>
</p>

<pre class="example" id="org14c0011">
${数组名[下标]}
</pre>

<p>
例如：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #faf4c6;">valuen</span>=${<span style="color: #faf4c6;">array_name</span>[n]}
</pre>
</div>

<p>
使用 <code>@</code> 、 <code>*</code> 符号可以获取数组中的所有元素，例如：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #87AFD7;">echo</span> ${<span style="color: #faf4c6;">array_name</span>[@]}
</pre>
</div>
</div>
</div>
<div id="outline-container-org3061056" class="outline-2">
<h2 id="org3061056">关于数组的操作</h2>
<div class="outline-text-2" id="text-org3061056">
<ul class="org-ul">
<li><p>
数组的删除<br>
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #87AFD7;">unset</span> array_name[2]
<span style="color: #87AFD7;">unset</span> array_name
</pre>
</div></li>
<li><p>
获取数组的长度<br>
获取数组长度的方法与获取字符串长度的方法相同，例如：<br>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #686858;"># </span><span style="color: #686858;">&#21462;&#24471;&#25968;&#32452;&#20803;&#32032;&#30340;&#20010;&#25968;</span>
<span style="color: #faf4c6;">length</span>=${#<span style="color: #faf4c6;">array_name</span>[@]}
<span style="color: #686858;"># </span><span style="color: #686858;">&#25110;&#32773;</span>
<span style="color: #faf4c6;">length</span>=${#<span style="color: #faf4c6;">array_name</span>[*]}
<span style="color: #686858;"># </span><span style="color: #686858;">&#21462;&#24471;&#25968;&#32452;&#21333;&#20010;&#20803;&#32032;&#30340;&#38271;&#24230;</span>
<span style="color: #faf4c6;">lengthn</span>=${#<span style="color: #faf4c6;">array_name</span>[n]}
</pre>
</div></li>
<li>子串的提取<br></li>
<li>子串删除<br></li>
<li>子串替换<br></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2023-01-22 22:01 Sun</p>
<p class="author">Author: Haoran Liu</p>
<p class="date">Created: 2023-01-22</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
