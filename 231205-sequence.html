<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-06-26 Wed 20:29 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Elisp sequence</title>
<meta name="generator" content="Org Mode" />
<link rel='shortcut icon' href='assets/favicon.ico' type='image/x-icon' />
          <link rel='stylesheet' href='css/org.css' type='text/css' />
          <script type='module' src='js/main.js' defer></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Elisp sequence</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org18f232c">list</a></li>
<li><a href="#orgb8ff316">vector</a></li>
</ul>
</div>
</div>
<p>
List、Vector、字符串都被称为 Sequence。 <code>seq-</code> 开头的函数可用于处理这些类型变量。<br>
</p>

<ul class="org-ul">
<li>list 长度可变，可头部插入，或从头部删除，访问元素速度得看和头部距离，如长度为 1000，则访问第 900 个元素则很慢；<br></li>
<li>vector 长度固定，访问任一元素耗时一样，都很快；<br></li>
</ul>

<div id="outline-container-org18f232c" class="outline-2">
<h2 id="org18f232c">list</h2>
<div class="outline-text-2" id="text-org18f232c">
<dl class="org-dl">
<dt>列表变量</dt><dd>(setq a &rsquo;(&ldquo;a&rdquo; &ldquo;b&rdquo; &ldquo;c&rdquo; &ldquo;d&rdquo;))<br></dd>
<dt>创建列表</dt><dd>(list 1 2 3)<br></dd>
<dt>按个数创建并设置初值</dt><dd>(make-list 4 0)<br></dd>
<dt>创建序列</dt><dd>(number-sequence 5 10)<br></dd>
<dt>打印列表</dt><dd>(message &ldquo;%S&rdquo; a)<br></dd>
<dt>空列表等于 nil</dt><dd>(eq &rsquo;() nil)<br></dd>
</dl>

<p>
<b>获取元素：</b><br>
</p>
<dl class="org-dl">
<dt>获取首项</dt><dd>(car a)<br></dd>
<dt>获取最后一项</dt><dd>(car (last a))<br></dd>
<dt>获取指定序号项</dt><dd>(nth 2 a)<br></dd>
<dt>列表长度</dt><dd>(length a)<br></dd>
</dl>

<p>
<b>获取子列表：</b><br>
</p>
<dl class="org-dl">
<dt>从第二个到最后</dt><dd>(cdr a)<br></dd>
<dt>指定序号到最后</dt><dd>(nthcdr 2 a)<br></dd>
<dt>去除尾部多项</dt><dd>(butlast a 2)<br></dd>
</dl>

<p>
<b>合并排序：</b><br>
</p>
<dl class="org-dl">
<dt>头部合并(不修改原值)</dt><dd>(cons &ldquo;Hi&rdquo; a)<br></dd>
<dt>遍历操作返回结果</dt><dd>(mapcar &rsquo;upcase a)<br></dd>
<dt>遍历操作返回原列表</dt><dd>(mapc &rsquo;print a)<br></dd>
<dt>排序</dt><dd>(seq-sort #&rsquo;&lt; &rsquo;(1 3 2))<br></dd>
</dl>

<p>
<b>修改列表：</b><br>
</p>
<dl class="org-dl">
<dt>删除元素(有副作用)</dt><dd>(delete &ldquo;b&rdquo; a) ;a变了<br></dd>
<dt>删除元素(无副作用)</dt><dd>(remove &ldquo;b&rdquo; a) ;a不变<br></dd>
<dt>头部插入一个</dt><dd>(push &ldquo;hi&rdquo; a)<br></dd>
<dt>头部删除一个</dt><dd>(pop a)<br></dd>
<dt>尾部插入一个(有副作用)</dt><dd>(nconc a &rsquo;(&ldquo;x&rdquo;))<br></dd>
<dt>尾部插入一个(无副作用)</dt><dd>(append a &rsquo;(&ldquo;x&rdquo;))<br></dd>
<dt>删除尾部多项</dt><dd>(nbutlast a 2)<br></dd>
<dt>替换首项</dt><dd>(setcar a &ldquo;A&rdquo;)<br></dd>
<dt>替换除首项的后面</dt><dd>(setcdr a &rsquo;(&ldquo;B&rdquo; &ldquo;C&rdquo;))<br></dd>
<dt>指定序号设置</dt><dd>(setf (elt a 0) &ldquo;A&rdquo;)<br></dd>
</dl>
</div>
</div>

<div id="outline-container-orgb8ff316" class="outline-2">
<h2 id="orgb8ff316">vector</h2>
<div class="outline-text-2" id="text-orgb8ff316">
<dl class="org-dl">
<dt>设置变量</dt><dd>(setq v (vector 1 2 3))<br></dd>
<dt>按个数创建并设置初值</dt><dd>(make-vector 5 0)<br></dd>
<dt>创建，内部不展开</dt><dd>[a b c]<br></dd>
<dt>将元素统一修改</dt><dd>(fillarray v 4)<br></dd>
<dt>类型判断（Vector 属于 Array）</dt><dd>(arrayp v)<br></dd>
</dl>

<p>
<b>获取：</b><br>
</p>
<dl class="org-dl">
<dt>获取元素(性能好)</dt><dd>(aref v 2)<br></dd>
<dt>获取元素(适用 Vector 和 List)</dt><dd>(elt v 2)<br></dd>
</dl>

<p>
<b>设置：</b><br>
</p>
<dl class="org-dl">
<dt>指定序号设置</dt><dd>(aset v 0 &ldquo;a&rdquo;)<br></dd>
<dt>转成 List</dt><dd>(append v nil)<br></dd>
</dl>
</div>
</div>
</div>
</body>
</html>
