<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-11-04 Thu 14:12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>字典树</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran &lt;haoran.mc@outlook.com&gt;">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">字典树</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc3a66f2">简介</a></li>
<li><a href="#org51ec835">字典树的应用</a></li>
<li><a href="#org32bf144">代码实现</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgc3a66f2" class="outline-2">
<h2 id="orgc3a66f2">简介</h2>
<div class="outline-text-2" id="text-orgc3a66f2">
<p>
顾名思义，就是一个像字典一样的树。<br>
</p>

<img src="./images/字典树01.png" width=530px />

<p>
字典树用节点表示字母，从根结点到树上的某一节点的路径代表一个字符串。<br>
</p>

<p>
例如 \(1 \rightarrow 4 \rightarrow 8 \rightarrow 12\) 表示的就是字符串 \(caa\)。<br>
</p>

<p>
但并不是每一条路径都是一个我们存储过的字符串，还需要使用 \(cnt\) 数组标记这个字符串是否记录过，记录出现过几次。<br>
</p>

<img src="./images/字典树02.jpg" width=750px />

<p>
如上图，如果现在要使用这个字典树存储字符串 <code>"caa"</code> 那么先查找是否出现过字符 <code>'c'</code> ；出现，那么看字符串 <code>"c"</code> 后面是否出现过 <code>'a'</code> ；出现，那么看字符串 <code>"ca"</code> 后面是否出现过 <code>'a'</code> ；出现，那么 <code>cnt[9] ++</code> 。<br>
</p>
</div>
</div>
<div id="outline-container-org51ec835" class="outline-2">
<h2 id="org51ec835">字典树的应用</h2>
<div class="outline-text-2" id="text-org51ec835">
<ol class="org-ol">
<li>字符串的检索<br></li>
<li>词频统计<br></li>
<li>字符串排序<br></li>
<li>前缀匹配<br></li>
</ol>
</div>
</div>
<div id="outline-container-org32bf144" class="outline-2">
<h2 id="org32bf144">代码实现</h2>
<div class="outline-text-2" id="text-org32bf144">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #BD93F9;">struct</span> <span style="color: #AFAFAF;">Trie</span> {
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">trie</span>[<span style="color: #009F9F;">100000</span> + <span style="color: #009F9F;">5</span>][<span style="color: #009F9F;">26</span>], <span style="color: #AFAFAF;">cnt</span>[<span style="color: #009F9F;">100000</span> + <span style="color: #009F9F;">5</span>], <span style="color: #AFAFAF;">idx</span>;

    <span style="color: #AFAFAF;">void</span> <span style="color: #AFAFAF;">insert</span>(<span style="color: #AFAFAF;">char</span> <span style="color: #AFAFAF;">str</span>[]) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">p</span> = <span style="color: #009F9F;">0</span>; 
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; str[i]; ++ i) {
            <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">u</span> = str[i] - <span style="color: #FC9F4E;">'a'</span>;
            <span style="color: #BD93F9;">if</span> (!trie[p][u])
                trie[p][u] = ++ idx;
            p = trie[p][u];
        }
        cnt[p] ++ ;
    }

    <span style="color: #7c7c7c; font-style: italic;">// </span><span style="color: #7c7c7c; font-style: italic;">&#26597;&#35810;&#36825;&#20010;&#23383;&#31526;&#20018;&#20986;&#29616;&#27425;&#25968;</span>
    <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">query</span>(<span style="color: #AFAFAF;">char</span> <span style="color: #AFAFAF;">str</span>[]) {
        <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">p</span> = <span style="color: #009F9F;">0</span>;
        <span style="color: #BD93F9;">for</span> (<span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">i</span> = <span style="color: #009F9F;">0</span>; str[i]; ++i) {
            <span style="color: #AFAFAF;">int</span> <span style="color: #AFAFAF;">u</span> = str[i] - <span style="color: #FC9F4E;">'a'</span>;
            <span style="color: #BD93F9;">if</span> (!trie[p][u])
                <span style="color: #BD93F9;">return</span> <span style="color: #009F9F;">0</span>;
            p = trie[p][u];
        }
        <span style="color: #BD93F9;">return</span> cnt[p];
    }
}
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
