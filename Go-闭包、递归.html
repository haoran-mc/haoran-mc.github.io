<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-07-01 Fri 11:48 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>闭包、递归</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">闭包、递归</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org44c1bfd">闭包详解</a></li>
<li><a href="#orgff963fa">Go 的闭包</a></li>
<li><a href="#org9446c63">递归</a>
<ul>
<li><a href="#org36076bd">数字阶乘</a></li>
<li><a href="#org293d425">斐波那契数列</a>
<ul>
<li><a href="#orgf31e882">常见写法</a></li>
<li><a href="#org94cb1df">使用函数变量</a></li>
<li><a href="#org796d863">使用闭包</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org44c1bfd" class="outline-2">
<h2 id="org44c1bfd">闭包详解</h2>
<div class="outline-text-2" id="text-org44c1bfd">
<p>
闭包的应该都听过，但到底什么是闭包呢？<br>
</p>

<p>
闭包是由函数及其相关引用环境组合而成的实体(即：闭包=函数+引用环境)。<br>
</p>

<p>
“官方”的解释是：所谓“闭包”，指的是一个拥有许多变量和绑定了这些变量的环境的表达式（通常是一个函数），因而这些变量也是该表达式的一部分。<br>
</p>

<p>
维基百科讲，闭包（Closure），是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。所以，有另一种说法认为闭包是由函数和与其相关的引用环境组合而成的实体。闭包在运行时可以有多个实例，不同的引用环境和相同的函数组合可以产生不同的实例。<br>
</p>

<p>
看着上面的描述，会发现闭包和匿名函数似乎有些像。可是可能还是有些云里雾里的。因为跳过闭包的创建过程直接理解闭包的定义是非常困难的。目前在JavaScript、Go、PHP、Scala、Scheme、Common Lisp、Smalltalk、Groovy、Ruby、 Python、Lua、objective c、Swift 以及Java8以上等语言中都能找到对闭包不同程度的支持。通过支持闭包的语法可以发现一个特点，他们都有垃圾回收(GC)机制。 javascript应该是普及度比较高的编程语言了，通过这个来举例应该好理解写。看下面的代码，只要关注script里方法的定义和调用就可以了。<br>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #268bd2; font-weight: bold;">!DOCTYPE</span> html&gt;
&lt;<span style="color: #d75fd7; font-weight: bold;">html</span> <span style="color: #8787d7;">lang</span>=<span style="color: #2aa198;">"zh"</span>&gt;
  &lt;<span style="color: #d75fd7; font-weight: bold;">head</span>&gt;
    &lt;<span style="color: #d75fd7; font-weight: bold;">title</span>&gt;<span style="font-weight: bold; text-decoration: underline;">&#38381;&#21253;</span>&lt;/<span style="color: #d75fd7; font-weight: bold;">title</span>&gt;
  &lt;/<span style="color: #d75fd7; font-weight: bold;">head</span>&gt;
  &lt;<span style="color: #d75fd7; font-weight: bold;">body</span>&gt;
  &lt;/<span style="color: #d75fd7; font-weight: bold;">body</span>&gt;
&lt;/<span style="color: #d75fd7; font-weight: bold;">html</span>&gt;
&lt;<span style="color: #d75fd7; font-weight: bold;">script</span> <span style="color: #8787d7;">src</span>=<span style="color: #2aa198;">"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js"</span> <span style="color: #8787d7;">type</span>=<span style="color: #2aa198;">"text/javascript"</span>&gt;&lt;/<span style="color: #d75fd7; font-weight: bold;">script</span>&gt;
&lt;<span style="color: #d75fd7; font-weight: bold;">script</span>&gt;
  function a() {
      var i = 0;
      function b() {
          console.log( ++ i);
          document.write("&lt;<span style="color: #d75fd7; font-weight: bold;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">" + i + "</span>&lt;/<span style="color: #d75fd7; font-weight: bold;">h1</span>&gt;");
        }
      return b;
    }

  $(function() {
      var c1 = a();
      c1();
      c1();
      c1();
      // a();   // &#19981;&#20250;&#26377;&#20449;&#24687;&#36755;&#20986;
      document.write("&lt;<span style="color: #d75fd7; font-weight: bold;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">=============</span>&lt;/<span style="color: #d75fd7; font-weight: bold;">h1</span>&gt;");
      var c2 = a();
      c2();
      c2();
    });
&lt;/<span style="color: #d75fd7; font-weight: bold;">script</span>&gt;
</pre>
</div>

<p>
这段代码有两个特点：<br>
</p>

<p>
函数 b 嵌套在函数 a 内部 函数 a 返回函数 b 这样在执行完 var c1 = a() 后，变量 c1 实际上是指向了函数 b()，再执行函数 c1() 后就会显示 i 的值，第一次为 1，第二次为 2，第三次为 3，以此类推。其实，这段代码就创建了一个闭包。因为函数 a() 外的变量 c1 引用了函数 a() 内的函数 b()，就是说：<br>
</p>

<p>
当函数 a() 的内部函数 b() 被函数 a() 外的一个变量引用的时候，就创建了一个闭包。 在上面的例子中，由于闭包的存在使得函数 a() 返回后，a 中的 i 始终存在，这样每次执行 c1()，i 都是自加 1 后的值。 从上面可以看出闭包的作用就是在 a() 执行完并返回后，闭包使得 Javascript 的垃圾回收机制 GC 不会收回 a() 所占用的资源，因为 a() 的内部函数 b() 的执行需要依赖 a() 中的变量 i。<br>
</p>

<p>
在给定函数被多次调用的过程中，这些私有变量能够保持其持久性。变量的作用域仅限于包含它们的函数，因此无法从其它程序代码部分进行访问。不过，变量的生存期是可以很长，在一次函数调用期间所创建所生成的值在下次函数调用时仍然存在。正因为这一特点，闭包可以用来完成信息隐藏，并进而应用于需要状态表达的某些编程范型中。 下面来想象另一种情况，如果 a() 返回的不是函数 b()，情况就完全不同了。因为 a() 执行完后，b() 没有被返回给 a() 的外界，只是被 a() 所引用，而此时 a() 也只会被 b() 引 用，因此函数 a() 和 b() 互相引用但又不被外界打扰（被外界引用），函数 a 和 b 就会被 GC 回收。所以直接调用 a()；是页面并没有信息输出。<br>
</p>

<p>
下面来说闭包的另一要素引用环境。c1() 跟 c2() 引用的是不同的环境，在调用 i ++ 时修改的不是同一个 i，因此两次的输出都是 1。函数 a() 每进入一次，就形成了一个新的环境，对应的闭包中，函数都是同一个函数，环境却是引用不同的环境。这和 c1() 和 c2() 的调用顺序都是无关的。<br>
</p>
</div>
</div>
<div id="outline-container-orgff963fa" class="outline-2">
<h2 id="orgff963fa">Go 的闭包</h2>
<div class="outline-text-2" id="text-orgff963fa">
<p>
Go语言是支持闭包的，这里只是简单地讲一下在Go语言中闭包是如何实现的。 下面我来将之前的JavaScript的闭包例子用Go来实现。<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> (
    <span style="color: #2aa198;">"fmt"</span>
)

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">a</span>() <span style="color: #268bd2; font-weight: bold;">func</span>() <span style="color: #df005f; font-weight: bold;">int</span> {
    <span style="color: #8787d7;">i</span> := 0
    <span style="color: #8787d7;">b</span> := <span style="color: #268bd2; font-weight: bold;">func</span>() <span style="color: #df005f; font-weight: bold;">int</span> {
        i++
        fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(i)
        <span style="color: #268bd2; font-weight: bold;">return</span> i
    }
    <span style="color: #268bd2; font-weight: bold;">return</span> b
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">c1</span> := <span style="color: #d75fd7; font-weight: bold;">a</span>()
    <span style="color: #d75fd7; font-weight: bold;">c1</span>()
    <span style="color: #d75fd7; font-weight: bold;">c1</span>()
    <span style="color: #d75fd7; font-weight: bold;">c1</span>()
    <span style="color: #d75fd7; font-weight: bold;">a</span>()    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#19981;&#20250;&#36755;&#20986; i</span>
    <span style="color: #8787d7;">c2</span> := <span style="color: #d75fd7; font-weight: bold;">a</span>()
    <span style="color: #d75fd7; font-weight: bold;">c2</span>()
    <span style="color: #d75fd7; font-weight: bold;">c2</span>()
}
</pre>
</div>

<p>
输出结果：<br>
</p>

<pre class="example">
1
2
3
1
2
</pre>

<p>
可以发现，输出和之前的JavaScript的代码是一致的。具体的原因和上面的也是一样的，这说明Go语言是支持闭包的。<br>
</p>

<p>
闭包复制的是原对象指针，这就很容易解释延迟引用现象。<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">test</span>() <span style="color: #268bd2; font-weight: bold;">func</span>() {
    <span style="color: #8787d7;">x</span> := 100
    fmt.<span style="color: #d75fd7; font-weight: bold;">Printf</span>(<span style="color: #2aa198;">"x (%p) = %d\n"</span>, &amp;x, x)

    <span style="color: #268bd2; font-weight: bold;">return</span> <span style="color: #268bd2; font-weight: bold;">func</span>() {
        fmt.<span style="color: #d75fd7; font-weight: bold;">Printf</span>(<span style="color: #2aa198;">"x (%p) = %d\n"</span>, &amp;x, x)
    }
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">f</span> := <span style="color: #d75fd7; font-weight: bold;">test</span>()
    <span style="color: #d75fd7; font-weight: bold;">f</span>()
}
</pre>
</div>

<p>
输出:<br>
</p>

<pre class="example">
x (0xc42007c008) = 100
x (0xc42007c008) = 100
</pre>

<p>
在汇编层 ，test 实际返回的是 FuncVal 对象，其中包含了匿名函数地址、闭包对象指针。当调 匿名函数时，只需以某个寄存器传递该对象即可。<br>
</p>

<div class="org-src-container">
<pre class="src src-go">FuncVal { func_address, closure_var_pointer ... }
</pre>
</div>

<p>
外部引用函数参数局部变量<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#22806;&#37096;&#24341;&#29992;&#20989;&#25968;&#21442;&#25968;&#23616;&#37096;&#21464;&#37327;</span>
<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">add</span>(<span style="color: #8787d7;">base</span> <span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span> {
    <span style="color: #268bd2; font-weight: bold;">return</span> <span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #8787d7;">i</span> <span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span> {
        base += i
        <span style="color: #268bd2; font-weight: bold;">return</span> base
    }
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">tmp1</span> := <span style="color: #d75fd7; font-weight: bold;">add</span>(10)
    fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(<span style="color: #d75fd7; font-weight: bold;">tmp1</span>(1), <span style="color: #d75fd7; font-weight: bold;">tmp1</span>(2))
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#27492;&#26102;tmp1&#21644;tmp2&#19981;&#26159;&#19968;&#20010;&#23454;&#20307;&#20102;</span>
    <span style="color: #8787d7;">tmp2</span> := <span style="color: #d75fd7; font-weight: bold;">add</span>(100)
    fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(<span style="color: #d75fd7; font-weight: bold;">tmp2</span>(1), <span style="color: #d75fd7; font-weight: bold;">tmp2</span>(2))
}
</pre>
</div>

<pre class="example">
11 13
101 103
</pre>

<p>
返回2个闭包<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#36820;&#22238;2&#20010;&#20989;&#25968;&#31867;&#22411;&#30340;&#36820;&#22238;&#20540;</span>
<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">test01</span>(<span style="color: #8787d7;">base</span> <span style="color: #df005f; font-weight: bold;">int</span>) (<span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span>, <span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span>) {
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#23450;&#20041;2&#20010;&#20989;&#25968;&#65292;&#24182;&#36820;&#22238;</span>
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#30456;&#21152;</span>
    <span style="color: #8787d7;">add</span> := <span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #8787d7;">i</span> <span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span> {
        base += i
        <span style="color: #268bd2; font-weight: bold;">return</span> base
    }
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#30456;&#20943;</span>
    <span style="color: #8787d7;">sub</span> := <span style="color: #268bd2; font-weight: bold;">func</span>(<span style="color: #8787d7;">i</span> <span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span> {
        base -= i
        <span style="color: #268bd2; font-weight: bold;">return</span> base
    }
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#36820;&#22238;</span>
    <span style="color: #268bd2; font-weight: bold;">return</span> add, sub
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">f1</span>, <span style="color: #8787d7;">f2</span> := <span style="color: #d75fd7; font-weight: bold;">test01</span>(10)
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">base&#19968;&#30452;&#26159;&#27809;&#26377;&#28040;</span>
    fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(<span style="color: #d75fd7; font-weight: bold;">f1</span>(1), <span style="color: #d75fd7; font-weight: bold;">f2</span>(2))
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#27492;&#26102;base&#26159;9</span>
    fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(<span style="color: #d75fd7; font-weight: bold;">f1</span>(3), <span style="color: #d75fd7; font-weight: bold;">f2</span>(4))
}
</pre>
</div>

<pre class="example">
11 9
12 8
</pre>
</div>
</div>
<div id="outline-container-org9446c63" class="outline-2">
<h2 id="org9446c63">递归</h2>
<div class="outline-text-2" id="text-org9446c63">
<p>
递归，就是在运行的过程中调用自己。 一个函数调用自己，就叫做递归函数。<br>
</p>

<p>
构成递归需具备的条件：<br>
</p>

<ol class="org-ol">
<li>子问题须与原始问题为同样的事，且更为简单。<br></li>
<li>不能无限制地调用本身，须有个出口，化简为非递归状况处理。<br></li>
</ol>
</div>
<div id="outline-container-org36076bd" class="outline-3">
<h3 id="org36076bd">数字阶乘</h3>
<div class="outline-text-3" id="text-org36076bd">
<p>
一个正整数的阶乘（factorial）是所有小于及等于该数的正整数的积，并且0的阶乘为1。自然数n的阶乘写作n!。1808年，基斯顿·卡曼引进这个表示法。<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">factorial</span>(<span style="color: #8787d7;">i</span> <span style="color: #df005f; font-weight: bold;">int</span>) <span style="color: #df005f; font-weight: bold;">int</span> {
    <span style="color: #268bd2; font-weight: bold;">if</span> i &lt;= 1 {
        <span style="color: #268bd2; font-weight: bold;">return</span> 1
    }
    <span style="color: #268bd2; font-weight: bold;">return</span> i * <span style="color: #d75fd7; font-weight: bold;">factorial</span>(i-1)
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #268bd2; font-weight: bold;">var</span> <span style="color: #8787d7;">i</span> <span style="color: #df005f; font-weight: bold;">int</span> = 7
    fmt.<span style="color: #d75fd7; font-weight: bold;">Printf</span>(<span style="color: #2aa198;">"Factorial of %d is %d\n"</span>, i, <span style="color: #d75fd7; font-weight: bold;">factorial</span>(i))
}
</pre>
</div>

<p>
输出结果：<br>
</p>

<pre class="example">
Factorial of 7 is 5040
</pre>
</div>
</div>

<div id="outline-container-org293d425" class="outline-3">
<h3 id="org293d425">斐波那契数列</h3>
<div class="outline-text-3" id="text-org293d425">
</div>
<div id="outline-container-orgf31e882" class="outline-4">
<h4 id="orgf31e882">常见写法</h4>
<div class="outline-text-4" id="text-orgf31e882">
<p>
这个数列从第3项开始，每一项都等于前两项之和。<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">fibonacci</span>(<span style="color: #8787d7;">num</span> <span style="color: #df005f; font-weight: bold;">int</span>) {
    <span style="color: #8787d7;">b1</span> := 1
    <span style="color: #8787d7;">b2</span> := 0
    <span style="color: #8787d7;">bc</span> := 0

    <span style="color: #268bd2; font-weight: bold;">for</span> <span style="color: #8787d7;">i</span> := 0; i &lt; num; i++ {
        bc = b1 + b2
        b1 = b2
        b2 = bc
        fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(bc)
    }
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #d75fd7; font-weight: bold;">fibonacci</span>(10)
}
</pre>
</div>

<pre class="example">
1
1
2
3
5
8
13
21
34
55
</pre>
</div>
</div>
<div id="outline-container-org94cb1df" class="outline-4">
<h4 id="org94cb1df">使用函数变量</h4>
<div class="outline-text-4" id="text-org94cb1df">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">b1</span> := 1
    <span style="color: #8787d7;">b2</span> := 0
    <span style="color: #8787d7;">bc</span> := 0
    <span style="color: #8787d7;">fibonacci</span> := <span style="color: #268bd2; font-weight: bold;">func</span>() {
        bc = b1 + b2
        b1 = b2
        b2 = bc
        fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(bc)
    }
    <span style="color: #268bd2; font-weight: bold;">for</span> <span style="color: #8787d7;">i</span> := 0; i &lt; 10; i++ {
        <span style="color: #d75fd7; font-weight: bold;">fibonacci</span>()
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org796d863" class="outline-4">
<h4 id="org796d863">使用闭包</h4>
<div class="outline-text-4" id="text-org796d863">
<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">package</span> main

<span style="color: #268bd2; font-weight: bold;">import</span> <span style="color: #2aa198;">"fmt"</span>

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">fibonacci</span>() <span style="color: #268bd2; font-weight: bold;">func</span>() <span style="color: #df005f; font-weight: bold;">int</span> {
    <span style="color: #8787d7;">b1</span> := 1
    <span style="color: #8787d7;">b2</span> := 0
    <span style="color: #8787d7;">bc</span> := 0
    <span style="color: #268bd2; font-weight: bold;">return</span> <span style="color: #268bd2; font-weight: bold;">func</span>() <span style="color: #df005f; font-weight: bold;">int</span> {
        bc = b1 + b2
        b1 = b2
        b2 = bc
        <span style="color: #268bd2; font-weight: bold;">return</span> bc
    }
}

<span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #8787d7;">fn</span> := <span style="color: #d75fd7; font-weight: bold;">fibonacci</span>()
    <span style="color: #268bd2; font-weight: bold;">for</span> <span style="color: #8787d7;">i</span> := 0; i &lt; 10; i++ {
        fmt.<span style="color: #d75fd7; font-weight: bold;">Println</span>(<span style="color: #d75fd7; font-weight: bold;">fn</span>())
    }
}
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-02-09 23:02 Wed</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-07-01 Fri 11:48</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
