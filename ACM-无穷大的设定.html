<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-09-29 三 22:57 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>无穷大的设定</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">无穷大的设定</h1>
<pre class="example" id="org34131ef">
int型变量的取值范围：[-2^31, 2^31 - 1]  -&gt;  [-2147483648, 2147483647]
0x7fffffff = 2147483647
           = (2^31 - 1)
           = (1 &lt;&lt; 31) - 1

0x3fffffff = 1073741823
           = (2^30 - 1)
           = (1 &lt;&lt; 30) - 1
0x3f3f3f3f = 1061109567
</pre>

<p>
在写编程题目时常常需要用到无穷大，比如在求图的最短路径时，就需要先将源点到各点的最短距离设置为无穷大在十进制表示下，0x7fffffff = 2147483647，恰好等于int型变量的上界，所以在一些情况下用0x7fffffff表示无穷大是一个很好的选择
</p>
<ul class="org-ul">
<li>这些情况包括但不限于数的比较，min(num, 0x7fffffff)，一开始设置num是0x7fffffff，用这个式子判断是否num已改变</li>
</ul>
<p>
但是对于很多情况，设置无穷大为0x7fffffff并不能满足我们的需求，因为对于无穷大，加上一个数应该还是无穷大。而在计算机中，0x7fffffff加上一个数后会溢出，就不再是无穷大，还可能是负数。
</p>

<p>
这时候我们需要换个数来表示无穷大，我们这次选择0x3fffffff，这个数用十进制表示是(1 &lt;&lt; 30) - 1，因为一般场合下程序中的数据都是小于1e9的，而0x3fffffff = 1073741823 &gt; 1e9。那么这个数不仅满足了比程序中的任何数都大，而且0x3fffffff + 0x3fffffff = (1 &lt;&lt; 31) - 2小于int型的边界(1 &lt;&lt; 31) - 1 = 2147483647，同时满足了无穷大加上一个数还是无穷大
</p>

<p>
除了用0x3fffffff表示无穷大之外，我们还经常能看到用0x3f3f3f3f表示无穷大。其实和0x3fffffff一样，因为一般场合下的数据都是小于1e9的，而0x3f3f3f3f = 1061109567 &gt; 1e9。同样0x3f3f3f3f + 0x3f3f3f3f = 2122219134 &lt; int型的边界(1 &lt;&lt; 31) - 1 = 2147483647，也满足无穷大加上一个无穷大还是无穷大。不仅如此，如果要对一个数组全部赋值无穷大时，如果觉得使用循环麻烦，可以使用memset结合0x3f3f3f3f将数组全部赋值为无穷大，我们知道memset是按字节赋值的，它能够对数组清零(因为0的每个字节都是0)，或者全部赋值-1(因为-1在计算机中的表示形式为111&#x2026;,每个字节都是11111111)，由于0x3f3f3f3f的每个字节都是0x3f！所以要把一段内存全部设置为无穷大时，我们只需要memset(arr, 0x3f, sizeof(arr))
</p>

<p>
对于上述三种对无穷大的定义，除了第一种需要根据题目要求判断是否需要有无穷大加上一个数的操作来选择之外，选择哪种定义取决于个人喜好
</p>

<div class="org-src-container">
<pre class="src src-C++">#define INF1 0x7fffffff
#define INE2 0x3fffffff
#define INF3 0x3f3f3f3f
const int INF4 = 0x7fffffff;
const int INF5 = 0x3fffffff;
const int INF6 = 0x3f3f3f3f;
</pre>
</div>










<p>
long long Inf = (1LL &lt;&lt; 63) - 1;
</p>
</div>
</body>
</html>
