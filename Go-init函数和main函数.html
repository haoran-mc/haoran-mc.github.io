<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-02-10 Thu 23:43 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>INIT函数和MAIN函数</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">INIT函数和MAIN函数</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2ed1450">init 函数</a></li>
<li><a href="#org618399b">main 函数</a></li>
<li><a href="#org2ef2266">init 函数与 main 函数的异同</a></li>
<li><a href="#orgfe74a43">init 函数与 main 函数的执行顺序</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2ed1450" class="outline-2">
<h2 id="org2ed1450">init 函数</h2>
<div class="outline-text-2" id="text-org2ed1450">
<p>
go 语言中 init 函数用于包（package）的初始化，该函数是 go 语言的一个重要特性。<br>
</p>

<ol class="org-ol">
<li>init 函数是用于程序执行前做包的初始化的函数，比如初始化包里的变量等<br></li>
<li>每个包可以拥有多个 init 函数<br></li>
<li>包的每个源文件也可以拥有多个 init 函数<br></li>
<li>同一个包中多个 init 函数的执行顺序 go 语言没有明确的定义（说明）<br></li>
<li>不同包的 init 函数按照包导入的依赖关系决定该初始化函数的执行顺序<br></li>
<li>init 函数不能被其他函数调用，而是在 main 函数执行之前，自动被调用<br></li>
</ol>
</div>
</div>
<div id="outline-container-org618399b" class="outline-2">
<h2 id="org618399b">main 函数</h2>
<div class="outline-text-2" id="text-org618399b">
<p>
Go语言程序的默认入口函数(主函数)： <code>func main()</code> ，函数体用｛｝一对括号包裹。<br>
</p>

<div class="org-src-container">
<pre class="src src-go"><span style="color: #268bd2; font-weight: bold;">func</span> <span style="color: #d75fd7; font-weight: bold;">main</span>() {
    <span style="color: #008787; background-color: #262626;">// </span><span style="color: #008787; background-color: #262626;">&#20989;&#25968;&#20307;</span>
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org2ef2266" class="outline-2">
<h2 id="org2ef2266">init 函数与 main 函数的异同</h2>
<div class="outline-text-2" id="text-org2ef2266">
<p>
相同点：<br>
</p>
<ul class="org-ul">
<li>两个函数在定义时不能有任何的参数和返回值，且Go程序自动调用。<br></li>
</ul>

<p>
不同点：<br>
</p>
<ul class="org-ul">
<li>init可以应用于任意包中，且可以重复定义多个。<br></li>
<li>main函数只能用于main包中，且只能定义一个。<br></li>
</ul>
</div>
</div>

<div id="outline-container-orgfe74a43" class="outline-2">
<h2 id="orgfe74a43">init 函数与 main 函数的执行顺序</h2>
<div class="outline-text-2" id="text-orgfe74a43">
<ul class="org-ul">
<li>对同一个 go 文件的 init() 调用顺序是从上到下的。<br></li>
<li>对同一个 package 中不同文件是按文件名字符串比较"从小到大"顺序调用各文件中的 init() 函数。<br></li>
<li>对于不同的 package，如果不相互依赖的话，按照 main 包中"先 import 的后调用"的顺序调用其包中的 init()，如果 package 存在依赖，则先调用最早被依赖的 package 中的 init()，最后调用 main 函数。<br></li>
<li>如果 init 函数中使用了 println() 或者 print() 你会发现在执行过程中这两个不会按照你想象中的顺序执行。这两个函数官方只推荐在测试环境中使用，对于正式环境不要使用。<br></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-02-10 23:02 Thu</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-02-10 Thu 23:43</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
