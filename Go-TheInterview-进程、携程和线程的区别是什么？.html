<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2022-05-09 Mon 14:52 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>进程、携程和线程的区别是什么？</title>
<meta name="generator" content="Org mode">
<meta name="author" content="L.M.haoran">
<meta name="description" content="Copyright © 2022，L.M.haoran，all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">进程、携程和线程的区别是什么？</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb165258">概念</a></li>
<li><a href="#orgb26abb2">线程与进程的区别:</a></li>
<li><a href="#org1805f7b">协程与线程的区别:</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgb165258" class="outline-2">
<h2 id="orgb165258">概念</h2>
<div class="outline-text-2" id="text-orgb165258">
<ol class="org-ol">
<li>进程<br>
进程是具有一定独立功能的程序关于某个数据集合上的一次运行活动，进程是系统进行资源分配和调度的一个独立单位。每个进程都有自己的独立内存空间，不同进程通过进程间通信来通信。由于进程比较重量，占据独立的内存，所以上下文进程间的切换开销（栈、寄存器、虚拟内存、文件句柄等）比较大，但相对比较稳定安全。<br></li>
<li>线程<br>
线程是指进程内的一个执行单元，也是进程内的可调度实体。线程是进程的一个实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位。线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源（如程序计数器，一组寄存器和栈），但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。线程间通信主要通过共享内存，上下文切换很快，资源开销较少， <span class="underline">但相比进程不够稳定容易丢失数据</span> 。<br></li>
<li>协程<br>
协程是一种用户态的轻量级线程，协程的调度完全由用户控制。从技术的角度来说，“协程就是你可以暂停执行的函数”。协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他地方，在切回来的时候，恢复先前保存的寄存器上下文和栈，直接操作栈则基本没有内核切换的开销，可以不加锁的访问全局变量，所以上下文的切换非常快。<br></li>
</ol>
</div>
</div>
<div id="outline-container-orgb26abb2" class="outline-2">
<h2 id="orgb26abb2">线程与进程的区别:</h2>
<div class="outline-text-2" id="text-orgb26abb2">
<ol class="org-ol">
<li>地址空间：线程是进程内的一个执行单元，进程内至少有一个线程，它们共享进程的地址空间，而进程有自己独立的地址空间<br></li>
<li>资源拥有：进程是资源分配和拥有的单位，同一个进程内的线程共享进程的资源<br></li>
<li>线程是处理器调度的基本单位，但进程不是<br></li>
<li>二者均可并发执行<br></li>

<li>每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口，但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制<br></li>
</ol>
</div>
</div>
<div id="outline-container-org1805f7b" class="outline-2">
<h2 id="org1805f7b">协程与线程的区别:</h2>
<div class="outline-text-2" id="text-org1805f7b">
<ol class="org-ol">
<li>一个线程可以多个协程，一个进程也可以单独拥有多个协程。<br></li>
<li>线程进程都是同步机制，而协程则是异步。<br></li>
<li>协程能保留上一次调用时的状态，每次过程重入时，就相当于进入上一次调用的状态。<br></li>
<li><span class="underline">线程是抢占式，而协程是非抢占式的</span> ，所以需要用户自己释放使用权来切换到其他协程，因此同一时间其实只有一个协程拥有运行权，相当于单线程的能力。<br></li>
<li>协程并不是取代线程，而且抽象于线程之上，线程是被分割的CPU资源，协程是组织好的代码流程，协程需要线程来承载运行，线程是协程的资源，但协程不会直接使用线程，协程直接利用的是执行器（Interceptor），执行器可以关联任意线程或线程池，可以使当前线程，UI线程，或新建新程。<br></li>
<li>线程是协程的资源，协程通过 Interceptor 来间接使用线程这个资源。<br></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-03-26 20:03 Sat</p>
<p class="author">Author: L.M.haoran</p>
<p class="date">Created: 2022-05-09 Mon 14:52</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
