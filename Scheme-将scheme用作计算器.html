<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2021-10-04 一 18:44 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>将scheme用作计算器</title>
<meta name="generator" content="Org mode">
<meta name="author" content="haoran">
<meta name="description" content="Copyright © 2021, L.M.haoran, all rights reserved."
>

                <link rel="stylesheet" href="static/css/org.css" type="text/css"  />
                <script type="module" src="static/js/main.js" defer></script>
                <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content">
<h1 class="title">将scheme用作计算器</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgadc2b95">简介</a>
<ul>
<li><a href="#org94c8620">关键字</a></li>
<li><a href="#org448212b">简介</a></li>
</ul>
</li>
<li><a href="#org5e911df">变量类型</a>
<ul>
<li><a href="#org7555237">数字型</a></li>
</ul>
</li>
<li><a href="#org0777994">四种基本算数操作</a></li>
<li><a href="#org6f7a5bd">其他算数操作</a>
<ul>
<li><a href="#orgf338076">quotient</a></li>
<li><a href="#orgbf15378">remainder</a></li>
<li><a href="#org8dd451f">modulo</a></li>
<li><a href="#orgbbafdb0">sqrt</a></li>
<li><a href="#org3853dae">三角函数</a></li>
<li><a href="#org5e15258">指数与对数</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-orgadc2b95" class="outline-2">
<h2 id="orgadc2b95">简介</h2>
<div class="outline-text-2" id="text-orgadc2b95">
</div>
<div id="outline-container-org94c8620" class="outline-3">
<h3 id="org94c8620">关键字</h3>
<div class="outline-text-3" id="text-org94c8620">
<ul class="org-ul">
<li>+<br></li>
<li>-<br></li>
<li>*<br></li>
<li>/<br></li>
<li>exact-&gt;inexact<br></li>
<li>quotient<br></li>
<li>remainder<br></li>
<li>modulo<br></li>
<li>sqrt<br></li>
<li>sin<br></li>
<li>cos<br></li>
<li>tan<br></li>
<li>asin<br></li>
<li>acos<br></li>
<li>atan<br></li>
<li>exp<br></li>
<li>expt<br></li>
<li>log<br></li>
</ul>
</div>
</div>
<div id="outline-container-org448212b" class="outline-3">
<h3 id="org448212b">简介</h3>
<div class="outline-text-3" id="text-org448212b">
<div class="org-src-container">
<pre class="src src-scheme">(+ <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">4</span>)
</pre>
</div>

<ol class="org-ol">
<li>一对括号代表了一次计算的步骤<br></li>
<li>左括号后紧跟着一个函数的名字，然后是参数，Scheme中大多数的操作符都是函数。在本例中，函数+首先出现，然后紧跟两个参数：3和4<br></li>
<li>标记的分隔符是 <b><b>空格(space)</b></b> 、 <b><b>制表符(Tab)</b></b> 或者 <b><b>换行符(Newline)</b></b> , 逗号与分号不是分隔符<br></li>
</ol>

<p>
我们来详细地分析计算过程。在这个函数中，当所有的参数被求值后，计算开始处理。对参数的求值顺序是没有被规范的，也就是说，参数并不是总是会从左到右求值。<br>
</p>

<ol class="org-ol">
<li>符号+被求值为加法过程。仅在前端输入+，解释器会返回：[arity-dispatched-procedure 1] 这表明+是代表“过程1”的一个符号<br></li>
<li>对1求值得到1。通常来说，对布尔值，数字，字符以及字符串求值的结果就是它们本身。另一方面，对符号求值的结果可能是一些它的东西。<br></li>
<li>对2求值得到2。<br></li>
<li>最后，对(+ 1 2)求值得到3并跳出括号。在Scheme中，求得的值会跳出括号外，并且这个值（表达式的最终值）会被打印到前端。<br></li>

<li>函数+可以接受任意多的参数。<br></li>
</ol>
<div class="org-src-container">
<pre class="src src-scheme">(+)       <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 0</span>
(+ <span style="color: #009F9F;">1</span>)     <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
(+ <span style="color: #009F9F;">1</span> <span style="color: #009F9F;">2</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 3</span>
(+ <span style="color: #009F9F;">1</span> <span style="color: #009F9F;">2</span> <span style="color: #009F9F;">3</span>) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 6</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5e911df" class="outline-2">
<h2 id="org5e911df">变量类型</h2>
<div class="outline-text-2" id="text-org5e911df">
</div>
<div id="outline-container-org7555237" class="outline-3">
<h3 id="org7555237">数字型</h3>
<div class="outline-text-3" id="text-org7555237">
<dl class="org-dl">
<dt>复数型(complex)</dt><dd>(define c 3+2i)<br></dd>
<dt>实数型(real)</dt><dd>(define f 22/7)<br></dd>
<dt>有理数型(rational)</dt><dd>(define p 3.1415)<br></dd>
<dt>整数型(integer)</dt><dd>(define i 123)<br></dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-org0777994" class="outline-2">
<h2 id="org0777994">四种基本算数操作</h2>
<div class="outline-text-2" id="text-org0777994">
<p>
Scheme（以及大多数Lisp方言）都可以处理分数。<br>
</p>

<p>
函数exact-&gt;inexact 用于把分数转换为浮点数。Scheme也可以处理复数。复数是形如a+bi的数，此处a称为实部，b称为虚部。+、-、*和/分别代表加、减、乘、除。这些函数都接受任意多的参数。<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(- <span style="color: #009F9F;">10</span> <span style="color: #009F9F;">3</span>)    <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 7</span>
(- <span style="color: #009F9F;">10</span> <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">5</span>)  <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 2</span>
(* <span style="color: #009F9F;">2</span> <span style="color: #009F9F;">3</span>)     <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 6</span>
(* <span style="color: #009F9F;">2</span> <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">4</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 24</span>
(/ <span style="color: #009F9F;">29</span> <span style="color: #009F9F;">3</span>)    <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 29/3</span>
(/ <span style="color: #009F9F;">29</span> <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">7</span>)  <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 29/21</span>
(/ <span style="color: #009F9F;">9</span> <span style="color: #009F9F;">6</span>)     <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 3/2</span>
(exact-&gt;inexact (/ <span style="color: #009F9F;">29</span> <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">7</span>)) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1.380952380952381</span>
(exact -&gt; inexact (/ <span style="color: #009F9F;">29</span> <span style="color: #009F9F;">3</span> <span style="color: #009F9F;">7</span>)) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">wrong</span>
</pre>
</div>

<p>
括号可以像下面这样嵌套：<br>
</p>
<pre class="example">
(* (+ 2 3) (- 5 3)) ;→ 10
(/ (+ 9 1) (+ 2 3)) ;→ 2
</pre>

<p>
形如这些由括号、标记（token）以及分隔符组成的式子，被称为 <b><b>S-表达式</b></b><br>
</p>
</div>
</div>
<div id="outline-container-org6f7a5bd" class="outline-2">
<h2 id="org6f7a5bd">其他算数操作</h2>
<div class="outline-text-2" id="text-org6f7a5bd">
<p>
quotient，remainder，modulo和sqrt<br>
</p>

<ul class="org-ul">
<li>函数quotient用于求商数(quotient)<br></li>
<li>函数remainder和modulo用于求余数(remainder)<br></li>
<li>函数sqrt用于求参数的平方根(square root)<br></li>
</ul>

<div class="org-src-container">
<pre class="src src-scheme">(quotient <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 2</span>
(modulo <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
(sqrt <span style="color: #009F9F;">8</span>)       <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 2.8284271247461903</span>
</pre>
</div>
</div>
<div id="outline-container-orgf338076" class="outline-3">
<h3 id="orgf338076">quotient</h3>
<div class="outline-text-3" id="text-orgf338076">
<p>
函数quotient用于求商数（quotient）<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(quotient <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 2</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbf15378" class="outline-3">
<h3 id="orgbf15378">remainder</h3>
<div class="outline-text-3" id="text-orgbf15378">
<p>
函数remainder和modulo用于求余数(remainder)<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(remainder <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
(modulo <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8dd451f" class="outline-3">
<h3 id="org8dd451f">modulo</h3>
<div class="outline-text-3" id="text-org8dd451f">
<p>
函数remainder和modulo用于求余数(remainder)<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(remainder <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
(modulo <span style="color: #009F9F;">7</span> <span style="color: #009F9F;">3</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbbafdb0" class="outline-3">
<h3 id="orgbbafdb0">sqrt</h3>
<div class="outline-text-3" id="text-orgbbafdb0">
<p>
函数sqrt用于求参数的平方根(square root)<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(sqrt <span style="color: #009F9F;">8</span>)       <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 2.8284271247461903</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3853dae" class="outline-3">
<h3 id="org3853dae">三角函数</h3>
<div class="outline-text-3" id="text-org3853dae">
<p>
数学上的三角函数，诸如sin，cos，tan，asin，acos和atan都可以在Scheme中使用。atan接受1个或2个参数。如果期望atan的结果是1/2 π，就使用第二个参数指明使用弧度制<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(atan <span style="color: #009F9F;">1</span>)   <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 0.7853981633974483</span>
(atan <span style="color: #009F9F;">1</span> <span style="color: #009F9F;">0</span>) <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">&#8594; 1.5707963267948966</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5e15258" class="outline-3">
<h3 id="org5e15258">指数与对数</h3>
<div class="outline-text-3" id="text-org5e15258">
<p>
指数通过exp函数运算，对数通过log函数运算。a的b次幂可以通过(expt a b)来计算<br>
</p>
<div class="org-src-container">
<pre class="src src-scheme">(exp <span style="color: #009F9F;">1</span>)     <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">e^1 == 2.718281828459045</span>
(expt <span style="color: #009F9F;">2</span> <span style="color: #009F9F;">3</span>)  <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">-&gt; 8</span>
(log <span style="color: #009F9F;">1</span>)     <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">-&gt; 0</span>
(log <span style="color: #009F9F;">10</span>)    <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">log_e 10 == 2.302585092994046</span>
(log <span style="color: #009F9F;">16</span> <span style="color: #009F9F;">4</span>)  <span style="color: #7c7c7c; font-style: italic;">;</span><span style="color: #7c7c7c; font-style: italic;">-&gt; 2.0</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
